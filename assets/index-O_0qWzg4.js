(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function kb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cd={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Ib(){if(Uv)return lo;Uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return lo.Fragment=t,lo.jsx=i,lo.jsxs=i,lo}var zv;function Nb(){return zv||(zv=1,cd.exports=Ib()),cd.exports}var w=Nb(),hd={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function xb(){if(Bv)return Ot;Bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Q={};function Y(k,$,nt){this.props=k,this.context=$,this.refs=Q,this.updater=nt||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},Y.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function at(){}at.prototype=Y.prototype;function ct(k,$,nt){this.props=k,this.context=$,this.refs=Q,this.updater=nt||P}var rt=ct.prototype=new at;rt.constructor=ct,G(rt,Y.prototype),rt.isPureReactComponent=!0;var gt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function x(k,$,nt,tt,ft,Dt){return nt=Dt.ref,{$$typeof:r,type:k,key:$,ref:nt!==void 0?nt:null,props:Dt}}function S(k,$){return x(k.type,$,void 0,void 0,void 0,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function I(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(nt){return $[nt]})}var V=/\/+/g;function M(k,$){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):$.toString(36)}function C(){}function ae(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Zt(k,$,nt,tt,ft){var Dt=typeof k;(Dt==="undefined"||Dt==="boolean")&&(k=null);var pt=!1;if(k===null)pt=!0;else switch(Dt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(k.$$typeof){case r:case t:pt=!0;break;case E:return pt=k._init,Zt(pt(k._payload),$,nt,tt,ft)}}if(pt)return ft=ft(k),pt=tt===""?"."+M(k,0):tt,gt(ft)?(nt="",pt!=null&&(nt=pt.replace(V,"$&/")+"/"),Zt(ft,$,nt,"",function(ke){return ke})):ft!=null&&(D(ft)&&(ft=S(ft,nt+(ft.key==null||k&&k.key===ft.key?"":(""+ft.key).replace(V,"$&/")+"/")+pt)),$.push(ft)),1;pt=0;var ue=tt===""?".":tt+":";if(gt(k))for(var qt=0;qt<k.length;qt++)tt=k[qt],Dt=ue+M(tt,qt),pt+=Zt(tt,$,nt,Dt,ft);else if(qt=O(k),typeof qt=="function")for(k=qt.call(k),qt=0;!(tt=k.next()).done;)tt=tt.value,Dt=ue+M(tt,qt++),pt+=Zt(tt,$,nt,Dt,ft);else if(Dt==="object"){if(typeof k.then=="function")return Zt(ae(k),$,nt,tt,ft);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pt}function z(k,$,nt){if(k==null)return k;var tt=[],ft=0;return Zt(k,tt,"","",function(Dt){return $.call(nt,Dt,ft++)}),tt}function it(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(nt){(k._status===0||k._status===-1)&&(k._status=1,k._result=nt)},function(nt){(k._status===0||k._status===-1)&&(k._status=2,k._result=nt)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var ut=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Rt(){}return Ot.Children={map:z,forEach:function(k,$,nt){z(k,function(){$.apply(this,arguments)},nt)},count:function(k){var $=0;return z(k,function(){$++}),$},toArray:function(k){return z(k,function($){return $})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ot.Component=Y,Ot.Fragment=i,Ot.Profiler=l,Ot.PureComponent=ct,Ot.StrictMode=a,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ht.H.useMemoCache(k)}},Ot.cache=function(k){return function(){return k.apply(null,arguments)}},Ot.cloneElement=function(k,$,nt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var tt=G({},k.props),ft=k.key,Dt=void 0;if($!=null)for(pt in $.ref!==void 0&&(Dt=void 0),$.key!==void 0&&(ft=""+$.key),$)!_t.call($,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&$.ref===void 0||(tt[pt]=$[pt]);var pt=arguments.length-2;if(pt===1)tt.children=nt;else if(1<pt){for(var ue=Array(pt),qt=0;qt<pt;qt++)ue[qt]=arguments[qt+2];tt.children=ue}return x(k.type,ft,void 0,void 0,Dt,tt)},Ot.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ot.createElement=function(k,$,nt){var tt,ft={},Dt=null;if($!=null)for(tt in $.key!==void 0&&(Dt=""+$.key),$)_t.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ft[tt]=$[tt]);var pt=arguments.length-2;if(pt===1)ft.children=nt;else if(1<pt){for(var ue=Array(pt),qt=0;qt<pt;qt++)ue[qt]=arguments[qt+2];ft.children=ue}if(k&&k.defaultProps)for(tt in pt=k.defaultProps,pt)ft[tt]===void 0&&(ft[tt]=pt[tt]);return x(k,Dt,void 0,void 0,null,ft)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(k){return{$$typeof:m,render:k}},Ot.isValidElement=D,Ot.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:it}},Ot.memo=function(k,$){return{$$typeof:y,type:k,compare:$===void 0?null:$}},Ot.startTransition=function(k){var $=ht.T,nt={};ht.T=nt;try{var tt=k(),ft=ht.S;ft!==null&&ft(nt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Rt,ut)}catch(Dt){ut(Dt)}finally{ht.T=$}},Ot.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Ot.use=function(k){return ht.H.use(k)},Ot.useActionState=function(k,$,nt){return ht.H.useActionState(k,$,nt)},Ot.useCallback=function(k,$){return ht.H.useCallback(k,$)},Ot.useContext=function(k){return ht.H.useContext(k)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(k,$){return ht.H.useDeferredValue(k,$)},Ot.useEffect=function(k,$,nt){var tt=ht.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(k,$)},Ot.useId=function(){return ht.H.useId()},Ot.useImperativeHandle=function(k,$,nt){return ht.H.useImperativeHandle(k,$,nt)},Ot.useInsertionEffect=function(k,$){return ht.H.useInsertionEffect(k,$)},Ot.useLayoutEffect=function(k,$){return ht.H.useLayoutEffect(k,$)},Ot.useMemo=function(k,$){return ht.H.useMemo(k,$)},Ot.useOptimistic=function(k,$){return ht.H.useOptimistic(k,$)},Ot.useReducer=function(k,$,nt){return ht.H.useReducer(k,$,nt)},Ot.useRef=function(k){return ht.H.useRef(k)},Ot.useState=function(k){return ht.H.useState(k)},Ot.useSyncExternalStore=function(k,$,nt){return ht.H.useSyncExternalStore(k,$,nt)},Ot.useTransition=function(){return ht.H.useTransition()},Ot.version="19.1.0",Ot}var qv;function Tm(){return qv||(qv=1,hd.exports=xb()),hd.exports}var bt=Tm(),fd={exports:{}},oo={},dd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Vb(){return Hv||(Hv=1,function(r){function t(z,it){var ut=z.length;z.push(it);t:for(;0<ut;){var Rt=ut-1>>>1,k=z[Rt];if(0<l(k,it))z[Rt]=it,z[ut]=k,ut=Rt;else break t}}function i(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var it=z[0],ut=z.pop();if(ut!==it){z[0]=ut;t:for(var Rt=0,k=z.length,$=k>>>1;Rt<$;){var nt=2*(Rt+1)-1,tt=z[nt],ft=nt+1,Dt=z[ft];if(0>l(tt,ut))ft<k&&0>l(Dt,tt)?(z[Rt]=Dt,z[ft]=ut,Rt=ft):(z[Rt]=tt,z[nt]=ut,Rt=nt);else if(ft<k&&0>l(Dt,ut))z[Rt]=Dt,z[ft]=ut,Rt=ft;else break t}}return it}function l(z,it){var ut=z.sortIndex-it.sortIndex;return ut!==0?ut:z.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,b=null,O=3,P=!1,G=!1,Q=!1,Y=!1,at=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function gt(z){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=z)a(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=i(y)}}function ht(z){if(Q=!1,gt(z),!G)if(i(p)!==null)G=!0,_t||(_t=!0,M());else{var it=i(y);it!==null&&Zt(ht,it.startTime-z)}}var _t=!1,x=-1,S=5,D=-1;function I(){return Y?!0:!(r.unstable_now()-D<S)}function V(){if(Y=!1,_t){var z=r.unstable_now();D=z;var it=!0;try{t:{G=!1,Q&&(Q=!1,ct(x),x=-1),P=!0;var ut=O;try{e:{for(gt(z),b=i(p);b!==null&&!(b.expirationTime>z&&I());){var Rt=b.callback;if(typeof Rt=="function"){b.callback=null,O=b.priorityLevel;var k=Rt(b.expirationTime<=z);if(z=r.unstable_now(),typeof k=="function"){b.callback=k,gt(z),it=!0;break e}b===i(p)&&a(p),gt(z)}else a(p);b=i(p)}if(b!==null)it=!0;else{var $=i(y);$!==null&&Zt(ht,$.startTime-z),it=!1}}break t}finally{b=null,O=ut,P=!1}it=void 0}}finally{it?M():_t=!1}}}var M;if(typeof rt=="function")M=function(){rt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ae=C.port2;C.port1.onmessage=V,M=function(){ae.postMessage(null)}}else M=function(){at(V,0)};function Zt(z,it){x=at(function(){z(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(z){switch(O){case 1:case 2:case 3:var it=3;break;default:it=O}var ut=O;O=it;try{return z()}finally{O=ut}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(z,it){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ut=O;O=z;try{return it()}finally{O=ut}},r.unstable_scheduleCallback=function(z,it,ut){var Rt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Rt+ut:Rt):ut=Rt,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ut+k,z={id:E++,callback:it,priorityLevel:z,startTime:ut,expirationTime:k,sortIndex:-1},ut>Rt?(z.sortIndex=ut,t(y,z),i(p)===null&&z===i(y)&&(Q?(ct(x),x=-1):Q=!0,Zt(ht,ut-Rt))):(z.sortIndex=k,t(p,z),G||P||(G=!0,_t||(_t=!0,M()))),z},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(z){var it=O;return function(){var ut=O;O=it;try{return z.apply(this,arguments)}finally{O=ut}}}}(md)),md}var Gv;function Mb(){return Gv||(Gv=1,dd.exports=Vb()),dd.exports}var gd={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function jb(){if(Fv)return ln;Fv=1;var r=Tm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},ln.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:P}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:O,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},ln.requestFormReset=function(p){a.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var Yv;function Pb(){if(Yv)return gd.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=jb(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Lb(){if(Kv)return oo;Kv=1;var r=Mb(),t=Tm(),i=Pb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),e;if(f===o)return m(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,o=f;break}if(T===o){_=!0,o=h,s=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===s){_=!0,s=f,o=h;break}if(T===o){_=!0,o=f,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Y:return"Profiler";case Q:return"StrictMode";case ht:return"Suspense";case _t:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var Zt=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Rt=[],k=-1;function $(e){return{current:e}}function nt(e){0>k||(e.current=Rt[k],Rt[k]=null,k--)}function tt(e,n){k++,Rt[k]=e.current,e.current=n}var ft=$(null),Dt=$(null),pt=$(null),ue=$(null);function qt(e,n){switch(tt(pt,n),tt(Dt,e),tt(ft,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dv(n),e=mv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),tt(ft,e)}function ke(){nt(ft),nt(Dt),nt(pt)}function Mn(e){e.memoizedState!==null&&tt(ue,e);var n=ft.current,s=mv(n,e.type);n!==s&&(tt(Dt,e),tt(ft,s))}function Sn(e){Dt.current===e&&(nt(ft),nt(Dt)),ue.current===e&&(nt(ue),no._currentValue=ut)}var jn=Object.prototype.hasOwnProperty,Jn=r.unstable_scheduleCallback,ne=r.unstable_cancelCallback,ti=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Fe=r.unstable_now,Ka=r.unstable_getCurrentPriorityLevel,fr=r.unstable_ImmediatePriority,dr=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,ol=r.unstable_LowPriority,Mi=r.unstable_IdlePriority,ia=r.log,Qa=r.unstable_setDisableYieldValue,ce=null,Ft=null;function hn(e){if(typeof ia=="function"&&Qa(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ce,e)}catch{}}var be=Math.clz32?Math.clz32:ji,ra=Math.log,Xa=Math.LN2;function ji(e){return e>>>=0,e===0?32:31-(ra(e)/Xa|0)|0}var Pn=256,fi=4194304;function wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=wn(o):(_&=T,_!==0?h=wn(_):s||(s=T&~e,s!==0&&(h=wn(s))))):(T=o&~f,T!==0?h=wn(T):_!==0?h=wn(_):s||(s=o&~e,s!==0&&(h=wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function di(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Li(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var e=Pn;return Pn<<=1,(Pn&4194048)===0&&(Pn=256),e}function mr(){var e=fi;return fi<<=1,(fi&62914560)===0&&(fi=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ln(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,n,s,o,h,f){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,B=e.hiddenUpdates;for(s=_&~s;0<s;){var K=31-be(s),Z=1<<K;T[K]=0,R[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}s&=~Z}o!==0&&le(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function le(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function mi(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-be(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Ht(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ye(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gi(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:xv(e.type))}function gr(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var ie=Math.random().toString(36).slice(2),ye="__reactFiber$"+ie,he="__reactProps$"+ie,Ke="__reactContainer$"+ie,Ui="__reactEvents$"+ie,sa="__reactListeners$"+ie,Un="__reactHandles$"+ie,$a="__reactResources$"+ie,ni="__reactMarker$"+ie;function ii(e){delete e[ye],delete e[he],delete e[Ui],delete e[sa],delete e[Un]}function ri(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ke]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=vv(e);e!==null;){if(s=e[ye])return s;e=vv(e)}return n}e=s,s=e.parentNode}return null}function zn(e){if(e=e[ye]||e[Ke]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function At(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Nt(e){var n=e[$a];return n||(n=e[$a]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(e){e[ni]=!0}var Qe=new Set,Pe={};function fn(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(Pe[e]=n,e=0;e<n.length;e++)Qe.add(n[e])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},la={};function Bo(e){return jn.call(la,e)?!0:jn.call(zo,e)?!1:Za.test(e)?la[e]=!0:(zo[e]=!0,!1)}function pr(e,n,s){if(Bo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Xe(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var oa,qo;function zi(e){if(oa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);oa=n&&n[1]||"",qo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+qo}var Wa=!1;function Ja(e,n){if(!e||Wa)return"";Wa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){q=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var R=_.split(`
`),B=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===B.length)for(o=R.length-1,h=B.length-1;1<=o&&0<=h&&R[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==B[h]){var K=`
`+R[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{Wa=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?zi(s):""}function ul(e){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ja(e.type,!1);case 11:return Ja(e.type.render,!1);case 1:return Ja(e.type,!0);case 31:return zi("Activity");default:return""}}function ts(e){try{var n="";do n+=ul(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dh(e){var n=cl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){e._valueTracker||(e._valueTracker=dh(e))}function hl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mh=/[\n"\\]/g;function we(e){return e.replace(mh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Rn(e,n,s,o,h,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?yr(e,_,dn(n)):s!=null?yr(e,_,dn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+dn(T):e.removeAttribute("name")}function ca(e,n,s,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function yr(e,n,s){n==="number"&&ua(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Bi(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Wt(e,n,s){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+dn(s):""}function ha(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Zt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=dn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fa.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function fl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ho(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ho(e,f,n[f])}function dl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qi=null;function qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Gi=null;function ml(e){var n=zn(e);if(n&&(e=n.stateNode)){var s=e[he]||null;t:switch(e=n.stateNode,n.type){case"input":if(Rn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[he]||null;if(!h)throw Error(a(90));Rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hl(o)}break t;case"textarea":Wt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Bi(e,!!s.multiple,n,!1)}}}var yi=!1;function Go(e,n,s){if(yi)return e(n,s);yi=!0;try{var o=e(n);return o}finally{if(yi=!1,(Hi!==null||Gi!==null)&&(Pu(),Hi&&(n=Hi,e=Gi,Gi=Hi=null,ml(n),e)))for(n=0;n<e.length;n++)ml(e[n])}}function da(e,n){var s=e.stateNode;if(s===null)return null;var o=s[he]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(si)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Hn=!1}var vi=null,vr=null,Fi=null;function gl(){if(Fi)return Fi;var e,n=vr,s=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===h[f-o];o++);return Fi=h.slice(e,1<o?1-o:void 0)}function _i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ei(){return!0}function pl(){return!1}function Le(e){function n(s,o,h,f,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ei:pl,this.isPropagationStopped=pl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),n}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Le(Kt),ga=E({},Kt,{view:0,detail:0}),Fo=Le(ga),rs,as,Ti,pa=E({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(rs=e.screenX-Ti.screenX,as=e.screenY-Ti.screenY):as=rs=0,Ti=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:as}}),Gn=Le(pa),Yo=E({},pa,{dataTransfer:0}),yh=Le(Yo),ya=E({},ga,{relatedTarget:0}),ss=Le(ya),yl=E({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Le(yl),Ko=E({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),os=Le(Ko),vh=E({},Kt,{data:0}),vl=Le(vh),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xo[e])?!!n[e]:!1}function _a(){return _l}var $o=E({},ga,{key:function(e){if(e.key){var n=va[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),us=Le($o),Zo=E({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Le(Zo),Yi=E({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Wo=Le(Yi),Jo=E({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=Le(Jo),eu=E({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Le(eu),mn=E({},Kt,{newState:0,oldState:0}),nu=Le(mn),iu=[9,13,27,32],Ai=si&&"CompositionEvent"in window,u=null;si&&"documentMode"in document&&(u=document.documentMode);var g=si&&"TextEvent"in window&&!u,v=si&&(!Ai||u&&8<u&&11>=u),A=" ",L=!1;function F(e,n){switch(e){case"keyup":return iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ie(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function Lt(e,n){if(Pt)return e==="compositionend"||!Ai&&F(e,n)?(e=gl(),Fi=vr=vi=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ue[e.type]:n==="textarea"}function Ki(e,n,s,o){Hi?Gi?Gi.push(o):Gi=[o]:Hi=o,n=Hu(n,"onChange"),0<n.length&&(s=new is("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var $e=null,bi=null;function Tl(e){ov(e,0)}function ru(e){var n=At(e);if(hl(n))return e}function Og(e,n){if(e==="change")return n}var kg=!1;if(si){var _h;if(si){var Eh="oninput"in document;if(!Eh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Eh=typeof Ig.oninput=="function"}_h=Eh}else _h=!1;kg=_h&&(!document.documentMode||9<document.documentMode)}function Ng(){$e&&($e.detachEvent("onpropertychange",xg),bi=$e=null)}function xg(e){if(e.propertyName==="value"&&ru(bi)){var n=[];Ki(n,bi,e,qn(e)),Go(Tl,n)}}function sA(e,n,s){e==="focusin"?(Ng(),$e=n,bi=s,$e.attachEvent("onpropertychange",xg)):e==="focusout"&&Ng()}function lA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(bi)}function oA(e,n){if(e==="click")return ru(n)}function uA(e,n){if(e==="input"||e==="change")return ru(n)}function cA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:cA;function Al(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!jn.call(n,h)||!Dn(e[h],n[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,n){var s=Vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vg(s)}}function jg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ua(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ua(e.document)}return n}function Th(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hA=si&&"documentMode"in document&&11>=document.documentMode,hs=null,Ah=null,bl=null,bh=!1;function Lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bh||hs==null||hs!==ua(o)||(o=hs,"selectionStart"in o&&Th(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bl&&Al(bl,o)||(bl=o,o=Hu(Ah,"onSelect"),0<o.length&&(n=new is("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=hs)))}function Ea(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fs={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Sh={},Ug={};si&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Ta(e){if(Sh[e])return Sh[e];if(!fs[e])return e;var n=fs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ug)return Sh[e]=n[s];return e}var zg=Ta("animationend"),Bg=Ta("animationiteration"),qg=Ta("animationstart"),fA=Ta("transitionrun"),dA=Ta("transitionstart"),mA=Ta("transitioncancel"),Hg=Ta("transitionend"),Gg=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function li(e,n){Gg.set(e,n),fn(n,[e])}var Fg=new WeakMap;function Fn(e,n){if(typeof e=="object"&&e!==null){var s=Fg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ts(n)},Fg.set(e,n),n)}return{value:e,source:n,stack:ts(n)}}var Yn=[],ds=0,Rh=0;function au(){for(var e=ds,n=Rh=ds=0;n<e;){var s=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Yg(s,h,f)}}function su(e,n,s,o){Yn[ds++]=e,Yn[ds++]=n,Yn[ds++]=s,Yn[ds++]=o,Rh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,s,o){return su(e,n,s,o),lu(e)}function ms(e,n){return su(e,null,null,n),lu(e)}function Yg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function lu(e){if(50<Ql)throw Ql=0,Vf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gs={};function gA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,s,o){return new gA(e,n,s,o)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=Cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Kg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ou(e,n,s,o,h,f){var _=0;if(o=e,typeof e=="function")Ch(e)&&(_=1);else if(typeof e=="string")_=yb(e,s,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=Cn(31,s,n,h),e.elementType=D,e.lanes=f,e;case G:return Aa(s.children,h,f,n);case Q:_=8,h|=24;break;case Y:return e=Cn(12,s,n,h|2),e.elementType=Y,e.lanes=f,e;case ht:return e=Cn(13,s,n,h),e.elementType=ht,e.lanes=f,e;case _t:return e=Cn(19,s,n,h),e.elementType=_t,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:case rt:_=10;break t;case ct:_=9;break t;case gt:_=11;break t;case x:_=14;break t;case S:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Cn(_,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Aa(e,n,s,o){return e=Cn(7,e,o,n),e.lanes=s,e}function Oh(e,n,s){return e=Cn(6,e,null,n),e.lanes=s,e}function kh(e,n,s){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ps=[],ys=0,uu=null,cu=0,Kn=[],Qn=0,ba=null,Xi=1,$i="";function Sa(e,n){ps[ys++]=cu,ps[ys++]=uu,uu=e,cu=n}function Qg(e,n,s){Kn[Qn++]=Xi,Kn[Qn++]=$i,Kn[Qn++]=ba,ba=e;var o=Xi;e=$i;var h=32-be(o)-1;o&=~(1<<h),s+=1;var f=32-be(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Xi=1<<32-be(n)+h|s<<h|o,$i=f+e}else Xi=1<<f|s<<h|o,$i=e}function Ih(e){e.return!==null&&(Sa(e,1),Qg(e,1,0))}function Nh(e){for(;e===uu;)uu=ps[--ys],ps[ys]=null,cu=ps[--ys],ps[ys]=null;for(;e===ba;)ba=Kn[--Qn],Kn[Qn]=null,$i=Kn[--Qn],Kn[Qn]=null,Xi=Kn[--Qn],Kn[Qn]=null}var gn=null,ve=null,Yt=!1,wa=null,Si=!1,xh=Error(a(519));function Ra(e){var n=Error(a(418,""));throw Rl(Fn(n,e)),xh}function Xg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[he]=o,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<$l.length;s++)Mt($l[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ca(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),es(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),ha(n,o.value,o.defaultValue,o.children),es(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||fv(n.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||Ra(e)}function $g(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:gn=gn.return}}function Sl(e){if(e!==gn)return!1;if(!Yt)return $g(e),Yt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||$f(e.type,e.memoizedProps)),s=!s),s&&ve&&Ra(e),$g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ve=ui(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,Vr(e.type)?(e=td,td=null,ve=e):ve=n):ve=gn?ui(e.stateNode.nextSibling):null;return!0}function wl(){ve=gn=null,Yt=!1}function Zg(){var e=wa;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),wa=null),e}function Rl(e){wa===null?wa=[e]:wa.push(e)}var Vh=$(null),Da=null,Zi=null;function _r(e,n,s){tt(Vh,n._currentValue),n._currentValue=s}function Wi(e){e._currentValue=Vh.current,nt(Vh)}function Mh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Mh(f.return,s,e),o||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),Mh(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Dl(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Dn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===ue.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}h=h.return}e!==null&&jh(n,e,s,o),n.flags|=262144}function hu(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){Da=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return Wg(Da,e)}function fu(e,n){return Da===null&&Ca(e),Wg(e,n)}function Wg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Zi===null){if(e===null)throw Error(a(308));Zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Zi=Zi.next=n;return s}var pA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},yA=r.unstable_scheduleCallback,vA=r.unstable_NormalPriority,xe={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new pA,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&yA(vA,function(){e.controller.abort()})}var Ol=null,Lh=0,vs=0,_s=null;function _A(e,n){if(Ol===null){var s=Ol=[];Lh=0,vs=Bf(),_s={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Lh++,n.then(Jg,Jg),n}function Jg(){if(--Lh===0&&Ol!==null){_s!==null&&(_s.status="fulfilled");var e=Ol;Ol=null,vs=0,_s=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function EA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var tp=z.S;z.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&_A(e,n),tp!==null&&tp(e,n)};var Oa=$(null);function Uh(){var e=Oa.current;return e!==null?e:se.pooledCache}function du(e,n){n===null?tt(Oa,Oa.current):tt(Oa,n.pool)}function ep(){var e=Uh();return e===null?null:{parent:xe._currentValue,pool:e}}var kl=Error(a(460)),np=Error(a(474)),mu=Error(a(542)),zh={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gu(){}function rp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(gu,gu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e;default:if(typeof n.status=="string")n.then(gu,gu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e}throw Il=n,kl}}var Il=null;function ap(){if(Il===null)throw Error(a(459));var e=Il;return Il=null,e}function sp(e){if(e===kl||e===mu)throw Error(a(483))}var Er=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=lu(e),Yg(e,null,s),n}return su(e,o,n,s),lu(e)}function Nl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mi(e,s)}}function Hh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Gh=!1;function xl(){if(Gh){var e=_s;if(e!==null)throw e}}function Vl(e,n,s,o){Gh=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,B=R.next;R.next=null,_===null?f=B:_.next=B,_=R;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;_=0,K=B=R=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Ut&q)===q:(o&q)===q){q!==0&&q===vs&&(Gh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,yt=T;q=n;var ee=s;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call(ee,Z,q);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,q=typeof Tt=="function"?Tt.call(ee,Z,q):Tt,q==null)break t;Z=E({},Z,q);break t;case 2:Er=!0}}q=T.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=H,R=Z):K=K.next=H,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),kr|=_,e.lanes=_,e.memoizedState=Z}}function lp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function op(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)lp(s[e],n)}var Es=$(null),pu=$(0);function up(e,n){e=ar,tt(pu,e),tt(Es,n),ar=e|n.baseLanes}function Fh(){tt(pu,ar),tt(Es,Es.current)}function Yh(){ar=pu.current,nt(Es),nt(pu)}var br=0,kt=null,Jt=null,Re=null,yu=!1,Ts=!1,ka=!1,vu=0,Ml=0,As=null,TA=0;function Ee(){throw Error(a(321))}function Kh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dn(e[s],n[s]))return!1;return!0}function Qh(e,n,s,o,h,f){return br=f,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?Yp:Kp,ka=!1,f=s(o,h),ka=!1,Ts&&(f=hp(n,s,o,h)),cp(e),f}function cp(e){z.H=Su;var n=Jt!==null&&Jt.next!==null;if(br=0,Re=Jt=kt=null,yu=!1,Ml=0,As=null,n)throw Error(a(300));e===null||ze||(e=e.dependencies,e!==null&&hu(e)&&(ze=!0))}function hp(e,n,s,o){kt=e;var h=0;do{if(Ts&&(As=null),Ml=0,Ts=!1,25<=h)throw Error(a(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=CA,f=n(s,o)}while(Ts);return f}function AA(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?jl(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(kt.flags|=1024),n}function Xh(){var e=vu!==0;return vu=0,e}function $h(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Zh(e){if(yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yu=!1}br=0,Re=Jt=kt=null,Ts=!1,Ml=vu=0,As=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?kt.memoizedState=Re=e:Re=Re.next=e,Re}function De(){if(Jt===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?kt.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw kt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?kt.memoizedState=Re=e:Re=Re.next=e}return Re}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var n=Ml;return Ml+=1,As===null&&(As=[]),e=rp(As,e,n),n=kt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Yp:Kp),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===rt)return sn(e)}throw Error(a(438,String(e)))}function Jh(e){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=kt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Wh(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=I;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Eu(e){var n=De();return tf(n,Jt,e)}function tf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=_=null,R=null,B=n,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ut&Z)===Z:(br&Z)===Z){var q=B.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===vs&&(K=!0);else if((br&q)===q){B=B.next,q===vs&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=Z,_=f):R=R.next=Z,kt.lanes|=q,kr|=q;Z=B.action,ka&&s(f,Z),f=B.hasEagerState?B.eagerState:s(f,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=q,_=f):R=R.next=q,kt.lanes|=Z,kr|=Z;B=B.next}while(B!==null&&B!==n);if(R===null?_=f:R.next=T,!Dn(f,e.memoizedState)&&(ze=!0,K&&(s=_s,s!==null)))throw s;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ef(e){var n=De(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);Dn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function fp(e,n,s){var o=kt,h=De(),f=Yt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!Dn((Jt||h).memoizedState,s);_&&(h.memoizedState=s,ze=!0),h=h.queue;var T=gp.bind(null,o,h,e);if(Pl(2048,8,T,[e]),h.getSnapshot!==n||_||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,bs(9,Tu(),mp.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||(br&124)!==0||dp(o,n,s)}return s}function dp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=Wh(),kt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function mp(e,n,s,o){n.value=s,n.getSnapshot=o,pp(n)&&yp(e)}function gp(e,n,s){return s(function(){pp(n)&&yp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dn(e,s)}catch{return!0}}function yp(e){var n=ms(e,2);n!==null&&xn(n,e,2)}function nf(e){var n=pn();if(typeof e=="function"){var s=e;if(e=s(),ka){hn(!0);try{s()}finally{hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function vp(e,n,s,o){return e.baseState=s,tf(e,Jt,typeof o=="function"?o:Ji)}function bA(e,n,s,o,h){if(bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};z.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,_p(n,f)):(f.next=s.next,n.pending=s.next=f)}}function _p(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=z.T,_={};z.T=_;try{var T=s(h,o),R=z.S;R!==null&&R(_,T),Ep(e,n,T)}catch(B){rf(e,n,B)}finally{z.T=f}}else try{f=s(h,o),Ep(e,n,f)}catch(B){rf(e,n,B)}}function Ep(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Tp(e,n,o)},function(o){return rf(e,n,o)}):Tp(e,n,s)}function Tp(e,n,s){n.status="fulfilled",n.value=s,Ap(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,_p(e,s)))}function rf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ap(n),n=n.next;while(n!==o)}e.action=null}function Ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bp(e,n){return n}function Sp(e,n){if(Yt){var s=se.formState;if(s!==null){t:{var o=kt;if(Yt){if(ve){e:{for(var h=ve,f=Si;h.nodeType!==8;){if(!f){h=null;break e}if(h=ui(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ve=ui(h.nextSibling),o=h.data==="F!";break t}}Ra(o)}o=!1}o&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},s.queue=o,s=Hp.bind(null,kt,o),o.dispatch=s,o=nf(!1),f=uf.bind(null,kt,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=bA.bind(null,kt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function wp(e){var n=De();return Rp(n,Jt,e)}function Rp(e,n,s){if(n=tf(e,n,bp)[0],e=Eu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jl(n)}catch(_){throw _===kl?mu:_}else o=n;n=De();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,bs(9,Tu(),SA.bind(null,h,s),null)),[o,f,e]}function SA(e,n){e.action=n}function Dp(e){var n=De(),s=Jt;if(s!==null)return Rp(n,s,e);De(),n=n.memoizedState,s=De();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function bs(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=kt.updateQueue,n===null&&(n=Wh(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tu(){return{destroy:void 0,resource:void 0}}function Cp(){return De().memoizedState}function Au(e,n,s,o){var h=pn();o=o===void 0?null:o,kt.flags|=e,h.memoizedState=bs(1|n,Tu(),s,o)}function Pl(e,n,s,o){var h=De();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Kh(o,Jt.memoizedState.deps)?h.memoizedState=bs(n,f,s,o):(kt.flags|=e,h.memoizedState=bs(1|n,f,s,o))}function Op(e,n){Au(8390656,8,e,n)}function kp(e,n){Pl(2048,8,e,n)}function Ip(e,n){return Pl(4,2,e,n)}function Np(e,n){return Pl(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vp(e,n,s){s=s!=null?s.concat([e]):null,Pl(4,4,xp.bind(null,n,e),s)}function af(){}function Mp(e,n){var s=De();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Kh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function jp(e,n){var s=De();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Kh(n,o[1]))return o[0];if(o=e(),ka){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,n],o}function sf(e,n,s){return s===void 0||(br&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Uy(),kt.lanes|=e,kr|=e,s)}function Pp(e,n,s,o){return Dn(s,n)?s:Es.current!==null?(e=sf(e,s,o),Dn(e,n)||(ze=!0),e):(br&42)===0?(ze=!0,e.memoizedState=s):(e=Uy(),kt.lanes|=e,kr|=e,n)}function Lp(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var _=z.T,T={};z.T=T,uf(e,!1,n,s);try{var R=h(),B=z.S;if(B!==null&&B(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=EA(R,o);Ll(e,n,K,Nn(e))}else Ll(e,n,o,Nn(e))}catch(Z){Ll(e,n,{then:function(){},status:"rejected",reason:Z},Nn())}finally{it.p=f,z.T=_}}function wA(){}function lf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Up(e).queue;Lp(e,h,n,ut,s===null?wA:function(){return zp(e),s(o)})}function Up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Up(e).next.queue;Ll(e,n,{},Nn())}function of(){return sn(no)}function Bp(){return De().memoizedState}function qp(){return De().memoizedState}function RA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=Tr(s);var o=Ar(n,e,s);o!==null&&(xn(o,n,s),Nl(o,n,s)),n={cache:Ph()},e.payload=n;return}n=n.return}}function DA(e,n,s){var o=Nn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},bu(e)?Gp(n,s):(s=Dh(e,n,s,o),s!==null&&(xn(s,e,o),Fp(s,n,o)))}function Hp(e,n,s){var o=Nn();Ll(e,n,s,o)}function Ll(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(bu(e))Gp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,s);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,_))return su(e,n,h,0),se===null&&au(),!1}catch{}finally{}if(s=Dh(e,n,h,o),s!==null)return xn(s,e,o),Fp(s,n,o),!0}return!1}function uf(e,n,s,o){if(o={lane:2,revertLane:Bf(),action:o,hasEagerState:!1,eagerState:null,next:null},bu(e)){if(n)throw Error(a(479))}else n=Dh(e,s,o,2),n!==null&&xn(n,e,2)}function bu(e){var n=e.alternate;return e===kt||n!==null&&n===kt}function Gp(e,n){Ts=yu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Fp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mi(e,s)}}var Su={readContext:sn,use:_u,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},Yp={readContext:sn,use:_u,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:sn,useEffect:Op,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Au(4194308,4,xp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Au(4194308,4,e,n)},useInsertionEffect:function(e,n){Au(4,2,e,n)},useMemo:function(e,n){var s=pn();n=n===void 0?null:n;var o=e();if(ka){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=pn();if(s!==void 0){var h=s(n);if(ka){hn(!0);try{s(n)}finally{hn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=DA.bind(null,kt,e),[o.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:function(e){e=nf(e);var n=e.queue,s=Hp.bind(null,kt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:af,useDeferredValue:function(e,n){var s=pn();return sf(s,e,n)},useTransition:function(){var e=nf(!1);return e=Lp.bind(null,kt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=kt,h=pn();if(Yt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Ut&124)!==0||dp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Op(gp.bind(null,o,f,e),[e]),o.flags|=2048,bs(9,Tu(),mp.bind(null,o,f,s,n),null),s},useId:function(){var e=pn(),n=se.identifierPrefix;if(Yt){var s=$i,o=Xi;s=(o&~(1<<32-be(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=vu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=TA++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:of,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=pn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=uf.bind(null,kt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Jh,useCacheRefresh:function(){return pn().memoizedState=RA.bind(null,kt)}},Kp={readContext:sn,use:_u,useCallback:Mp,useContext:sn,useEffect:kp,useImperativeHandle:Vp,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:jp,useReducer:Eu,useRef:Cp,useState:function(){return Eu(Ji)},useDebugValue:af,useDeferredValue:function(e,n){var s=De();return Pp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Eu(Ji)[0],n=De().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:of,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var s=De();return vp(s,Jt,e,n)},useMemoCache:Jh,useCacheRefresh:qp},CA={readContext:sn,use:_u,useCallback:Mp,useContext:sn,useEffect:kp,useImperativeHandle:Vp,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:jp,useReducer:ef,useRef:Cp,useState:function(){return ef(Ji)},useDebugValue:af,useDeferredValue:function(e,n){var s=De();return Jt===null?sf(s,e,n):Pp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=ef(Ji)[0],n=De().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:of,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var s=De();return Jt!==null?vp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:qp},Ss=null,Ul=0;function wu(e){var n=Ul;return Ul+=1,Ss===null&&(Ss=[]),rp(Ss,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qp(e){var n=e._init;return n(e._payload)}function Xp(e){function n(j,N){if(e){var U=j.deletions;U===null?(j.deletions=[N],j.flags|=16):U.push(N)}}function s(j,N){if(!e)return null;for(;N!==null;)n(j,N),N=N.sibling;return null}function o(j){for(var N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function h(j,N){return j=Qi(j,N),j.index=0,j.sibling=null,j}function f(j,N,U){return j.index=U,e?(U=j.alternate,U!==null?(U=U.index,U<N?(j.flags|=67108866,N):U):(j.flags|=67108866,N)):(j.flags|=1048576,N)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function T(j,N,U,X){return N===null||N.tag!==6?(N=Oh(U,j.mode,X),N.return=j,N):(N=h(N,U),N.return=j,N)}function R(j,N,U,X){var ot=U.type;return ot===G?K(j,N,U.props.children,X,U.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Qp(ot)===N.type)?(N=h(N,U.props),zl(N,U),N.return=j,N):(N=ou(U.type,U.key,U.props,null,j.mode,X),zl(N,U),N.return=j,N)}function B(j,N,U,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=kh(U,j.mode,X),N.return=j,N):(N=h(N,U.children||[]),N.return=j,N)}function K(j,N,U,X,ot){return N===null||N.tag!==7?(N=Aa(U,j.mode,X,ot),N.return=j,N):(N=h(N,U),N.return=j,N)}function Z(j,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oh(""+N,j.mode,U),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case O:return U=ou(N.type,N.key,N.props,null,j.mode,U),zl(U,N),U.return=j,U;case P:return N=kh(N,j.mode,U),N.return=j,N;case S:var X=N._init;return N=X(N._payload),Z(j,N,U)}if(Zt(N)||M(N))return N=Aa(N,j.mode,U,null),N.return=j,N;if(typeof N.then=="function")return Z(j,wu(N),U);if(N.$$typeof===rt)return Z(j,fu(j,N),U);Ru(j,N)}return null}function q(j,N,U,X){var ot=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ot!==null?null:T(j,N,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===ot?R(j,N,U,X):null;case P:return U.key===ot?B(j,N,U,X):null;case S:return ot=U._init,U=ot(U._payload),q(j,N,U,X)}if(Zt(U)||M(U))return ot!==null?null:K(j,N,U,X,null);if(typeof U.then=="function")return q(j,N,wu(U),X);if(U.$$typeof===rt)return q(j,N,fu(j,U),X);Ru(j,U)}return null}function H(j,N,U,X,ot){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(U)||null,T(N,j,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return j=j.get(X.key===null?U:X.key)||null,R(N,j,X,ot);case P:return j=j.get(X.key===null?U:X.key)||null,B(N,j,X,ot);case S:var xt=X._init;return X=xt(X._payload),H(j,N,U,X,ot)}if(Zt(X)||M(X))return j=j.get(U)||null,K(N,j,X,ot,null);if(typeof X.then=="function")return H(j,N,U,wu(X),ot);if(X.$$typeof===rt)return H(j,N,U,fu(N,X),ot);Ru(N,X)}return null}function Tt(j,N,U,X){for(var ot=null,xt=null,dt=N,vt=N=0,qe=null;dt!==null&&vt<U.length;vt++){dt.index>vt?(qe=dt,dt=null):qe=dt.sibling;var Gt=q(j,dt,U[vt],X);if(Gt===null){dt===null&&(dt=qe);break}e&&dt&&Gt.alternate===null&&n(j,dt),N=f(Gt,N,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt,dt=qe}if(vt===U.length)return s(j,dt),Yt&&Sa(j,vt),ot;if(dt===null){for(;vt<U.length;vt++)dt=Z(j,U[vt],X),dt!==null&&(N=f(dt,N,vt),xt===null?ot=dt:xt.sibling=dt,xt=dt);return Yt&&Sa(j,vt),ot}for(dt=o(dt);vt<U.length;vt++)qe=H(dt,j,vt,U[vt],X),qe!==null&&(e&&qe.alternate!==null&&dt.delete(qe.key===null?vt:qe.key),N=f(qe,N,vt),xt===null?ot=qe:xt.sibling=qe,xt=qe);return e&&dt.forEach(function(Ur){return n(j,Ur)}),Yt&&Sa(j,vt),ot}function yt(j,N,U,X){if(U==null)throw Error(a(151));for(var ot=null,xt=null,dt=N,vt=N=0,qe=null,Gt=U.next();dt!==null&&!Gt.done;vt++,Gt=U.next()){dt.index>vt?(qe=dt,dt=null):qe=dt.sibling;var Ur=q(j,dt,Gt.value,X);if(Ur===null){dt===null&&(dt=qe);break}e&&dt&&Ur.alternate===null&&n(j,dt),N=f(Ur,N,vt),xt===null?ot=Ur:xt.sibling=Ur,xt=Ur,dt=qe}if(Gt.done)return s(j,dt),Yt&&Sa(j,vt),ot;if(dt===null){for(;!Gt.done;vt++,Gt=U.next())Gt=Z(j,Gt.value,X),Gt!==null&&(N=f(Gt,N,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return Yt&&Sa(j,vt),ot}for(dt=o(dt);!Gt.done;vt++,Gt=U.next())Gt=H(dt,j,vt,Gt.value,X),Gt!==null&&(e&&Gt.alternate!==null&&dt.delete(Gt.key===null?vt:Gt.key),N=f(Gt,N,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return e&&dt.forEach(function(Ob){return n(j,Ob)}),Yt&&Sa(j,vt),ot}function ee(j,N,U,X){if(typeof U=="object"&&U!==null&&U.type===G&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:t:{for(var ot=U.key;N!==null;){if(N.key===ot){if(ot=U.type,ot===G){if(N.tag===7){s(j,N.sibling),X=h(N,U.props.children),X.return=j,j=X;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Qp(ot)===N.type){s(j,N.sibling),X=h(N,U.props),zl(X,U),X.return=j,j=X;break t}s(j,N);break}else n(j,N);N=N.sibling}U.type===G?(X=Aa(U.props.children,j.mode,X,U.key),X.return=j,j=X):(X=ou(U.type,U.key,U.props,null,j.mode,X),zl(X,U),X.return=j,j=X)}return _(j);case P:t:{for(ot=U.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(j,N.sibling),X=h(N,U.children||[]),X.return=j,j=X;break t}else{s(j,N);break}else n(j,N);N=N.sibling}X=kh(U,j.mode,X),X.return=j,j=X}return _(j);case S:return ot=U._init,U=ot(U._payload),ee(j,N,U,X)}if(Zt(U))return Tt(j,N,U,X);if(M(U)){if(ot=M(U),typeof ot!="function")throw Error(a(150));return U=ot.call(U),yt(j,N,U,X)}if(typeof U.then=="function")return ee(j,N,wu(U),X);if(U.$$typeof===rt)return ee(j,N,fu(j,U),X);Ru(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(j,N.sibling),X=h(N,U),X.return=j,j=X):(s(j,N),X=Oh(U,j.mode,X),X.return=j,j=X),_(j)):s(j,N)}return function(j,N,U,X){try{Ul=0;var ot=ee(j,N,U,X);return Ss=null,ot}catch(dt){if(dt===kl||dt===mu)throw dt;var xt=Cn(29,dt,null,j.mode);return xt.lanes=X,xt.return=j,xt}finally{}}}var ws=Xp(!0),$p=Xp(!1),Xn=$(null),wi=null;function Sr(e){var n=e.alternate;tt(Ve,Ve.current&1),tt(Xn,e),wi===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(wi=e)}function Zp(e){if(e.tag===22){if(tt(Ve,Ve.current),tt(Xn,e),wi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(wi=e)}}else wr()}function wr(){tt(Ve,Ve.current),tt(Xn,Xn.current)}function tr(e){nt(Xn),wi===e&&(wi=null),nt(Ve)}var Ve=$(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=Tr(o);h.payload=n,s!=null&&(h.callback=s),n=Ar(e,h,o),n!==null&&(xn(n,e,o),Nl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=Tr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ar(e,h,o),n!==null&&(xn(n,e,o),Nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),o=Tr(s);o.tag=2,n!=null&&(o.callback=n),n=Ar(e,o,s),n!==null&&(xn(n,e,s),Nl(n,e,s))}};function Wp(e,n,s,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Al(s,o)||!Al(h,f):!0}function Jp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&hf.enqueueReplaceState(n,n.state,null)}function Ia(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ty(e){Cu(e)}function ey(e){console.error(e)}function ny(e){Cu(e)}function Ou(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function iy(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(e,n,s){return s=Tr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ou(e,n)},s}function ry(e){return e=Tr(e),e.tag=3,e}function ay(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){iy(n,s,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function OA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Dl(n,s,h,!0),s=Xn.current,s!==null){switch(s.tag){case 13:return wi===null?jf():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===zh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Lf(e,o,h)),!1;case 22:return s.flags|=65536,o===zh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Lf(e,o,h)),!1}throw Error(a(435,s.tag))}return Lf(e,o,h),jf(),!1}if(Yt)return n=Xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==xh&&(e=Error(a(422),{cause:o}),Rl(Fn(e,s)))):(o!==xh&&(n=Error(a(423),{cause:o}),Rl(Fn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Fn(o,s),h=ff(e.stateNode,o,h),Hh(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Fn(f,s),Kl===null?Kl=[f]:Kl.push(f),_e!==4&&(_e=2),n===null)return!0;o=Fn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=ff(s.stateNode,o,e),Hh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ry(h),ay(h,e,s,o),Hh(s,h),!1}s=s.return}while(s!==null);return!1}var sy=Error(a(461)),ze=!1;function Ze(e,n,s,o){n.child=e===null?$p(n,null,s,o):ws(n,e.child,s,o)}function ly(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ca(n),o=Qh(e,n,s,_,f,h),T=Xh(),e!==null&&!ze?($h(e,n,h),er(e,n,h)):(Yt&&T&&Ih(n),n.flags|=1,Ze(e,n,o,h),n.child)}function oy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,uy(e,n,f,o,h)):(e=ou(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ef(e,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(_,o)&&e.ref===n.ref)return er(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function uy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Al(f,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=f,Ef(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,er(e,n,h)}return df(e,n,s,o,h)}function cy(e,n,s){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return hy(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(n,f!==null?f.cachePool:null),f!==null?up(n,f):Fh(),Zp(n);else return n.lanes=n.childLanes=536870912,hy(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(du(n,f.cachePool),up(n,f),wr(),n.memoizedState=null):(e!==null&&du(n,null),Fh(),wr());return Ze(e,n,h,s),n.child}function hy(e,n,s,o){var h=Uh();return h=h===null?null:{parent:xe._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&du(n,null),Fh(),Zp(n),e!==null&&Dl(e,n,o,!0),null}function ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function df(e,n,s,o,h){return Ca(n),s=Qh(e,n,s,o,void 0,h),o=Xh(),e!==null&&!ze?($h(e,n,h),er(e,n,h)):(Yt&&o&&Ih(n),n.flags|=1,Ze(e,n,s,h),n.child)}function fy(e,n,s,o,h,f){return Ca(n),n.updateQueue=null,s=hp(n,o,s,h),cp(e),o=Xh(),e!==null&&!ze?($h(e,n,f),er(e,n,f)):(Yt&&o&&Ih(n),n.flags|=1,Ze(e,n,s,f),n.child)}function dy(e,n,s,o,h){if(Ca(n),n.stateNode===null){var f=gs,_=s.contextType;typeof _=="object"&&_!==null&&(f=sn(_)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Bh(n),_=s.contextType,f.context=typeof _=="object"&&_!==null?sn(_):gs,f.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(cf(n,s,_,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&hf.enqueueReplaceState(f,f.state,null),Vl(n,o,f,h),xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Ia(s,T);f.props=R;var B=f.context,K=s.contextType;_=gs,typeof K=="object"&&K!==null&&(_=sn(K));var Z=s.getDerivedStateFromProps;K=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==_)&&Jp(n,f,o,_),Er=!1;var q=n.memoizedState;f.state=q,Vl(n,o,f,h),xl(),B=n.memoizedState,T||q!==B||Er?(typeof Z=="function"&&(cf(n,s,Z,o),B=n.memoizedState),(R=Er||Wp(n,s,R,o,q,B,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,qh(e,n),_=n.memoizedProps,K=Ia(s,_),f.props=K,Z=n.pendingProps,q=f.context,B=s.contextType,R=gs,typeof B=="object"&&B!==null&&(R=sn(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||q!==R)&&Jp(n,f,o,R),Er=!1,q=n.memoizedState,f.state=q,Vl(n,o,f,h),xl();var H=n.memoizedState;_!==Z||q!==H||Er||e!==null&&e.dependencies!==null&&hu(e.dependencies)?(typeof T=="function"&&(cf(n,s,T,o),H=n.memoizedState),(K=Er||Wp(n,s,K,o,q,H,R)||e!==null&&e.dependencies!==null&&hu(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ws(n,e.child,null,h),n.child=ws(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=er(e,n,h),e}function my(e,n,s,o){return wl(),n.flags|=256,Ze(e,n,s,o),n.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(e){return{baseLanes:e,cachePool:ep()}}function pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=$n),e}function gy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Yt){if(h?Sr(n):wr(),Yt){var T=ve,R;if(R=T){t:{for(R=T,T=Si;R.nodeType!==8;){if(!T){T=null;break t}if(R=ui(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:ba!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},R=Cn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,gn=n,ve=null,R=!0):R=!1}R||Ra(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Jf(T)?n.lanes=32:n.lanes=536870912,null;tr(n)}return T=o.children,o=o.fallback,h?(wr(),h=n.mode,T=Iu({mode:"hidden",children:T},h),o=Aa(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=gf(s),h.childLanes=pf(e,_,s),n.memoizedState=mf,o):(Sr(n),yf(n,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=vf(e,n,s)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),h=o.fallback,T=n.mode,o=Iu({mode:"visible",children:o.children},T),h=Aa(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ws(n,e.child,null,s),o=n.child,o.memoizedState=gf(s),o.childLanes=pf(e,_,s),n.memoizedState=mf,n=h);else if(Sr(n),Jf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(a(419)),o.stack="",o.digest=_,Rl({value:o,source:null,stack:null}),n=vf(e,n,s)}else if(ze||Dl(e,n,s,!1),_=(s&e.childLanes)!==0,ze||_){if(_=se,_!==null&&(o=s&-s,o=(o&42)!==0?1:Ht(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,ms(e,o),xn(_,e,o),sy;T.data==="$?"||jf(),n=vf(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ve=ui(T.nextSibling),gn=n,Yt=!0,wa=null,Si=!1,e!==null&&(Kn[Qn++]=Xi,Kn[Qn++]=$i,Kn[Qn++]=ba,Xi=e.id,$i=e.overflow,ba=n),n=yf(n,o.children),n.flags|=4096);return n}return h?(wr(),h=o.fallback,T=n.mode,R=e.child,B=R.sibling,o=Qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,B!==null?h=Qi(B,h):(h=Aa(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=gf(s):(R=T.cachePool,R!==null?(B=xe._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=ep(),T={baseLanes:T.baseLanes|s,cachePool:R}),h.memoizedState=T,h.childLanes=pf(e,_,s),n.memoizedState=mf,o):(Sr(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function yf(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return e=Cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vf(e,n,s){return ws(n,e.child,null,s),e=yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Mh(e.return,n,s)}function _f(e,n,s,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function yy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ze(e,n,o.children,s),o=Ve.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,s,n);else if(e.tag===19)py(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(tt(Ve,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Du(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),_f(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}_f(n,!0,s,null,f);break;case"together":_f(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function er(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Dl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Ef(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&hu(e)))}function kA(e,n,s){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),_r(n,xe,e.memoizedState.cache),wl();break;case 27:case 5:Mn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gy(e,n,s):(Sr(n),e=er(e,n,s),e!==null?e.sibling:null);Sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Dl(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return yy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ve,Ve.current),o)break;return null;case 22:case 23:return n.lanes=0,cy(e,n,s);case 24:_r(n,xe,e.memoizedState.cache)}return er(e,n,s)}function vy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!Ef(e,s)&&(n.flags&128)===0)return ze=!1,kA(e,n,s);ze=(e.flags&131072)!==0}else ze=!1,Yt&&(n.flags&1048576)!==0&&Qg(n,cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ch(o)?(e=Ia(o,e),n.tag=1,n=dy(null,n,o,e,s)):(n.tag=0,n=df(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===gt){n.tag=11,n=ly(null,n,o,e,s);break t}else if(h===x){n.tag=14,n=oy(null,n,o,e,s);break t}}throw n=ae(o)||o,Error(a(306,n,""))}}return n;case 0:return df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ia(o,n.pendingProps),dy(e,n,o,h,s);case 3:t:{if(qt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,qh(e,n),Vl(n,o,null,s);var _=n.memoizedState;if(o=_.cache,_r(n,xe,o),o!==f.cache&&jh(n,[xe],s,!0),xl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,o,s);break t}else if(o!==h){h=Fn(Error(a(424)),n),Rl(h),n=my(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=ui(e.firstChild),gn=n,Yt=!0,wa=null,Si=!0,s=$p(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wl(),o===h){n=er(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return ku(e,n),e===null?(s=Av(n.type,null,n.pendingProps,null))?n.memoizedState=s:Yt||(s=n.type,e=n.pendingProps,o=Fu(pt.current).createElement(s),o[ye]=n,o[he]=e,Je(o,s,e),Ct(o),n.stateNode=o):n.memoizedState=Av(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Mn(n),e===null&&Yt&&(o=n.stateNode=_v(n.type,n.pendingProps,pt.current),gn=n,Si=!0,h=ve,Vr(n.type)?(td=h,ve=ui(o.firstChild)):ve=h),Ze(e,n,n.pendingProps.children,s),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Yt&&((h=o=ve)&&(o=rb(o,n.type,n.pendingProps,Si),o!==null?(n.stateNode=o,gn=n,ve=ui(o.firstChild),Si=!1,h=!0):h=!1),h||Ra(n)),Mn(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,$f(h,f)?o=null:_!==null&&$f(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Qh(e,n,AA,null,null,s),no._currentValue=h),ku(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&Yt&&((e=s=ve)&&(s=ab(s,n.pendingProps,Si),s!==null?(n.stateNode=s,gn=n,ve=null,e=!0):e=!1),e||Ra(n)),null;case 13:return gy(e,n,s);case 4:return qt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ws(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return ly(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_r(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ca(n),h=sn(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return oy(e,n,n.type,n.pendingProps,s);case 15:return uy(e,n,n.type,n.pendingProps,s);case 19:return yy(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Iu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Qi(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return cy(e,n,s);case 24:return Ca(n),o=sn(xe),e===null?(h=Uh(),h===null&&(h=se,f=Ph(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Bh(n),_r(n,xe,h)):((e.lanes&s)!==0&&(qh(e,n),Vl(n,null,null,s),xl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,xe,o)):(o=f.cache,_r(n,xe,o),o!==h.cache&&jh(n,[xe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function nr(e){e.flags|=4}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dv(n)){if(n=Xn.current,n!==null&&((Ut&4194048)===Ut?wi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==wi))throw Il=zh,np;e.flags|=8192}}function Nu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mr():536870912,e.lanes|=n,Os|=n)}function Bl(e,n){if(!Yt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function IA(e,n,s){var o=n.pendingProps;switch(Nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(xe),ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Sl(n)?nr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zg())),ge(n),null;case 26:return s=n.memoizedState,e===null?(nr(n),s!==null?(ge(n),_y(n,s)):(ge(n),n.flags&=-16777217)):s?s!==e.memoizedState?(nr(n),ge(n),_y(n,s)):(ge(n),n.flags&=-16777217):(e.memoizedProps!==o&&nr(n),ge(n),n.flags&=-16777217),null;case 27:Sn(n),s=pt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ge(n),null}e=ft.current,Sl(n)?Xg(n):(e=_v(h,o,s),n.stateNode=e,nr(n))}return ge(n),null;case 5:if(Sn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ge(n),null}if(e=ft.current,Sl(n))Xg(n);else{switch(h=Fu(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[ye]=n,e[he]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Je(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&nr(n)}}return ge(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&nr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pt.current,Sl(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=gn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||fv(e.nodeValue,s)),e||Ra(n)}else e=Fu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ge(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else wl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=Zg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(tr(n),n):(tr(n),null)}if(tr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Nu(n,n.updateQueue),ge(n),null;case 4:return ke(),e===null&&Ff(n.stateNode.containerInfo),ge(n),null;case 10:return Wi(n.type),ge(n),null;case 19:if(nt(Ve),h=n.memoizedState,h===null)return ge(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Bl(h,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,Bl(h,!1),e=f.updateQueue,n.updateQueue=e,Nu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Kg(s,e),s=s.sibling;return tt(Ve,Ve.current&1|2),n.child}e=e.sibling}h.tail!==null&&Fe()>Mu&&(n.flags|=128,o=!0,Bl(h,!1),n.lanes=4194304)}else{if(!o)if(e=Du(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Nu(n,e),Bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Yt)return ge(n),null}else 2*Fe()-h.renderingStartTime>Mu&&s!==536870912&&(n.flags|=128,o=!0,Bl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Fe(),n.sibling=null,e=Ve.current,tt(Ve,o?e&1|2:e&1),n):(ge(n),null);case 22:case 23:return tr(n),Yh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),s=n.updateQueue,s!==null&&Nu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&nt(Oa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wi(xe),ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NA(e,n){switch(Nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(xe),ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Sn(n),null;case 13:if(tr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(Ve),null;case 4:return ke(),null;case 10:return Wi(n.type),null;case 22:case 23:return tr(n),Yh(),e!==null&&nt(Oa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(xe),null;case 25:return null;default:return null}}function Ey(e,n){switch(Nh(n),n.tag){case 3:Wi(xe),ke();break;case 26:case 27:case 5:Sn(n);break;case 4:ke();break;case 13:tr(n);break;case 19:nt(Ve);break;case 10:Wi(n.type);break;case 22:case 23:tr(n),Yh(),e!==null&&nt(Oa);break;case 24:Wi(xe)}}function ql(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,_=s.inst;o=f(),_.destroy=o}s=s.next}while(s!==h)}}catch(T){re(n,n.return,T)}}function Rr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var R=s,B=T;try{B()}catch(K){re(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){re(n,n.return,K)}}function Ty(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{op(n,s)}catch(o){re(e,e.return,o)}}}function Ay(e,n,s){s.props=Ia(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){re(e,n,o)}}function Hl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){re(e,n,h)}}function Ri(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){re(e,n,h)}else s.current=null}function by(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){re(e,e.return,h)}}function Tf(e,n,s){try{var o=e.stateNode;JA(o,e.type,s,n),o[he]=n}catch(h){re(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Af(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gu));else if(o!==4&&(o===27&&Vr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(bf(e,n,s),e=e.sibling;e!==null;)bf(e,n,s),e=e.sibling}function xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(xu(e,n,s),e=e.sibling;e!==null;)xu(e,n,s),e=e.sibling}function wy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[ye]=e,n[he]=s}catch(f){re(e,e.return,f)}}var ir=!1,Te=!1,Sf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Be=null;function xA(e,n){if(e=e.containerInfo,Qf=Zu,e=Pg(e),Th(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var _=0,T=-1,R=-1,B=0,K=0,Z=e,q=null;e:for(;;){for(var H;Z!==s||h!==0&&Z.nodeType!==3||(T=_+h),Z!==f||o!==0&&Z.nodeType!==3||(R=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===e)break e;if(q===s&&++B===h&&(T=_),q===f&&++K===o&&(R=_),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Xf={focusedElem:e,selectionRange:s},Zu=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var Tt=Ia(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(Tt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){re(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Wf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function Dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Dr(e,s),o&4&&ql(5,s);break;case 1:if(Dr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){re(s,s.return,_)}else{var h=Ia(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){re(s,s.return,_)}}o&64&&Ty(s),o&512&&Hl(s,s.return);break;case 3:if(Dr(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{op(e,n)}catch(_){re(s,s.return,_)}}break;case 27:n===null&&o&4&&wy(s);case 26:case 5:Dr(e,s),n===null&&o&4&&by(s),o&512&&Hl(s,s.return);break;case 12:Dr(e,s);break;case 13:Dr(e,s),o&4&&ky(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=qA.bind(null,s),sb(e,s))));break;case 22:if(o=s.memoizedState!==null||ir,!o){n=n!==null&&n.memoizedState!==null||Te,h=ir;var f=Te;ir=o,(Te=n)&&!f?Cr(e,s,(s.subtreeFlags&8772)!==0):Dr(e,s),ir=h,Te=f}break;case 30:break;default:Dr(e,s)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ii(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,yn=!1;function rr(e,n,s){for(s=s.child;s!==null;)Oy(e,n,s),s=s.sibling}function Oy(e,n,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ce,s)}catch{}switch(s.tag){case 26:Te||Ri(s,n),rr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||Ri(s,n);var o=fe,h=yn;Vr(s.type)&&(fe=s.stateNode,yn=!1),rr(e,n,s),Wl(s.stateNode),fe=o,yn=h;break;case 5:Te||Ri(s,n);case 6:if(o=fe,h=yn,fe=null,rr(e,n,s),fe=o,yn=h,fe!==null)if(yn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){re(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){re(s,n,f)}break;case 18:fe!==null&&(yn?(e=fe,yv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),so(e)):yv(fe,s.stateNode));break;case 4:o=fe,h=yn,fe=s.stateNode.containerInfo,yn=!0,rr(e,n,s),fe=o,yn=h;break;case 0:case 11:case 14:case 15:Te||Rr(2,s,n),Te||Rr(4,s,n),rr(e,n,s);break;case 1:Te||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ay(s,n,o)),rr(e,n,s);break;case 21:rr(e,n,s);break;case 22:Te=(o=Te)||s.memoizedState!==null,rr(e,n,s),Te=o;break;default:rr(e,n,s)}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(s){re(n,n.return,s)}}function VA(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(a(435,e.tag))}}function wf(e,n){var s=VA(e);n.forEach(function(o){var h=HA.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function On(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){fe=T.stateNode,yn=!1;break t}break;case 5:fe=T.stateNode,yn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(fe===null)throw Error(a(160));Oy(f,_,h),fe=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var oi=null;function Iy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(n,e),kn(e),o&4&&(Rr(3,e,e.return),ql(3,e),Rr(5,e,e.return));break;case 1:On(n,e),kn(e),o&512&&(Te||s===null||Ri(s,s.return)),o&64&&ir&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=oi;if(On(n,e),kn(e),o&512&&(Te||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[ye]=e,Ct(f),o=f;break t;case"link":var _=wv("link","href",h).get(o+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(_=wv("meta","content",h).get(o+(s.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,Ct(f),o=f}e.stateNode=o}else Rv(h,e.type,e.stateNode);else e.stateNode=Sv(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Rv(h,e.type,e.stateNode):Sv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Tf(e,e.memoizedProps,s.memoizedProps)}break;case 27:On(n,e),kn(e),o&512&&(Te||s===null||Ri(s,s.return)),s!==null&&o&4&&Tf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(On(n,e),kn(e),o&512&&(Te||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{Bn(h,"")}catch(H){re(e,e.return,H)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Tf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Sf=!0);break;case 6:if(On(n,e),kn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(H){re(e,e.return,H)}}break;case 3:if(Qu=null,h=oi,oi=Yu(n.containerInfo),On(n,e),oi=h,kn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(H){re(e,e.return,H)}Sf&&(Sf=!1,Ny(e));break;case 4:o=oi,oi=Yu(e.stateNode.containerInfo),On(n,e),kn(e),oi=o;break;case 12:On(n,e),kn(e);break;case 13:On(n,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(If=Fe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,B=ir,K=Te;if(ir=B||h,Te=K||R,On(n,e),Te=K,ir=B,kn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ir||Te||Na(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){re(R,R.return,H)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(H){re(R,R.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,wf(e,s))));break;case 19:On(n,e),kn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 30:break;case 21:break;default:On(n,e),kn(e)}}function kn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Sy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Af(e);xu(e,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(Bn(_,""),s.flags&=-33);var T=Af(e);xu(e,T,_);break;case 3:case 4:var R=s.stateNode.containerInfo,B=Af(e);bf(e,B,R);break;default:throw Error(a(161))}}catch(K){re(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Dr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(e,n.alternate,n),n=n.sibling}function Na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rr(4,n,n.return),Na(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ay(n,n.return,s),Na(n);break;case 27:Wl(n.stateNode);case 26:case 5:Ri(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}e=e.sibling}}function Cr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Cr(h,f,s),ql(4,f);break;case 1:if(Cr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){re(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)lp(R[h],T)}catch(B){re(o,o.return,B)}}s&&_&64&&Ty(f),Hl(f,f.return);break;case 27:wy(f);case 26:case 5:Cr(h,f,s),s&&o===null&&_&4&&by(f),Hl(f,f.return);break;case 12:Cr(h,f,s);break;case 13:Cr(h,f,s),s&&_&4&&ky(h,f);break;case 22:f.memoizedState===null&&Cr(h,f,s),Hl(f,f.return);break;case 30:break;default:Cr(h,f,s)}n=n.sibling}}function Rf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Cl(s))}function Df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e))}function Di(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(e,n,s,o),n=n.sibling}function xy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Di(e,n,s,o),h&2048&&ql(9,n);break;case 1:Di(e,n,s,o);break;case 3:Di(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e)));break;case 12:if(h&2048){Di(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){re(n,n.return,R)}}else Di(e,n,s,o);break;case 13:Di(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Di(e,n,s,o):Gl(e,n):f._visibility&2?Di(e,n,s,o):(f._visibility|=2,Rs(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Rf(_,n);break;case 24:Di(e,n,s,o),h&2048&&Df(n.alternate,n);break;default:Di(e,n,s,o)}}function Rs(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,T=s,R=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:Rs(f,_,T,R,h),ql(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Rs(f,_,T,R,h):Gl(f,_):(K._visibility|=2,Rs(f,_,T,R,h)),h&&B&2048&&Rf(_.alternate,_);break;case 24:Rs(f,_,T,R,h),h&&B&2048&&Df(_.alternate,_);break;default:Rs(f,_,T,R,h)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Gl(s,o),h&2048&&Rf(o.alternate,o);break;case 24:Gl(s,o),h&2048&&Df(o.alternate,o);break;default:Gl(s,o)}n=n.sibling}}var Fl=8192;function Ds(e){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 26:Ds(e),e.flags&Fl&&e.memoizedState!==null&&_b(oi,e.memoizedState,e.memoizedProps);break;case 5:Ds(e);break;case 3:case 4:var n=oi;oi=Yu(e.stateNode.containerInfo),Ds(e),oi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Fl,Fl=16777216,Ds(e),Fl=n):Ds(e));break;default:Ds(e)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,Py(o,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):Yl(e);break;default:Yl(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Be=o,Py(o,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rr(8,n,n.return),Vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function Py(e,n){for(;Be!==null;){var s=Be;switch(s.tag){case 0:case 11:case 15:Rr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Be=o;else t:for(s=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(Cy(o),o===s){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var MA={getCacheForType:function(e){var n=sn(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},jA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,Vt=null,Ut=0,$t=0,In=null,Or=!1,Cs=!1,Cf=!1,ar=0,_e=0,kr=0,xa=0,Of=0,$n=0,Os=0,Kl=null,vn=null,kf=!1,If=0,Mu=1/0,ju=null,Ir=null,We=0,Nr=null,ks=null,Is=0,Nf=0,xf=null,Ly=null,Ql=0,Vf=null;function Nn(){if((Xt&2)!==0&&Ut!==0)return Ut&-Ut;if(z.T!==null){var e=vs;return e!==0?e:Bf()}return gi()}function Uy(){$n===0&&($n=(Ut&536870912)===0||Yt?aa():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),$n}function xn(e,n,s){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),xr(e,Ut,$n,!1)),Ln(e,s),((Xt&2)===0||e!==se)&&(e===se&&((Xt&2)===0&&(xa|=s),_e===4&&xr(e,Ut,$n,!1)),Ci(e))}function zy(e,n,s){if((Xt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||di(e,n),h=o?UA(e,n):Pf(e,n,!0),f=o;do{if(h===0){Cs&&!o&&xr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!PA(s)){h=Pf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=Kl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ns(T,_).flags|=256),_=Pf(T,_,!1),_!==2){if(Cf&&!R){T.errorRecoveryDisabledLanes|=f,xa|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ns(e,0),xr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xr(o,n,$n,!Or);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=If+300-Fe(),10<h)){if(xr(o,n,$n,!Or),Pi(o,0,!0)!==0)break t;o.timeoutHandle=gv(By.bind(null,o,s,vn,ju,kf,n,$n,xa,Os,Or,f,2,-0,0),h);break t}By(o,s,vn,ju,kf,n,$n,xa,Os,Or,f,0,-0,0)}}break}while(!0);Ci(e)}function By(e,n,s,o,h,f,_,T,R,B,K,Z,q,H){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:vb},Vy(n),Z=Eb(),Z!==null)){e.cancelPendingCommit=Z(Qy.bind(null,e,n,f,s,o,h,_,T,R,K,1,q,H)),xr(e,f,_,!B);return}Qy(e,n,f,s,o,h,_,T,R)}function PA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(e,n,s,o){n&=~Of,n&=~xa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),_=1<<f;o[f]=-1,h&=~_}s!==0&&le(e,s,n)}function Pu(){return(Xt&6)===0?(Xl(0),!1):!0}function Mf(){if(Vt!==null){if($t===0)var e=Vt.return;else e=Vt,Zi=Da=null,Zh(e),Ss=null,Ul=0,e=Vt;for(;e!==null;)Ey(e.alternate,e),e=e.return;Vt=null}}function Ns(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,eb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Mf(),se=e,Vt=s=Qi(e.current,null),Ut=n,$t=0,In=null,Or=!1,Cs=di(e,n),Cf=!1,Os=$n=Of=xa=kr=_e=0,vn=Kl=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-be(o),f=1<<h;n|=e[h],o&=~f}return ar=n,au(),s}function qy(e,n){kt=null,z.H=Su,n===kl||n===mu?(n=ap(),$t=3):n===np?(n=ap(),$t=4):$t=n===sy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Vt===null&&(_e=1,Ou(e,Fn(n,e.current)))}function Hy(){var e=z.H;return z.H=Su,e===null?Su:e}function Gy(){var e=z.A;return z.A=MA,e}function jf(){_e=4,Or||(Ut&4194048)!==Ut&&Xn.current!==null||(Cs=!0),(kr&134217727)===0&&(xa&134217727)===0||se===null||xr(se,Ut,$n,!1)}function Pf(e,n,s){var o=Xt;Xt|=2;var h=Hy(),f=Gy();(se!==e||Ut!==n)&&(ju=null,Ns(e,n)),n=!1;var _=_e;t:do try{if($t!==0&&Vt!==null){var T=Vt,R=In;switch($t){case 8:Mf(),_=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(n=!0);var B=$t;if($t=0,In=null,xs(e,T,R,B),s&&Cs){_=0;break t}break;default:B=$t,$t=0,In=null,xs(e,T,R,B)}}LA(),_=_e;break}catch(K){qy(e,K)}while(!0);return n&&e.shellSuspendCounter++,Zi=Da=null,Xt=o,z.H=h,z.A=f,Vt===null&&(se=null,Ut=0,au()),_}function LA(){for(;Vt!==null;)Fy(Vt)}function UA(e,n){var s=Xt;Xt|=2;var o=Hy(),h=Gy();se!==e||Ut!==n?(ju=null,Mu=Fe()+500,Ns(e,n)):Cs=di(e,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=In;e:switch($t){case 1:$t=0,In=null,xs(e,n,f,1);break;case 2:case 9:if(ip(f)){$t=0,In=null,Yy(n);break}n=function(){$t!==2&&$t!==9||se!==e||($t=7),Ci(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ip(f)?($t=0,In=null,Yy(n)):($t=0,In=null,xs(e,n,f,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var T=Vt;if(!_||Dv(_)){$t=0,In=null;var R=T.sibling;if(R!==null)Vt=R;else{var B=T.return;B!==null?(Vt=B,Lu(B)):Vt=null}break e}}$t=0,In=null,xs(e,n,f,5);break;case 6:$t=0,In=null,xs(e,n,f,6);break;case 8:Mf(),_e=6;break t;default:throw Error(a(462))}}zA();break}catch(K){qy(e,K)}while(!0);return Zi=Da=null,z.H=o,z.A=h,Xt=s,Vt!==null?0:(se=null,Ut=0,au(),_e)}function zA(){for(;Vt!==null&&!ti();)Fy(Vt)}function Fy(e){var n=vy(e.alternate,e,ar);e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function Yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=fy(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=fy(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Zh(n);default:Ey(s,n),n=Vt=Kg(n,ar),n=vy(s,n,ar)}e.memoizedProps=e.pendingProps,n===null?Lu(e):Vt=n}function xs(e,n,s,o){Zi=Da=null,Zh(n),Ss=null,Ul=0;var h=n.return;try{if(OA(e,h,n,s,Ut)){_e=1,Ou(e,Fn(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;_e=1,Ou(e,Fn(s,e.current)),Vt=null;return}n.flags&32768?(Yt||o===1?e=!0:Cs||(Ut&536870912)!==0?e=!1:(Or=e=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):Lu(n)}function Lu(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,Or);return}e=n.return;var s=IA(n.alternate,n,ar);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);_e===0&&(_e=5)}function Ky(e,n){do{var s=NA(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);_e=6,Vt=null}function Qy(e,n,s,o,h,f,_,T,R){e.cancelPendingCommit=null;do Uu();while(We!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Rh,Se(e,s,f,_,T,R),e===se&&(Vt=se=null,Ut=0),ks=n,Nr=e,Is=s,Nf=f,xf=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,GA(Vi,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=z.T,z.T=null,h=it.p,it.p=2,_=Xt,Xt|=4;try{xA(e,n,s)}finally{Xt=_,it.p=h,z.T=o}}We=1,Xy(),$y(),Zy()}}function Xy(){if(We===1){We=0;var e=Nr,n=ks,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var o=it.p;it.p=2;var h=Xt;Xt|=4;try{Iy(n,e);var f=Xf,_=Pg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&jg(T.ownerDocument.documentElement,T)){if(R!==null&&Th(T)){var B=R.start,K=R.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Tt=T.textContent.length,yt=Math.min(R.start,Tt),ee=R.end===void 0?yt:Math.min(R.end,Tt);!H.extend&&yt>ee&&(_=ee,ee=yt,yt=_);var j=Mg(T,yt),N=Mg(T,ee);if(j&&N&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=Z.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),yt>ee?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Zu=!!Qf,Xf=Qf=null}finally{Xt=h,it.p=o,z.T=s}}e.current=n,We=2}}function $y(){if(We===2){We=0;var e=Nr,n=ks,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var o=it.p;it.p=2;var h=Xt;Xt|=4;try{Dy(e,n.alternate,n)}finally{Xt=h,it.p=o,z.T=s}}We=3}}function Zy(){if(We===4||We===3){We=0,Ge();var e=Nr,n=ks,s=Is,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,ks=Nr=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Ye(s),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=z.T,h=it.p,it.p=2,z.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{z.T=n,it.p=h}}(Is&3)!==0&&Uu(),Ci(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Vf?Ql++:(Ql=0,Vf=e):Ql=0,Xl(0)}}function Wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cl(n)))}function Uu(e){return Xy(),$y(),Zy(),Jy()}function Jy(){if(We!==5)return!1;var e=Nr,n=Nf;Nf=0;var s=Ye(Is),o=z.T,h=it.p;try{it.p=32>s?32:s,z.T=null,s=xf,xf=null;var f=Nr,_=Is;if(We=0,ks=Nr=null,Is=0,(Xt&6)!==0)throw Error(a(331));var T=Xt;if(Xt|=4,jy(f.current),xy(f,f.current,_,s),Xt=T,Xl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ce,f)}catch{}return!0}finally{it.p=h,z.T=o,Wy(e,n)}}function tv(e,n,s){n=Fn(s,n),n=ff(e.stateNode,n,2),e=Ar(e,n,2),e!==null&&(Ln(e,2),Ci(e))}function re(e,n,s){if(e.tag===3)tv(e,e,s);else for(;n!==null;){if(n.tag===3){tv(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=Fn(s,e),s=ry(2),o=Ar(n,s,2),o!==null&&(ay(s,o,n,e),Ln(o,2),Ci(o));break}}n=n.return}}function Lf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new jA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Cf=!0,h.add(s),e=BA.bind(null,e,n,s),n.then(e,e))}function BA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Ut&s)===s&&(_e===4||_e===3&&(Ut&62914560)===Ut&&300>Fe()-If?(Xt&2)===0&&Ns(e,0):Of|=s,Os===Ut&&(Os=0)),Ci(e)}function ev(e,n){n===0&&(n=mr()),e=ms(e,n),e!==null&&(Ln(e,n),Ci(e))}function qA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ev(e,s)}function HA(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ev(e,s)}function GA(e,n){return Jn(e,n)}var zu=null,Vs=null,Uf=!1,Bu=!1,zf=!1,Va=0;function Ci(e){e!==Vs&&e.next===null&&(Vs===null?zu=Vs=e:Vs=Vs.next=e),Bu=!0,Uf||(Uf=!0,YA())}function Xl(e,n){if(!zf&&Bu){zf=!0;do for(var s=!1,o=zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,av(o,f))}else f=Ut,f=Pi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||di(o,f)||(s=!0,av(o,f));o=o.next}while(s);zf=!1}}function FA(){nv()}function nv(){Bu=Uf=!1;var e=0;Va!==0&&(tb()&&(e=Va),Va=0);for(var n=Fe(),s=null,o=zu;o!==null;){var h=o.next,f=iv(o,n);f===0?(o.next=null,s===null?zu=h:s.next=h,h===null&&(Vs=s)):(s=o,(e!==0||(f&3)!==0)&&(Bu=!0)),o=h}Xl(e)}function iv(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-be(f),T=1<<_,R=h[_];R===-1?((T&s)===0||(T&o)!==0)&&(h[_]=Li(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=se,s=Ut,s=Pi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ne(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||di(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ne(o),Ye(s)){case 2:case 8:s=dr;break;case 32:s=Vi;break;case 268435456:s=Mi;break;default:s=Vi}return o=rv.bind(null,e),s=Jn(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ne(o),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,n){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Uu()&&e.callbackNode!==s)return null;var o=Ut;return o=Pi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,n),iv(e,Fe()),e.callbackNode!=null&&e.callbackNode===s?rv.bind(null,e):null)}function av(e,n){if(Uu())return null;zy(e,n,!0)}function YA(){nb(function(){(Xt&6)!==0?Jn(fr,FA):nv()})}function Bf(){return Va===0&&(Va=aa()),Va}function sv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ns(""+e)}function lv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function KA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=sv((h[he]||null).action),_=o.submitter;_&&(n=(n=_[he]||null)?sv(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new is("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Va!==0){var R=_?lv(h,_):new FormData(h);lf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=_?lv(h,_):new FormData(h),lf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var qf=0;qf<wh.length;qf++){var Hf=wh[qf],QA=Hf.toLowerCase(),XA=Hf[0].toUpperCase()+Hf.slice(1);li(QA,"on"+XA)}li(zg,"onAnimationEnd"),li(Bg,"onAnimationIteration"),li(qg,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(fA,"onTransitionRun"),li(dA,"onTransitionStart"),li(mA,"onTransitionCancel"),li(Hg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function ov(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(T=o[_],R=T.instance,B=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=R}}}}function Mt(e,n){var s=n[Ui];s===void 0&&(s=n[Ui]=new Set);var o=e+"__bubble";s.has(o)||(uv(n,e,2,!1),s.add(o))}function Gf(e,n,s){var o=0;n&&(o|=4),uv(s,e,o,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[qu]){e[qu]=!0,Qe.forEach(function(s){s!=="selectionchange"&&($A.has(s)||Gf(s,!1,e),Gf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[qu]||(n[qu]=!0,Gf("selectionchange",!1,n))}}function uv(e,n,s,o){switch(xv(n)){case 2:var h=bb;break;case 8:h=Sb;break;default:h=ad}s=h.bind(null,n,s,e),h=void 0,!Hn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Yf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ri(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}T=T.parentNode}}o=o.return}Go(function(){var B=f,K=qn(s),Z=[];t:{var q=Gg.get(e);if(q!==void 0){var H=is,Tt=e;switch(e){case"keypress":if(_i(s)===0)break t;case"keydown":case"keyup":H=us;break;case"focusin":Tt="focus",H=ss;break;case"focusout":Tt="blur",H=ss;break;case"beforeblur":case"afterblur":H=ss;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Wo;break;case zg:case Bg:case qg:H=ls;break;case Hg:H=tu;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=cs;break;case"copy":case"cut":case"paste":H=os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=El;break;case"toggle":case"beforetoggle":H=nu}var yt=(n&4)!==0,ee=!yt&&(e==="scroll"||e==="scrollend"),j=yt?q!==null?q+"Capture":null:q;yt=[];for(var N=B,U;N!==null;){var X=N;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||j===null||(X=da(N,j),X!=null&&yt.push(Zl(N,X,U))),ee)break;N=N.return}0<yt.length&&(q=new H(q,Tt,null,s,K),Z.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&s!==qi&&(Tt=s.relatedTarget||s.fromElement)&&(ri(Tt)||Tt[Ke]))break t;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Tt=s.relatedTarget||s.toElement,H=B,Tt=Tt?ri(Tt):null,Tt!==null&&(ee=c(Tt),yt=Tt.tag,Tt!==ee||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(H=null,Tt=B),H!==Tt)){if(yt=Gn,X="onMouseLeave",j="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=El,X="onPointerLeave",j="onPointerEnter",N="pointer"),ee=H==null?q:At(H),U=Tt==null?q:At(Tt),q=new yt(X,N+"leave",H,s,K),q.target=ee,q.relatedTarget=U,X=null,ri(K)===B&&(yt=new yt(j,N+"enter",Tt,s,K),yt.target=U,yt.relatedTarget=ee,X=yt),ee=X,H&&Tt)e:{for(yt=H,j=Tt,N=0,U=yt;U;U=Ms(U))N++;for(U=0,X=j;X;X=Ms(X))U++;for(;0<N-U;)yt=Ms(yt),N--;for(;0<U-N;)j=Ms(j),U--;for(;N--;){if(yt===j||j!==null&&yt===j.alternate)break e;yt=Ms(yt),j=Ms(j)}yt=null}else yt=null;H!==null&&cv(Z,q,H,yt,!1),Tt!==null&&ee!==null&&cv(Z,ee,Tt,yt,!0)}}t:{if(q=B?At(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ot=Og;else if(Ne(q))if(kg)ot=uA;else{ot=lA;var xt=sA}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&dl(B.elementType)&&(ot=Og):ot=oA;if(ot&&(ot=ot(e,B))){Ki(Z,ot,s,K);break t}xt&&xt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&yr(q,"number",q.value)}switch(xt=B?At(B):window,e){case"focusin":(Ne(xt)||xt.contentEditable==="true")&&(hs=xt,Ah=B,bl=null);break;case"focusout":bl=Ah=hs=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,Lg(Z,s,K);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":Lg(Z,s,K)}var dt;if(Ai)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?F(e,s)&&(vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(v&&s.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(dt=gl()):(vi=K,vr="value"in vi?vi.value:vi.textContent,Pt=!0)),xt=Hu(B,vt),0<xt.length&&(vt=new vl(vt,e,null,s,K),Z.push({event:vt,listeners:xt}),dt?vt.data=dt:(dt=et(s),dt!==null&&(vt.data=dt)))),(dt=g?Ie(e,s):Lt(e,s))&&(vt=Hu(B,"onBeforeInput"),0<vt.length&&(xt=new vl("onBeforeInput","beforeinput",null,s,K),Z.push({event:xt,listeners:vt}),xt.data=dt)),KA(Z,e,B,s,K)}ov(Z,n)})}function Zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Hu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=da(e,s),h!=null&&o.unshift(Zl(e,h,f)),h=da(e,n),h!=null&&o.push(Zl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,n,s,o,h){for(var f=n._reactName,_=[];s!==null&&s!==o;){var T=s,R=T.alternate,B=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||B===null||(R=B,h?(B=da(s,f),B!=null&&_.unshift(Zl(s,B,R))):h||(B=da(s,f),B!=null&&_.push(Zl(s,B,R)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var ZA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(ZA,`
`).replace(WA,"")}function fv(e,n){return n=hv(n),hv(e)===n}function Gu(){}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Bn(e,""+o);break;case"className":pi(e,"class",o);break;case"tabIndex":pi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,s,o);break;case"style":fl(e,o,f);break;case"data":if(n!=="object"){pi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ns(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ns(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ns(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),pr(e,"popover",o);break;case"xlinkActuate":Xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gh.get(s)||s,pr(e,s,o))}}function Kf(e,n,s,o,h,f){switch(s){case"style":fl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&Bn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pe.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[he]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):pr(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,_,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=f=_=h=null,R=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:te(e,n,o,K,s,null)}}ca(e,f,T,R,B,_,h,!1),es(e);return;case"select":Mt("invalid",e),o=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:te(e,n,h,T,s,null)}n=f,s=_,e.multiple=!!o,n!=null?Bi(e,!!o,n,!1):s!=null&&Bi(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:te(e,n,_,T,s,null)}ha(e,o,h,f),es(e);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,n,R,o,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<$l.length;o++)Mt($l[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,B,o,s,null)}return;default:if(dl(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Kf(e,n,K,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&te(e,n,T,o,s,null))}function JA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,R=null,B=null,K=null;for(H in s){var Z=s[H];if(s.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(H)||te(e,n,H,null,o,Z)}}for(var q in o){var H=o[q];if(Z=s[q],o.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Z&&te(e,n,q,H,o,Z)}}Rn(e,_,T,R,B,K,f,h);return;case"select":H=_=T=q=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==R&&te(e,n,h,f,o,R)}n=T,s=_,o=H,q!=null?Bi(e,!!s,q,!1):!!o!=!!s&&(n!=null?Bi(e,!!s,n,!0):Bi(e,!!s,s?[]:"",!1));return;case"textarea":H=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,n,T,null,o,h)}for(_ in o)if(h=o[_],f=s[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,_,h,o,f)}Wt(e,q,H);return;case"option":for(var Tt in s)if(q=s[Tt],s.hasOwnProperty(Tt)&&q!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:te(e,n,Tt,null,o,q)}for(R in o)if(q=o[R],H=s[R],o.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(e,n,R,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)q=s[yt],s.hasOwnProperty(yt)&&q!=null&&!o.hasOwnProperty(yt)&&te(e,n,yt,null,o,q);for(B in o)if(q=o[B],H=s[B],o.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:te(e,n,B,q,o,H)}return;default:if(dl(n)){for(var ee in s)q=s[ee],s.hasOwnProperty(ee)&&q!==void 0&&!o.hasOwnProperty(ee)&&Kf(e,n,ee,void 0,o,q);for(K in o)q=o[K],H=s[K],!o.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||Kf(e,n,K,q,o,H);return}}for(var j in s)q=s[j],s.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&te(e,n,j,null,o,q);for(Z in o)q=o[Z],H=s[Z],!o.hasOwnProperty(Z)||q===H||q==null&&H==null||te(e,n,Z,q,o,H)}var Qf=null,Xf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function dv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $f(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zf=null;function tb(){var e=window.event;return e&&e.type==="popstate"?e===Zf?!1:(Zf=e,!0):(Zf=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(e){return pv.resolve(null).then(e).catch(ib)}:gv;function ib(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function yv(e,n){var s=n,o=0,h=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&Wl(_.documentElement),s&2&&Wl(_.body),s&4)for(s=_.head,Wl(s),_=s.firstChild;_;){var T=_.nextSibling,R=_.nodeName;_[ni]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){e.removeChild(f),so(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);so(n)}function Wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wf(s),ii(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function rb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ui(e.nextSibling),e===null)break}return null}function ab(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ui(e.nextSibling),e===null))return null;return e}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sb(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ui(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var td=null;function vv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function _v(e,n,s){switch(n=Fu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ii(e)}var Zn=new Map,Ev=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=it.d;it.d={f:lb,r:ob,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:gb};function lb(){var e=sr.f(),n=Pu();return e||n}function ob(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):sr.r(e)}var js=typeof document>"u"?null:document;function Tv(e,n,s){var o=js;if(o&&typeof n=="string"&&n){var h=we(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ev.has(h)||(Ev.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ct(n),o.head.appendChild(n)))}}function ub(e){sr.D(e),Tv("dns-prefetch",e,null)}function cb(e,n){sr.C(e,n),Tv("preconnect",e,n)}function hb(e,n,s){sr.L(e,n,s);var o=js;if(o&&e&&n){var h='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+we(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+we(s.imageSizes)+'"]')):h+='[href="'+we(e)+'"]';var f=h;switch(n){case"style":f=Ps(e);break;case"script":f=Ls(e)}Zn.has(f)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Jl(f))||n==="script"&&o.querySelector(to(f))||(n=o.createElement("link"),Je(n,"link",e),Ct(n),o.head.appendChild(n)))}}function fb(e,n){sr.m(e,n);var s=js;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+we(o)+'"][href="'+we(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ls(e)}if(!Zn.has(f)&&(e=E({rel:"modulepreload",href:e},n),Zn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(to(f)))return}o=s.createElement("link"),Je(o,"link",e),Ct(o),s.head.appendChild(o)}}}function db(e,n,s){sr.S(e,n,s);var o=js;if(o&&e){var h=Nt(o).hoistableStyles,f=Ps(e);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Jl(f)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Zn.get(f))&&ed(e,s);var R=_=o.createElement("link");Ct(R),Je(R,"link",e),R._p=new Promise(function(B,K){R.onload=B,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function mb(e,n){sr.X(e,n);var s=js;if(s&&e){var o=Nt(s).hoistableScripts,h=Ls(e),f=o.get(h);f||(f=s.querySelector(to(h)),f||(e=E({src:e,async:!0},n),(n=Zn.get(h))&&nd(e,n),f=s.createElement("script"),Ct(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gb(e,n){sr.M(e,n);var s=js;if(s&&e){var o=Nt(s).hoistableScripts,h=Ls(e),f=o.get(h);f||(f=s.querySelector(to(h)),f||(e=E({src:e,async:!0,type:"module"},n),(n=Zn.get(h))&&nd(e,n),f=s.createElement("script"),Ct(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Av(e,n,s,o){var h=(h=pt.current)?Yu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ps(s.href),s=Nt(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ps(s.href);var f=Nt(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Jl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Zn.set(e,s),f||pb(h,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(s),s=Nt(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ps(e){return'href="'+we(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function bv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function pb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Ct(n),e.head.appendChild(n))}function Ls(e){return'[src="'+we(e)+'"]'}function to(e){return"script[async]"+e}function Sv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+we(s.href)+'"]');if(o)return n.instance=o,Ct(o),o;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ct(o),Je(o,"style",h),Ku(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ps(s.href);var f=e.querySelector(Jl(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;o=bv(s),(h=Zn.get(h))&&ed(o,h),f=(e.ownerDocument||e).createElement("link"),Ct(f);var _=f;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Je(f,"link",o),n.state.loading|=4,Ku(f,s.precedence,e),n.instance=f;case"script":return f=Ls(s.src),(h=e.querySelector(to(f)))?(n.instance=h,Ct(h),h):(o=s,(h=Zn.get(f))&&(o=E({},s),nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ct(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ku(o,s.precedence,e));return n.instance}function Ku(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function wv(e,n,s){if(Qu===null){var o=new Map,h=Qu=new Map;h.set(s,o)}else h=Qu,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ni]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function Rv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function yb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var eo=null;function vb(){}function _b(e,n,s){if(eo===null)throw Error(a(475));var o=eo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ps(s.href),f=e.querySelector(Jl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Xu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,Ct(f);return}f=e.ownerDocument||e,s=bv(s),(h=Zn.get(h))&&ed(s,h),f=f.createElement("link"),Ct(f);var _=f;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Je(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Xu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Eb(){if(eo===null)throw Error(a(475));var e=eo;return e.stylesheets&&e.count===0&&id(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $u=null;function id(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$u=new Map,n.forEach(Tb,e),$u=null,Xu.call(e))}function Tb(e,n){if(!(n.state.loading&4)){var s=$u.get(e);if(s)var o=s.get(null);else{s=new Map,$u.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||o,f===o&&s.set(null,h),s.set(_,h),this.count++,o=Xu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var no={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Ab(e,n,s,o,h,f,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cv(e,n,s,o,h,f,_,T,R,B,K,Z){return e=new Ab(e,n,s,_,T,R,B,Z),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=Ph(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Bh(f),e}function Ov(e){return e?(e=gs,e):gs}function kv(e,n,s,o,h,f){h=Ov(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ar(e,o,n),s!==null&&(xn(s,e,n),Nl(s,e,n))}function Iv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function rd(e,n){Iv(e,n),(e=e.alternate)&&Iv(e,n)}function Nv(e){if(e.tag===13){var n=ms(e,67108864);n!==null&&xn(n,e,67108864),rd(e,67108864)}}var Zu=!0;function bb(e,n,s,o){var h=z.T;z.T=null;var f=it.p;try{it.p=2,ad(e,n,s,o)}finally{it.p=f,z.T=h}}function Sb(e,n,s,o){var h=z.T;z.T=null;var f=it.p;try{it.p=8,ad(e,n,s,o)}finally{it.p=f,z.T=h}}function ad(e,n,s,o){if(Zu){var h=sd(o);if(h===null)Yf(e,n,o,Wu,s),Vv(e,o);else if(Rb(h,e,n,s,o))o.stopPropagation();else if(Vv(e,o),n&4&&-1<wb.indexOf(e)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=wn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-be(_);T.entanglements[1]|=R,_&=~R}Ci(f),(Xt&6)===0&&(Mu=Fe()+500,Xl(0))}}break;case 13:T=ms(f,2),T!==null&&xn(T,f,2),Pu(),rd(f,2)}if(f=sd(o),f===null&&Yf(e,n,o,Wu,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Yf(e,n,o,null,s)}}function sd(e){return e=qn(e),ld(e)}var Wu=null;function ld(e){if(Wu=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wu=e,null}function xv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ka()){case fr:return 2;case dr:return 8;case Vi:case ol:return 32;case Mi:return 268435456;default:return 32}default:return 32}}var od=!1,Mr=null,jr=null,Pr=null,io=new Map,ro=new Map,Lr=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(e,n){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function ao(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&Nv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Rb(e,n,s,o,h){switch(n){case"focusin":return Mr=ao(Mr,e,n,s,o,h),!0;case"dragenter":return jr=ao(jr,e,n,s,o,h),!0;case"mouseover":return Pr=ao(Pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return io.set(f,ao(io.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ro.set(f,ao(ro.get(f)||null,e,n,s,o,h)),!0}return!1}function Mv(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,gr(e.priority,function(){if(s.tag===13){var o=Nn();o=Ht(o);var h=ms(s,o);h!==null&&xn(h,s,o),rd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);qi=o,s.target.dispatchEvent(o),qi=null}else return n=zn(s),n!==null&&Nv(n),e.blockedOn=s,!1;n.shift()}return!0}function jv(e,n,s){Ju(e)&&s.delete(n)}function Db(){od=!1,Mr!==null&&Ju(Mr)&&(Mr=null),jr!==null&&Ju(jr)&&(jr=null),Pr!==null&&Ju(Pr)&&(Pr=null),io.forEach(jv),ro.forEach(jv)}function tc(e,n){e.blockedOn===n&&(e.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Db)))}var ec=null;function Pv(e){ec!==e&&(ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ld(o||s)===null)continue;break}var f=zn(s);f!==null&&(e.splice(n,3),n-=3,lf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function so(e){function n(R){return tc(R,e)}Mr!==null&&tc(Mr,e),jr!==null&&tc(jr,e),Pr!==null&&tc(Pr,e),io.forEach(n),ro.forEach(n);for(var s=0;s<Lr.length;s++){var o=Lr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(s=Lr[0],s.blockedOn===null);)Mv(s),s.blockedOn===null&&Lr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],_=h[he]||null;if(typeof f=="function")_||Pv(s);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[he]||null)T=_.formAction;else if(ld(h)!==null)continue}else T=_.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Pv(s)}}}function ud(e){this._internalRoot=e}nc.prototype.render=ud.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Nn();kv(s,o,e,n,null,null)},nc.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kv(e.current,2,null,e,null,null),Pu(),n[Ke]=null}};function nc(e){this._internalRoot=e}nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=gi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Lr.length&&n!==0&&n<Lr[s].priority;s++);Lr.splice(s,0,e),s===0&&Mv(e)}};var Lv=t.version;if(Lv!=="19.1.0")throw Error(a(527,Lv,"19.1.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Cb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ce=ic.inject(Cb),Ft=ic}catch{}}return oo.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=ty,f=ey,_=ny,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Cv(e,1,!1,null,null,s,o,h,f,_,T,null),e[Ke]=n.current,Ff(e),new ud(n)},oo.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=ty,_=ey,T=ny,R=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=Cv(e,1,!0,n,s??null,o,h,f,_,T,R,B),n.context=Ov(null),s=n.current,o=Nn(),o=Ht(o),h=Tr(o),h.callback=null,Ar(s,h,o),s=o,n.current.lanes=s,Ln(n,s),Ci(n),e[Ke]=n.current,Ff(e),new nc(n)},oo.version="19.1.0",oo}var Qv;function Ub(){if(Qv)return fd.exports;Qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=Lb(),fd.exports}var zb=Ub();function N0(r){var t,i,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(i=N0(r[t]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i);return a}function qc(){for(var r,t,i=0,a="",l=arguments.length;i<l;i++)(r=arguments[i])&&(t=N0(r))&&(a&&(a+=" "),a+=t);return a}var pd,Xv;function Bb(){if(Xv)return pd;Xv=1;const r=(p,y,E,b)=>{if(E==="length"||E==="prototype"||E==="arguments"||E==="caller")return;const O=Object.getOwnPropertyDescriptor(p,E),P=Object.getOwnPropertyDescriptor(y,E);!t(O,P)&&b||Object.defineProperty(p,E,P)},t=function(p,y){return p===void 0||p.configurable||p.writable===y.writable&&p.enumerable===y.enumerable&&p.configurable===y.configurable&&(p.writable||p.value===y.value)},i=(p,y)=>{const E=Object.getPrototypeOf(y);E!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,E)},a=(p,y)=>`/* Wrapped ${p}*/
${y}`,l=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),c=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=(p,y,E)=>{const b=E===""?"":`with ${E.trim()}() `,O=a.bind(null,b,y.toString());Object.defineProperty(O,"name",c),Object.defineProperty(p,"toString",{...l,value:O})};return pd=(p,y,{ignoreNonConfigurable:E=!1}={})=>{const{name:b}=p;for(const O of Reflect.ownKeys(y))r(p,y,O,E);return i(p,y),d(p,y,b),p},pd}var uo={exports:{}},yd,$v;function qb(){return $v||($v=1,yd=()=>{const r={};return r.promise=new Promise((t,i)=>{r.resolve=t,r.reject=i}),r}),yd}var rc=uo.exports,Zv;function Hb(){return Zv||(Zv=1,function(r,t){var i=rc&&rc.__awaiter||function(d,m,p,y){return new(p||(p=Promise))(function(E,b){function O(Q){try{G(y.next(Q))}catch(Y){b(Y)}}function P(Q){try{G(y.throw(Q))}catch(Y){b(Y)}}function G(Q){Q.done?E(Q.value):new p(function(Y){Y(Q.value)}).then(O,P)}G((y=y.apply(d,m||[])).next())})},a=rc&&rc.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(qb());function c(d,m="maxAge"){let p,y,E;const b=()=>i(this,void 0,void 0,function*(){if(p!==void 0)return;const G=Q=>i(this,void 0,void 0,function*(){E=l.default();const Y=Q[1][m]-Date.now();if(Y<=0){d.delete(Q[0]),E.resolve();return}return p=Q[0],y=setTimeout(()=>{d.delete(Q[0]),E&&E.resolve()},Y),typeof y.unref=="function"&&y.unref(),E.promise});try{for(const Q of d)yield G(Q)}catch{}p=void 0}),O=()=>{p=void 0,y!==void 0&&(clearTimeout(y),y=void 0),E!==void 0&&(E.reject(void 0),E=void 0)},P=d.set.bind(d);return d.set=(G,Q)=>{d.has(G)&&d.delete(G);const Y=P(G,Q);return p&&p===G&&O(),b(),Y},b(),d}t.default=c,r.exports=c,r.exports.default=c}(uo,uo.exports)),uo.exports}var vd,Wv;function Gb(){if(Wv)return vd;Wv=1;const r=Bb(),t=Hb(),i=new WeakMap,a=new WeakMap,l=(c,{cacheKey:d,cache:m=new Map,maxAge:p}={})=>{typeof p=="number"&&t(m);const y=function(...E){const b=d?d(E):E[0],O=m.get(b);if(O)return O.data;const P=c.apply(this,E);return m.set(b,{data:P,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),P};return r(y,c,{ignoreNonConfigurable:!0}),a.set(y,m),y};return l.decorator=(c={})=>(d,m,p)=>{const y=d[m];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete p.value,delete p.writable,p.get=function(){if(!i.has(this)){const E=l(y,c);return i.set(this,E),E}return i.get(this)}},l.clear=c=>{const d=a.get(c);if(!d)throw new TypeError("Can't clear a function that was not memoized!");if(typeof d.clear!="function")throw new TypeError("The cache Map can't be cleared!");d.clear()},vd=l,vd}var Fb=Gb();const x0=kb(Fb);function Yb(r){return typeof r=="string"}function Kb(r,t,i){return i.indexOf(r)===t}function Qb(r){return r.toLowerCase()===r}function Jv(r){return r.indexOf(",")===-1?r:r.split(",")}function Md(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var t=r.split(".")[0],i=t===void 0?"":t;return Md(i)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],i=a===void 0?"":a;return Md(i)}if(r.indexOf("-")===-1||!Qb(r))return r;var l=r.split("-"),c=l[0],d=l[1],m=d===void 0?"":d;return"".concat(c,"-").concat(m.toUpperCase())}function Xb(r){var t=r===void 0?{}:r,i=t.useFallbackLocale,a=i===void 0?!0:i,l=t.fallbackLocale,c=l===void 0?"en-US":l,d=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],y=0,E=m;y<E.length;y++){var b=E[y];p=p.concat(Jv(b))}var O=navigator.language,P=O&&Jv(O);d=d.concat(p,P)}return a&&d.push(c),d.filter(Yb).map(Md).filter(Kb)}var $b=x0(Xb,{cacheKey:JSON.stringify});function Zb(r){return $b(r)[0]||null}var V0=x0(Zb,{cacheKey:JSON.stringify});function hr(r,t,i){return function(l,c){c===void 0&&(c=i);var d=r(l)+c;return t(d)}}function ko(r){return function(i){return new Date(r(i).getTime()-1)}}function Io(r,t){return function(a){return[r(a),t(a)]}}function me(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var t=parseInt(r,10);if(typeof r=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(r,"."))}function Jr(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Hc(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function el(r){var t=me(r),i=t+(-t+1)%100,a=new Date;return a.setFullYear(i,0,1),a.setHours(0,0,0,0),a}var Wb=hr(me,el,-100),M0=hr(me,el,100),Am=ko(M0),Jb=hr(me,Am,-100),j0=Io(el,Am);function ta(r){var t=me(r),i=t+(-t+1)%10,a=new Date;return a.setFullYear(i,0,1),a.setHours(0,0,0,0),a}var P0=hr(me,ta,-10),bm=hr(me,ta,10),Gc=ko(bm),L0=hr(me,Gc,-10),U0=Io(ta,Gc);function nl(r){var t=me(r),i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}var z0=hr(me,nl,-1),Sm=hr(me,nl,1),Fc=ko(Sm),B0=hr(me,Fc,-1),tS=Io(nl,Fc);function wm(r,t){return function(a,l){l===void 0&&(l=t);var c=me(a),d=Jr(a)+l,m=new Date;return m.setFullYear(c,d,1),m.setHours(0,0,0,0),r(m)}}function qa(r){var t=me(r),i=Jr(r),a=new Date;return a.setFullYear(t,i,1),a.setHours(0,0,0,0),a}var q0=wm(qa,-1),Rm=wm(qa,1),No=ko(Rm),H0=wm(No,-1),eS=Io(qa,No);function nS(r,t){return function(a,l){l===void 0&&(l=t);var c=me(a),d=Jr(a),m=Hc(a)+l,p=new Date;return p.setFullYear(c,d,m),p.setHours(0,0,0,0),r(p)}}function xo(r){var t=me(r),i=Jr(r),a=Hc(r),l=new Date;return l.setFullYear(t,i,a),l.setHours(0,0,0,0),l}var iS=nS(xo,1),Dm=ko(iS),rS=Io(xo,Dm);function G0(r){return Hc(No(r))}var nn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},aS={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Cm=[0,1,2,3,4,5,6],_d=new Map;function sS(r){return function(i,a){var l=i||V0();_d.has(l)||_d.set(l,new Map);var c=_d.get(l);return c.has(r)||c.set(r,new Intl.DateTimeFormat(l||void 0,r).format),c.get(r)(a)}}function lS(r){var t=new Date(r);return new Date(t.setHours(12))}function Ha(r){return function(t,i){return sS(r)(t,lS(i))}}var oS={day:"numeric"},uS={day:"numeric",month:"long",year:"numeric"},cS={month:"long"},hS={month:"long",year:"numeric"},fS={weekday:"short"},dS={weekday:"long"},mS={year:"numeric"},gS=Ha(oS),pS=Ha(uS),yS=Ha(cS),F0=Ha(hS),vS=Ha(fS),_S=Ha(dS),Yc=Ha(mS),ES=Cm[0],TS=Cm[5],t_=Cm[6];function _o(r,t){t===void 0&&(t=nn.ISO_8601);var i=r.getDay();switch(t){case nn.ISO_8601:return(i+6)%7;case nn.ISLAMIC:return(i+1)%7;case nn.HEBREW:case nn.GREGORY:return i;default:throw new Error("Unsupported calendar type.")}}function AS(r){var t=el(r);return me(t)}function bS(r){var t=ta(r);return me(t)}function jd(r,t){t===void 0&&(t=nn.ISO_8601);var i=me(r),a=Jr(r),l=r.getDate()-_o(r,t);return new Date(i,a,l)}function SS(r,t){t===void 0&&(t=nn.ISO_8601);var i=t===nn.GREGORY?nn.GREGORY:nn.ISO_8601,a=jd(r,t),l=me(r)+1,c,d;do c=new Date(l,0,i===nn.ISO_8601?4:1),d=jd(c,t),l-=1;while(r<d);return Math.round((a.getTime()-d.getTime())/(864e5*7))+1}function La(r,t){switch(r){case"century":return el(t);case"decade":return ta(t);case"year":return nl(t);case"month":return qa(t);case"day":return xo(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function wS(r,t){switch(r){case"century":return Wb(t);case"decade":return P0(t);case"year":return z0(t);case"month":return q0(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function Y0(r,t){switch(r){case"century":return M0(t);case"decade":return bm(t);case"year":return Sm(t);case"month":return Rm(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function RS(r,t){switch(r){case"decade":return P0(t,-100);case"year":return z0(t,-10);case"month":return q0(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function DS(r,t){switch(r){case"decade":return bm(t,100);case"year":return Sm(t,10);case"month":return Rm(t,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function K0(r,t){switch(r){case"century":return Am(t);case"decade":return Gc(t);case"year":return Fc(t);case"month":return No(t);case"day":return Dm(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function CS(r,t){switch(r){case"century":return Jb(t);case"decade":return L0(t);case"year":return B0(t);case"month":return H0(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function OS(r,t){switch(r){case"decade":return L0(t,-100);case"year":return B0(t,-10);case"month":return H0(t,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function e_(r,t){switch(r){case"century":return j0(t);case"decade":return U0(t);case"year":return tS(t);case"month":return eS(t);case"day":return rS(t);default:throw new Error("Invalid rangeType: ".concat(r))}}function kS(r,t,i){var a=[t,i].sort(function(l,c){return l.getTime()-c.getTime()});return[La(r,a[0]),K0(r,a[1])]}function Q0(r,t,i){return i.map(function(a){return(t||Yc)(r,a)}).join(" – ")}function IS(r,t,i){return Q0(r,t,j0(i))}function X0(r,t,i){return Q0(r,t,U0(i))}function NS(r){return r.getDay()===new Date().getDay()}function $0(r,t){t===void 0&&(t=nn.ISO_8601);var i=r.getDay();switch(t){case nn.ISLAMIC:case nn.HEBREW:return i===TS||i===t_;case nn.ISO_8601:case nn.GREGORY:return i===t_||i===ES;default:throw new Error("Unsupported calendar type.")}}var Oi="react-calendar__navigation";function xS(r){var t=r.activeStartDate,i=r.drillUp,a=r.formatMonthYear,l=a===void 0?F0:a,c=r.formatYear,d=c===void 0?Yc:c,m=r.locale,p=r.maxDate,y=r.minDate,E=r.navigationAriaLabel,b=E===void 0?"":E,O=r.navigationAriaLive,P=r.navigationLabel,G=r.next2AriaLabel,Q=G===void 0?"":G,Y=r.next2Label,at=Y===void 0?"»":Y,ct=r.nextAriaLabel,rt=ct===void 0?"":ct,gt=r.nextLabel,ht=gt===void 0?"›":gt,_t=r.prev2AriaLabel,x=_t===void 0?"":_t,S=r.prev2Label,D=S===void 0?"«":S,I=r.prevAriaLabel,V=I===void 0?"":I,M=r.prevLabel,C=M===void 0?"‹":M,ae=r.setActiveStartDate,Zt=r.showDoubleView,z=r.view,it=r.views,ut=it.indexOf(z)>0,Rt=z!=="century",k=wS(z,t),$=Rt?RS(z,t):void 0,nt=Y0(z,t),tt=Rt?DS(z,t):void 0,ft=function(){if(k.getFullYear()<0)return!0;var ne=CS(z,t);return y&&y>=ne}(),Dt=Rt&&function(){if($.getFullYear()<0)return!0;var ne=OS(z,t);return y&&y>=ne}(),pt=p&&p<nt,ue=Rt&&p&&p<tt;function qt(){ae(k,"prev")}function ke(){ae($,"prev2")}function Mn(){ae(nt,"next")}function Sn(){ae(tt,"next2")}function jn(ne){var ti=function(){switch(z){case"century":return IS(m,d,ne);case"decade":return X0(m,d,ne);case"year":return d(m,ne);case"month":return l(m,ne);default:throw new Error("Invalid view: ".concat(z,"."))}}();return P?P({date:ne,label:ti,locale:m||V0()||void 0,view:z}):ti}function Jn(){var ne="".concat(Oi,"__label");return w.jsxs("button",{"aria-label":b,"aria-live":O,className:ne,disabled:!ut,onClick:i,style:{flexGrow:1},type:"button",children:[w.jsx("span",{className:"".concat(ne,"__labelText ").concat(ne,"__labelText--from"),children:jn(t)}),Zt?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"".concat(ne,"__divider"),children:" – "}),w.jsx("span",{className:"".concat(ne,"__labelText ").concat(ne,"__labelText--to"),children:jn(nt)})]}):null]})}return w.jsxs("div",{className:Oi,children:[D!==null&&Rt?w.jsx("button",{"aria-label":x,className:"".concat(Oi,"__arrow ").concat(Oi,"__prev2-button"),disabled:Dt,onClick:ke,type:"button",children:D}):null,C!==null&&w.jsx("button",{"aria-label":V,className:"".concat(Oi,"__arrow ").concat(Oi,"__prev-button"),disabled:ft,onClick:qt,type:"button",children:C}),Jn(),ht!==null&&w.jsx("button",{"aria-label":rt,className:"".concat(Oi,"__arrow ").concat(Oi,"__next-button"),disabled:pt,onClick:Mn,type:"button",children:ht}),at!==null&&Rt?w.jsx("button",{"aria-label":Q,className:"".concat(Oi,"__arrow ").concat(Oi,"__next2-button"),disabled:ue,onClick:Sn,type:"button",children:at}):null]})}var Hs=function(){return Hs=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hs.apply(this,arguments)},VS=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function n_(r){return"".concat(r,"%")}function Om(r){var t=r.children,i=r.className,a=r.count,l=r.direction,c=r.offset,d=r.style,m=r.wrap,p=VS(r,["children","className","count","direction","offset","style","wrap"]);return w.jsx("div",Hs({className:i,style:Hs({display:"flex",flexDirection:l,flexWrap:m?"wrap":"nowrap"},d)},p,{children:bt.Children.map(t,function(y,E){var b=c&&E===0?n_(100*c/a):null;return bt.cloneElement(y,Hs(Hs({},y.props),{style:{flexBasis:n_(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function MS(r,t,i){return t&&t>r?t:i&&i<r?i:r}function Eo(r,t){return t[0]<=r&&t[1]>=r}function jS(r,t){return r[0]<=t[0]&&r[1]>=t[1]}function Z0(r,t){return Eo(r[0],t)||Eo(r[1],t)}function i_(r,t,i){var a=Z0(t,r),l=[];if(a){l.push(i);var c=Eo(r[0],t),d=Eo(r[1],t);c&&l.push("".concat(i,"Start")),d&&l.push("".concat(i,"End")),c&&d&&l.push("".concat(i,"BothEnds"))}return l}function PS(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function LS(r){if(!r)throw new Error("args is required");var t=r.value,i=r.date,a=r.hover,l="react-calendar__tile",c=[l];if(!i)return c;var d=new Date,m=function(){if(Array.isArray(i))return i;var P=r.dateType;if(!P)throw new Error("dateType is required when date is not an array of two dates");return e_(P,i)}();if(Eo(d,m)&&c.push("".concat(l,"--now")),!t||!PS(t))return c;var p=function(){if(Array.isArray(t))return t;var P=r.valueType;if(!P)throw new Error("valueType is required when value is not an array of two dates");return e_(P,t)}();jS(p,m)?c.push("".concat(l,"--active")):Z0(p,m)&&c.push("".concat(l,"--hasActive"));var y=i_(p,m,"".concat(l,"--range"));c.push.apply(c,y);var E=Array.isArray(t)?t:[t];if(a&&E.length===1){var b=a>p[0]?[p[0],a]:[a,p[0]],O=i_(b,m,"".concat(l,"--hover"));c.push.apply(c,O)}return c}function Kc(r){for(var t=r.className,i=r.count,a=i===void 0?3:i,l=r.dateTransform,c=r.dateType,d=r.end,m=r.hover,p=r.offset,y=r.renderTile,E=r.start,b=r.step,O=b===void 0?1:b,P=r.value,G=r.valueType,Q=[],Y=E;Y<=d;Y+=O){var at=l(Y);Q.push(y({classes:LS({date:at,dateType:c,hover:m,value:P,valueType:G}),date:at}))}return w.jsx(Om,{className:t,count:a,offset:p,wrap:!0,children:Q})}function Qc(r){var t=r.activeStartDate,i=r.children,a=r.classes,l=r.date,c=r.formatAbbr,d=r.locale,m=r.maxDate,p=r.maxDateTransform,y=r.minDate,E=r.minDateTransform,b=r.onClick,O=r.onMouseOver,P=r.style,G=r.tileClassName,Q=r.tileContent,Y=r.tileDisabled,at=r.view,ct=bt.useMemo(function(){var gt={activeStartDate:t,date:l,view:at};return typeof G=="function"?G(gt):G},[t,l,G,at]),rt=bt.useMemo(function(){var gt={activeStartDate:t,date:l,view:at};return typeof Q=="function"?Q(gt):Q},[t,l,Q,at]);return w.jsxs("button",{className:qc(a,ct),disabled:y&&E(y)>l||m&&p(m)<l||(Y==null?void 0:Y({activeStartDate:t,date:l,view:at})),onClick:b?function(gt){return b(l,gt)}:void 0,onFocus:O?function(){return O(l)}:void 0,onMouseOver:O?function(){return O(l)}:void 0,style:P,type:"button",children:[c?w.jsx("abbr",{"aria-label":c(d,l),children:i}):i,rt]})}var Pd=function(){return Pd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Pd.apply(this,arguments)},US=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i},r_="react-calendar__century-view__decades__decade";function zS(r){var t=r.classes,i=t===void 0?[]:t,a=r.currentCentury,l=r.formatYear,c=l===void 0?Yc:l,d=US(r,["classes","currentCentury","formatYear"]),m=d.date,p=d.locale,y=[];return i&&y.push.apply(y,i),y.push(r_),el(m).getFullYear()!==a&&y.push("".concat(r_,"--neighboringCentury")),w.jsx(Qc,Pd({},d,{classes:y,maxDateTransform:Gc,minDateTransform:ta,view:"century",children:X0(p,c,m)}))}var Ld=function(){return Ld=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ld.apply(this,arguments)},a_=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function BS(r){var t=r.activeStartDate,i=r.hover,a=r.showNeighboringCentury,l=r.value,c=r.valueType,d=a_(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=AS(t),p=m+(a?119:99);return w.jsx(Kc,{className:"react-calendar__century-view__decades",dateTransform:ta,dateType:"decade",end:p,hover:i,renderTile:function(y){var E=y.date,b=a_(y,["date"]);return w.jsx(zS,Ld({},d,b,{activeStartDate:t,currentCentury:m,date:E}),E.getTime())},start:m,step:10,value:l,valueType:c})}var Ud=function(){return Ud=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ud.apply(this,arguments)};function qS(r){function t(){return w.jsx(BS,Ud({},r))}return w.jsx("div",{className:"react-calendar__century-view",children:t()})}var zd=function(){return zd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},zd.apply(this,arguments)},HS=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i},s_="react-calendar__decade-view__years__year";function GS(r){var t=r.classes,i=t===void 0?[]:t,a=r.currentDecade,l=r.formatYear,c=l===void 0?Yc:l,d=HS(r,["classes","currentDecade","formatYear"]),m=d.date,p=d.locale,y=[];return i&&y.push.apply(y,i),y.push(s_),ta(m).getFullYear()!==a&&y.push("".concat(s_,"--neighboringDecade")),w.jsx(Qc,zd({},d,{classes:y,maxDateTransform:Fc,minDateTransform:nl,view:"decade",children:c(p,m)}))}var Bd=function(){return Bd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Bd.apply(this,arguments)},l_=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function FS(r){var t=r.activeStartDate,i=r.hover,a=r.showNeighboringDecade,l=r.value,c=r.valueType,d=l_(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=bS(t),p=m+(a?11:9);return w.jsx(Kc,{className:"react-calendar__decade-view__years",dateTransform:nl,dateType:"year",end:p,hover:i,renderTile:function(y){var E=y.date,b=l_(y,["date"]);return w.jsx(GS,Bd({},d,b,{activeStartDate:t,currentDecade:m,date:E}),E.getTime())},start:m,value:l,valueType:c})}var qd=function(){return qd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},qd.apply(this,arguments)};function YS(r){function t(){return w.jsx(FS,qd({},r))}return w.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Hd=function(){return Hd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Hd.apply(this,arguments)},KS=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i},o_=function(r,t,i){if(i||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return r.concat(c||Array.prototype.slice.call(t))},QS="react-calendar__year-view__months__month";function XS(r){var t=r.classes,i=t===void 0?[]:t,a=r.formatMonth,l=a===void 0?yS:a,c=r.formatMonthYear,d=c===void 0?F0:c,m=KS(r,["classes","formatMonth","formatMonthYear"]),p=m.date,y=m.locale;return w.jsx(Qc,Hd({},m,{classes:o_(o_([],i,!0),[QS],!1),formatAbbr:d,maxDateTransform:No,minDateTransform:qa,view:"year",children:l(y,p)}))}var Gd=function(){return Gd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gd.apply(this,arguments)},u_=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function $S(r){var t=r.activeStartDate,i=r.hover,a=r.value,l=r.valueType,c=u_(r,["activeStartDate","hover","value","valueType"]),d=0,m=11,p=me(t);return w.jsx(Kc,{className:"react-calendar__year-view__months",dateTransform:function(y){var E=new Date;return E.setFullYear(p,y,1),qa(E)},dateType:"month",end:m,hover:i,renderTile:function(y){var E=y.date,b=u_(y,["date"]);return w.jsx(XS,Gd({},c,b,{activeStartDate:t,date:E}),E.getTime())},start:d,value:a,valueType:l})}var Fd=function(){return Fd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Fd.apply(this,arguments)};function ZS(r){function t(){return w.jsx($S,Fd({},r))}return w.jsx("div",{className:"react-calendar__year-view",children:t()})}var Yd=function(){return Yd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Yd.apply(this,arguments)},WS=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i},Ed="react-calendar__month-view__days__day";function JS(r){var t=r.calendarType,i=r.classes,a=i===void 0?[]:i,l=r.currentMonthIndex,c=r.formatDay,d=c===void 0?gS:c,m=r.formatLongDate,p=m===void 0?pS:m,y=WS(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=y.date,b=y.locale,O=[];return a&&O.push.apply(O,a),O.push(Ed),$0(E,t)&&O.push("".concat(Ed,"--weekend")),E.getMonth()!==l&&O.push("".concat(Ed,"--neighboringMonth")),w.jsx(Qc,Yd({},y,{classes:O,formatAbbr:p,maxDateTransform:Dm,minDateTransform:xo,view:"month",children:d(b,E)}))}var Kd=function(){return Kd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Kd.apply(this,arguments)},c_=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function t1(r){var t=r.activeStartDate,i=r.calendarType,a=r.hover,l=r.showFixedNumberOfWeeks,c=r.showNeighboringMonth,d=r.value,m=r.valueType,p=c_(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=me(t),E=Jr(t),b=l||c,O=_o(t,i),P=b?0:O,G=(b?-O:0)+1,Q=function(){if(l)return G+6*7-1;var Y=G0(t);if(c){var at=new Date;at.setFullYear(y,E,Y),at.setHours(0,0,0,0);var ct=7-_o(at,i)-1;return Y+ct}return Y}();return w.jsx(Kc,{className:"react-calendar__month-view__days",count:7,dateTransform:function(Y){var at=new Date;return at.setFullYear(y,E,Y),xo(at)},dateType:"day",hover:a,end:Q,renderTile:function(Y){var at=Y.date,ct=c_(Y,["date"]);return w.jsx(JS,Kd({},p,ct,{activeStartDate:t,calendarType:i,currentMonthIndex:E,date:at}),at.getTime())},offset:P,start:G,value:d,valueType:m})}var W0="react-calendar__month-view__weekdays",Td="".concat(W0,"__weekday");function e1(r){for(var t=r.calendarType,i=r.formatShortWeekday,a=i===void 0?vS:i,l=r.formatWeekday,c=l===void 0?_S:l,d=r.locale,m=r.onMouseLeave,p=new Date,y=qa(p),E=me(y),b=Jr(y),O=[],P=1;P<=7;P+=1){var G=new Date(E,b,P-_o(y,t)),Q=c(d,G);O.push(w.jsx("div",{className:qc(Td,NS(G)&&"".concat(Td,"--current"),$0(G,t)&&"".concat(Td,"--weekend")),children:w.jsx("abbr",{"aria-label":Q,title:Q,children:a(d,G).replace(".","")})},P))}return w.jsx(Om,{className:W0,count:7,onFocus:m,onMouseOver:m,children:O})}var Ac=function(){return Ac=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Ac.apply(this,arguments)},h_=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i},f_="react-calendar__tile";function n1(r){var t=r.onClickWeekNumber,i=r.weekNumber,a=w.jsx("span",{children:i});if(t){var l=r.date,c=r.onClickWeekNumber,d=r.weekNumber,m=h_(r,["date","onClickWeekNumber","weekNumber"]);return w.jsx("button",Ac({},m,{className:f_,onClick:function(p){return c(d,l,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=h_(r,["date","onClickWeekNumber","weekNumber"]);return w.jsx("div",Ac({},m,{className:f_,children:a}))}}function i1(r){var t=r.activeStartDate,i=r.calendarType,a=r.onClickWeekNumber,l=r.onMouseLeave,c=r.showFixedNumberOfWeeks,d=function(){if(c)return 6;var y=G0(t),E=_o(t,i),b=y-(7-E);return 1+Math.ceil(b/7)}(),m=function(){for(var y=me(t),E=Jr(t),b=Hc(t),O=[],P=0;P<d;P+=1)O.push(jd(new Date(y,E,b+P*7),i));return O}(),p=m.map(function(y){return SS(y,i)});return w.jsx(Om,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:l,onMouseOver:l,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(y,E){var b=m[E];if(!b)throw new Error("date is not defined");return w.jsx(n1,{date:b,onClickWeekNumber:a,weekNumber:y},y)})})}var Qd=function(){return Qd=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Qd.apply(this,arguments)},r1=function(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i};function a1(r){if(r)for(var t=0,i=Object.entries(aS);t<i.length;t++){var a=i[t],l=a[0],c=a[1];if(c.includes(r))return l}return nn.ISO_8601}function s1(r){var t=r.activeStartDate,i=r.locale,a=r.onMouseLeave,l=r.showFixedNumberOfWeeks,c=r.calendarType,d=c===void 0?a1(i):c,m=r.formatShortWeekday,p=r.formatWeekday,y=r.onClickWeekNumber,E=r.showWeekNumbers,b=r1(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function O(){return w.jsx(e1,{calendarType:d,formatShortWeekday:m,formatWeekday:p,locale:i,onMouseLeave:a})}function P(){return E?w.jsx(i1,{activeStartDate:t,calendarType:d,onClickWeekNumber:y,onMouseLeave:a,showFixedNumberOfWeeks:l}):null}function G(){return w.jsx(t1,Qd({calendarType:d},b))}var Q="react-calendar__month-view";return w.jsx("div",{className:qc(Q,E?"".concat(Q,"--weekNumbers"):""),children:w.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[P(),w.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[O(),G()]})]})})}var Gs=function(){return Gs=Object.assign||function(r){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Gs.apply(this,arguments)},ac="react-calendar",gc=["century","decade","year","month"],l1=["decade","year","month","day"],km=new Date;km.setFullYear(1,0,1);km.setHours(0,0,0,0);var o1=new Date(864e13);function co(r){return r instanceof Date?r:new Date(r)}function J0(r,t){return gc.slice(gc.indexOf(r),gc.indexOf(t)+1)}function u1(r,t,i){var a=J0(t,i);return a.indexOf(r)!==-1}function Im(r,t,i){return r&&u1(r,t,i)?r:i}function tE(r){var t=gc.indexOf(r);return l1[t]}function c1(r,t){var i=Array.isArray(r)?r[t]:r;if(!i)return null;var a=co(i);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function eE(r,t){var i=r.value,a=r.minDate,l=r.maxDate,c=r.maxDetail,d=c1(i,t);if(!d)return null;var m=tE(c),p=function(){switch(t){case 0:return La(m,d);case 1:return K0(m,d);default:throw new Error("Invalid index value: ".concat(t))}}();return MS(p,a,l)}var Nm=function(r){return eE(r,0)},nE=function(r){return eE(r,1)},h1=function(r){return[Nm,nE].map(function(t){return t(r)})};function iE(r){var t=r.maxDate,i=r.maxDetail,a=r.minDate,l=r.minDetail,c=r.value,d=r.view,m=Im(d,l,i),p=Nm({value:c,minDate:a,maxDate:t,maxDetail:i})||new Date;return La(m,p)}function f1(r){var t=r.activeStartDate,i=r.defaultActiveStartDate,a=r.defaultValue,l=r.defaultView,c=r.maxDate,d=r.maxDetail,m=r.minDate,p=r.minDetail,y=r.value,E=r.view,b=Im(E,p,d),O=t||i;return O?La(b,O):iE({maxDate:c,maxDetail:d,minDate:m,minDetail:p,value:y||a,view:E||l})}function Ad(r){return r&&(!Array.isArray(r)||r.length===1)}function sc(r,t){return r instanceof Date&&t instanceof Date&&r.getTime()===t.getTime()}var d1=bt.forwardRef(function(t,i){var a=t.activeStartDate,l=t.allowPartialRange,c=t.calendarType,d=t.className,m=t.defaultActiveStartDate,p=t.defaultValue,y=t.defaultView,E=t.formatDay,b=t.formatLongDate,O=t.formatMonth,P=t.formatMonthYear,G=t.formatShortWeekday,Q=t.formatWeekday,Y=t.formatYear,at=t.goToRangeStartOnSelect,ct=at===void 0?!0:at,rt=t.inputRef,gt=t.locale,ht=t.maxDate,_t=ht===void 0?o1:ht,x=t.maxDetail,S=x===void 0?"month":x,D=t.minDate,I=D===void 0?km:D,V=t.minDetail,M=V===void 0?"century":V,C=t.navigationAriaLabel,ae=t.navigationAriaLive,Zt=t.navigationLabel,z=t.next2AriaLabel,it=t.next2Label,ut=t.nextAriaLabel,Rt=t.nextLabel,k=t.onActiveStartDateChange,$=t.onChange,nt=t.onClickDay,tt=t.onClickDecade,ft=t.onClickMonth,Dt=t.onClickWeekNumber,pt=t.onClickYear,ue=t.onDrillDown,qt=t.onDrillUp,ke=t.onViewChange,Mn=t.prev2AriaLabel,Sn=t.prev2Label,jn=t.prevAriaLabel,Jn=t.prevLabel,ne=t.returnValue,ti=ne===void 0?"start":ne,Ge=t.selectRange,Fe=t.showDoubleView,Ka=t.showFixedNumberOfWeeks,fr=t.showNavigation,dr=fr===void 0?!0:fr,Vi=t.showNeighboringCentury,ol=t.showNeighboringDecade,Mi=t.showNeighboringMonth,ia=Mi===void 0?!0:Mi,Qa=t.showWeekNumbers,ce=t.tileClassName,Ft=t.tileContent,hn=t.tileDisabled,be=t.value,ra=t.view,Xa=bt.useState(m),ji=Xa[0],Pn=Xa[1],fi=bt.useState(null),wn=fi[0],Pi=fi[1],di=bt.useState(Array.isArray(p)?p.map(function(At){return At!==null?co(At):null}):p!=null?co(p):null),Li=di[0],aa=di[1],mr=bt.useState(y),ei=mr[0],Ln=mr[1],Se=a||ji||f1({activeStartDate:a,defaultActiveStartDate:m,defaultValue:p,defaultView:y,maxDate:_t,maxDetail:S,minDate:I,minDetail:M,value:be,view:ra}),le=function(){var At=function(){return Ge&&Ad(Li)?Li:be!==void 0?be:Li}();return At?Array.isArray(At)?At.map(function(Nt){return Nt!==null?co(Nt):null}):At!==null?co(At):null:null}(),mi=tE(S),Ht=Im(ra||ei,M,S),Ye=J0(M,S),gi=Ge?wn:null,gr=Ye.indexOf(Ht)<Ye.length-1,ie=Ye.indexOf(Ht)>0,ye=bt.useCallback(function(At){var Nt=function(){switch(ti){case"start":return Nm;case"end":return nE;case"range":return h1;default:throw new Error("Invalid returnValue.")}}();return Nt({maxDate:_t,maxDetail:S,minDate:I,value:At})},[_t,S,I,ti]),he=bt.useCallback(function(At,Nt){Pn(At);var Ct={action:Nt,activeStartDate:At,value:le,view:Ht};k&&!sc(Se,At)&&k(Ct)},[Se,k,le,Ht]),Ke=bt.useCallback(function(At,Nt){var Ct=function(){switch(Ht){case"century":return tt;case"decade":return pt;case"year":return ft;case"month":return nt;default:throw new Error("Invalid view: ".concat(Ht,"."))}}();Ct&&Ct(At,Nt)},[nt,tt,ft,pt,Ht]),Ui=bt.useCallback(function(At,Nt){if(gr){Ke(At,Nt);var Ct=Ye[Ye.indexOf(Ht)+1];if(!Ct)throw new Error("Attempted to drill down from the lowest view.");Pn(At),Ln(Ct);var Qe={action:"drillDown",activeStartDate:At,value:le,view:Ct};k&&!sc(Se,At)&&k(Qe),ke&&Ht!==Ct&&ke(Qe),ue&&ue(Qe)}},[Se,gr,k,Ke,ue,ke,le,Ht,Ye]),sa=bt.useCallback(function(){if(ie){var At=Ye[Ye.indexOf(Ht)-1];if(!At)throw new Error("Attempted to drill up from the highest view.");var Nt=La(At,Se);Pn(Nt),Ln(At);var Ct={action:"drillUp",activeStartDate:Nt,value:le,view:At};k&&!sc(Se,Nt)&&k(Ct),ke&&Ht!==At&&ke(Ct),qt&&qt(Ct)}},[Se,ie,k,qt,ke,le,Ht,Ye]),Un=bt.useCallback(function(At,Nt){var Ct=le;Ke(At,Nt);var Qe=Ge&&!Ad(Ct),Pe;if(Ge)if(Qe)Pe=La(mi,At);else{if(!Ct)throw new Error("previousValue is required");if(Array.isArray(Ct))throw new Error("previousValue must not be an array");Pe=kS(mi,Ct,At)}else Pe=ye(At);var fn=!Ge||Qe||ct?iE({maxDate:_t,maxDetail:S,minDate:I,minDetail:M,value:Pe,view:Ht}):null;Nt.persist(),Pn(fn),aa(Pe);var ai={action:"onChange",activeStartDate:fn,value:Pe,view:Ht};if(k&&!sc(Se,fn)&&k(ai),$)if(Ge){var Za=Ad(Pe);if(!Za)$(Pe||null,Nt);else if(l){if(Array.isArray(Pe))throw new Error("value must not be an array");$([Pe||null,null],Nt)}}else $(Pe||null,Nt)},[Se,l,ye,ct,_t,S,I,M,k,$,Ke,Ge,le,mi,Ht]);function $a(At){Pi(At)}function ni(){Pi(null)}bt.useImperativeHandle(i,function(){return{activeStartDate:Se,drillDown:Ui,drillUp:sa,onChange:Un,setActiveStartDate:he,value:le,view:Ht}},[Se,Ui,sa,Un,he,le,Ht]);function ii(At){var Nt=At?Y0(Ht,Se):La(Ht,Se),Ct=gr?Ui:Un,Qe={activeStartDate:Nt,hover:gi,locale:gt,maxDate:_t,minDate:I,onClick:Ct,onMouseOver:Ge?$a:void 0,tileClassName:ce,tileContent:Ft,tileDisabled:hn,value:le,valueType:mi};switch(Ht){case"century":return w.jsx(qS,Gs({formatYear:Y,showNeighboringCentury:Vi},Qe));case"decade":return w.jsx(YS,Gs({formatYear:Y,showNeighboringDecade:ol},Qe));case"year":return w.jsx(ZS,Gs({formatMonth:O,formatMonthYear:P},Qe));case"month":return w.jsx(s1,Gs({calendarType:c,formatDay:E,formatLongDate:b,formatShortWeekday:G,formatWeekday:Q,onClickWeekNumber:Dt,onMouseLeave:Ge?ni:void 0,showFixedNumberOfWeeks:typeof Ka<"u"?Ka:Fe,showNeighboringMonth:ia,showWeekNumbers:Qa},Qe));default:throw new Error("Invalid view: ".concat(Ht,"."))}}function ri(){return dr?w.jsx(xS,{activeStartDate:Se,drillUp:sa,formatMonthYear:P,formatYear:Y,locale:gt,maxDate:_t,minDate:I,navigationAriaLabel:C,navigationAriaLive:ae,navigationLabel:Zt,next2AriaLabel:z,next2Label:it,nextAriaLabel:ut,nextLabel:Rt,prev2AriaLabel:Mn,prev2Label:Sn,prevAriaLabel:jn,prevLabel:Jn,setActiveStartDate:he,showDoubleView:Fe,view:Ht,views:Ye}):null}var zn=Array.isArray(le)?le:[le];return w.jsxs("div",{className:qc(ac,Ge&&zn.length===1&&"".concat(ac,"--selectRange"),Fe&&"".concat(ac,"--doubleView"),d),ref:rt,children:[ri(),w.jsxs("div",{className:"".concat(ac,"__viewContainer"),onBlur:Ge?ni:void 0,onMouseLeave:Ge?ni:void 0,children:[ii(),Fe?ii(!0):null]})]})});function m1({isOpen:r,onClose:t}){return r?w.jsx("div",{className:"terms-modal-overlay",onClick:t,children:w.jsxs("div",{className:"terms-modal-content",onClick:i=>i.stopPropagation(),children:[w.jsx("div",{className:"terms-modal-close-btn",onClick:t,children:"×"}),w.jsx("h2",{children:"Rekisteri- ja tietosuojaseloste"}),w.jsx("p",{children:"Tämä on LO&K Oy:n EU:n yleisen tietosuoja-asetuksen (GDPR) mukainen rekisteri- ja tietosuojaseloste. Laadittu 6.5.2025. Viimeisin muutos 6.5.2025."}),w.jsx("h3",{children:"1. Rekisterinpitäjä"}),w.jsxs("p",{children:["LO&K Oy",w.jsx("br",{}),"Y-tunnus: 3522024-9",w.jsx("br",{}),"Sähköposti: iisakintekstiilipesuri@gmail.com"]}),w.jsx("h3",{children:"2. Rekisteristä vastaava yhteyshenkilö"}),w.jsxs("p",{children:["Lauri Huttunen",w.jsx("br",{}),"iisakintekstiilipesuri@gmail.com"]}),w.jsx("h3",{children:"3. Rekisterin nimi"}),w.jsx("p",{children:"iisakintekstiilipesuri.fi-palvelun asiakasrekisteri"}),w.jsx("h3",{children:"4. Oikeusperuste ja henkilötietojen käsittelyn tarkoitus"}),w.jsx("p",{children:"Henkilötietojen käsittelyn perusteena on asiakassuhde, sopimuksen täytäntöönpano (pesurin vuokrauspalvelu) ja lakisääteiset velvoitteet (esim. kirjanpito)."}),w.jsx("p",{children:"Henkilötietojen käsittelyn tarkoitus on:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Asiakassuhteen hoitaminen ja ylläpito"}),w.jsx("li",{children:"Tilausten käsittely, toimitus ja arkistointi"}),w.jsx("li",{children:"Palvelun kehittäminen"}),w.jsx("li",{children:"Laskutus ja perintä"}),w.jsx("li",{children:"Lakisääteisten velvoitteiden noudattaminen"})]}),w.jsx("h3",{children:"5. Rekisterin tietosisältö"}),w.jsx("p",{children:"Rekisteriin tallennettavia tietoja voivat olla:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Henkilön nimi"}),w.jsx("li",{children:"Yhteystiedot (puhelinnumero, sähköpostiosoite, katuosoite, postinumero, postitoimipaikka)"}),w.jsx("li",{children:"Tiedot tilatuista palveluista ja niiden muutoksista"}),w.jsx("li",{children:"Muut asiakassuhteen hoitamiseen ja/tai tilattuihin palveluihin liittyvät tiedot (esim. vuokra-aika, lisätiedot)"}),w.jsx("li",{children:"Yritysasiakkailta: Yrityksen nimi, Y-tunnus"})]}),w.jsx("h3",{children:"6. Säännönmukaiset tietolähteet"}),w.jsx("p",{children:"Rekisteriin tallennettavat tiedot saadaan asiakkaalta itseltään mm. verkkosivujen varauslomakkeen kautta, sähköpostitse, puhelimitse tai muilla vastaavilla tavoilla."}),w.jsx("h3",{children:"7. Tietojen säännönmukaiset luovutukset ja tietojen siirto EU:n tai ETA:n ulkopuolelle"}),w.jsx("p",{children:"Tietoja ei luovuteta säännönmukaisesti muille tahoille. Tietoja voidaan julkaista siltä osin kuin niin on sovittu asiakkaan kanssa."}),w.jsx("p",{children:"Tietoja voidaan siirtää rekisterinpitäjän toimesta myös EU:n tai ETA:n ulkopuolelle, jos se on palvelun teknisen toteuttamisen kannalta tarpeellista (esim. palvelin sijaitsee EU/ETA-alueen ulkopuolella), varmistaen riittävän tietosuojan tason."}),w.jsx("p",{children:"Maksutapahtumien yhteydessä tietoja voidaan luovuttaa maksunvälityspalvelun tarjoajalle."}),w.jsx("h3",{children:"8. Rekisterin suojauksen periaatteet"}),w.jsx("p",{children:"Rekisterin käsittelyssä noudatetaan huolellisuutta ja tietojärjestelmien avulla käsiteltävät tiedot suojataan asianmukaisesti. Kun rekisteritietoja säilytetään Internet-palvelimilla, niiden laitteiston fyysisestä ja digitaalisesta tietoturvasta huolehditaan asiaankuuluvasti. Rekisterinpitäjä huolehtii siitä, että tallennettuja tietoja sekä palvelimien käyttöoikeuksia ja muita henkilötietojen turvallisuuden kannalta kriittisiä tietoja käsitellään luottamuksellisesti ja vain niiden työntekijöiden toimesta, joiden työnkuvaan se kuuluu."}),w.jsx("p",{children:"Manuaalinen aineisto säilytetään lukitussa tilassa ja hävitetään tietoturvallisesti."}),w.jsx("h3",{children:"9. Tarkastusoikeus ja oikeus vaatia tiedon korjaamista"}),w.jsx("p",{children:"Jokaisella rekisterissä olevalla henkilöllä on oikeus tarkistaa rekisteriin tallennetut tietonsa ja vaatia mahdollisen virheellisen tiedon korjaamista tai puutteellisen tiedon täydentämistä. Mikäli henkilö haluaa tarkistaa hänestä tallennetut tiedot tai vaatia niihin oikaisua, pyyntö tulee lähettää kirjallisesti rekisterinpitäjälle. Rekisterinpitäjä voi pyytää tarvittaessa pyynnön esittäjää todistamaan henkilöllisyytensä. Rekisterinpitäjä vastaa asiakkaalle EU:n tietosuoja-asetuksessa säädetyssä ajassa."}),w.jsx("h3",{children:"10. Muut henkilötietojen käsittelyyn liittyvät oikeudet"}),w.jsx("p",{children:'Rekisterissä olevalla henkilöllä on oikeus pyytää häntä koskevien henkilötietojen poistamiseen rekisteristä ("oikeus tulla unohdetuksi"). Niin ikään rekisteröidyillä on muut EU:n yleisen tietosuoja-asetuksen mukaiset oikeudet kuten henkilötietojen käsittelyn rajoittaminen tietyissä tilanteissa. Pyynnöt tulee lähettää kirjallisesti rekisterinpitäjälle. Rekisterinpitäjä voi pyytää tarvittaessa pyynnön esittäjää todistamaan henkilöllisyytensä. Rekisterinpitäjä vastaa asiakkaalle EU:n tietosuoja-asetuksessa säädetyssä ajassa (pääsääntöisesti kuukauden kuluessa).'}),w.jsx("p",{children:"Oikeutta tietojen poistamiseen ei ole, jos käsittely on tarpeen lakisääteisen velvoitteen noudattamiseksi (esim. kirjanpitolaki) tai sopimukseen perustuvien velvoitteiden hoitamiseksi."})]})}):null}function g1({isOpen:r,onClose:t}){const[i,a]=bt.useState(!1);if(!r&&!i)return null;const l=d=>{d.preventDefault(),a(!0)},c=()=>{a(!1)};return r&&!i?w.jsx("div",{className:"terms-modal-overlay",onClick:t,children:w.jsxs("div",{className:"terms-modal-content",onClick:d=>d.stopPropagation(),children:[w.jsx("div",{className:"terms-modal-close-btn",onClick:t,children:"×"}),w.jsx("h2",{children:"Vuokraehdot"}),w.jsx("h3",{children:"1. VUOKRAAMINEN"}),w.jsx("p",{children:'Vuokratakseen tuotteita pesurivuokraus.fi -verkkokaupasta, asiakkaan (jäljempänä "Vuokraaja") on hyväksyttävä nämä vuokraehdot.'}),w.jsxs("p",{children:["Vuokranantajana toimii ",w.jsx("strong",{children:"LO&K Oy (Y-tunnus: 3522024-9)"}),". Vuokraaja on osapuoli, joka vuokraa tuotteet Vuokranantajalta. LO&K Oy vuokraa tekstiilipesureita täysi-ikäisille yksityishenkilöille sekä yrityksille Suomessa. Vuokranantaja omistaa vuokrattavat tuotteet."]}),w.jsx("p",{children:"Tuotteet varataan ja maksetaan pesurivuokraus.fi-verkkopalvelussa. Tuotteet noudetaan valitulta toimipisteeltä."}),w.jsx("h4",{children:"Vuokraajan vastuut ennen käyttöä:"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Laitteen toiminnan tarkistus:"})," Varmista laitteen moitteeton toiminta ennen käyttöönottoa. Koska laitteessa käytetään vettä, testaa se tilassa, jossa mahdollinen vesivuoto ei aiheuta vahinkoa (esim. kylpyhuone). Vuokranantaja ei korvaa vahinkoja, jos toimintatarkistusta ei ole tehty asianmukaisesti."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Laitteen puhtauden tarkistus:"})," Varmista laitteen puhtaus, jotta se ei vahingoita pestäviä pintoja. Vuokranantaja ei korvaa vahinkoja, jos puhtaustarkistusta ei ole tehty asianmukaisesti."]})]}),w.jsxs("p",{children:["Tuotteiden lainaaminen kolmansille osapuolille on ",w.jsx("strong",{children:"kielletty"}),". Tuotteita ei saa viedä Suomen rajojen ulkopuolelle."]}),w.jsx("h3",{children:"2. VARAUKSEN PERUUTTAMINEN"}),w.jsxs("ul",{children:[w.jsxs("li",{children:["Varaus voidaan perua ",w.jsx("strong",{children:"veloituksetta viimeistään 24 tuntia"})," ennen varausajan alkua."]}),w.jsx("li",{children:"Oikea-aikaisesta peruutuksesta hyvitetään maksettu summa seuraavan varauksen yhteydessä."}),w.jsx("li",{children:"Myöhemmin tehdyistä peruutuksista tai käyttämättä jätetyistä varauksista ei myönnetä hyvitystä."})]}),w.jsx("p",{children:"Ilmoita peruutuksesta sähköpostitse (iisakintekstiilipesuri@gmail.com) tai tekstiviestillä (040 410 1920)."}),w.jsx("h3",{children:"3. TUOTTEIDEN PALAUTTAMINEN"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Tuotteet on palautettava noutopisteeseen varausajan päättymiseen mennessä."}),w.jsxs("li",{children:["Palautusajan noudattamatta jättämisestä veloitetaan ",w.jsx("strong",{children:"50 € myöhästymismaksu"}),"."]}),w.jsx("li",{children:"Palautettavan tuotteen tulee sisältää kaikki noudettaessa mukana olleet osat."}),w.jsx("li",{children:"Tuote on puhdistettava huolellisesti käyttöohjeiden mukaisesti ennen palautusta."}),w.jsxs("li",{children:["Puhdistuksen laiminlyönnistä veloitetaan ",w.jsx("strong",{children:"50 € puhdistusmaksu"}),"."]})]}),w.jsx("p",{children:"Varausaika on tyypillisesti vuorokausi (esim. klo 17.00 - seuraava päivä klo 17.00). Tuotteen voi noutaa ja palauttaa joustavasti vuokra-ajan puitteissa. Lyhyemmästä käyttöajasta ei myönnetä hyvitystä."}),w.jsx("h3",{children:"4. TUOTTEEN RIKKOUTUMINEN TAI KATOAMINEN"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Normaali kuluminen:"})," Jos tuote rikkoutuu asianmukaisessa, käyttöohjeiden mukaisessa käytössä, Vuokranantaja vastaa korjauskustannuksista."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Vuokraajan vastuu:"})," Jos tuote rikkoutuu käyttöohjeiden vastaisen tai muuten virheellisen käytön seurauksena, Vuokraaja on velvollinen korvaamaan Vuokranantajalle tuotteen uushankintahinnan."]}),w.jsx("li",{children:"Vuokraaja on vastaavasti korvausvelvollinen myös kadonneesta tai varastetusta tuotteesta."}),w.jsxs("li",{children:["Tuotteen vahingoittumisesta tai katoamisesta on ilmoitettava Vuokranantajalle ",w.jsx("strong",{children:"välittömästi"}),"."]})]}),w.jsx("p",{children:"Vuokraaja sitoutuu huolehtimaan tuotteesta parhaalla mahdollisella tavalla ja varmistamaan, että hänellä on riittävät taidot laitteen turvalliseen käyttöön. Vuokranantajalla on oikeus periä pantti vuokrattavista tuotteista."}),w.jsx("h3",{children:"5. HINNAT"}),w.jsx("p",{children:w.jsx("strong",{children:"Perusvuokraus:"})}),w.jsxs("ul",{children:[w.jsx("li",{children:"Tekstiilipesurin vuokra: 35 € / vuorokausi."}),w.jsx("li",{children:"Lisävuorokaudet: 10 € / vuorokausi."})]}),w.jsx("p",{children:w.jsx("strong",{children:"Pesuaine:"})}),w.jsx("ul",{children:w.jsx("li",{children:"Pesuainepaketti (4 tablettia, riittää 16 litraan vettä): 6 €."})}),w.jsx("p",{children:"Kaikki ilmoitetut hinnat sisältävät arvonlisäveron (25,5 %)."}),w.jsx("p",{children:"Tarkka vuokra-aika määritellään aina varauksen yhteydessä."}),w.jsx("p",{children:"Huomioithan, että noutamatta jätettyä tai kesken jäänyttä vuokra-aikaa ei hyvitetä."}),w.jsx("h3",{children:"6. MAKSUTAVAT"}),w.jsx("p",{children:"Vuokra maksetaan laskulla."}),w.jsx("p",{children:"Laskun eräpäivä on 7 päivää pesurin ensimmäisestä vuokrapäivästä."}),w.jsx("p",{children:"Maksu suoritetaan LO&K Oy:n tilille."}),w.jsx("h3",{children:"7. ONGELMATILANTEET"}),w.jsx("p",{children:"Vuokranantaja voi irtisanoa sopimuksen välittömästi ja vaatia tuotteen palauttamista, mikäli Vuokraaja:"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Antaa virheellisiä tietoja."}),w.jsx("li",{children:"Laiminlyö vuokranmaksun."}),w.jsx("li",{children:"Käsittelee tuotetta ehtojen vastaisesti."}),w.jsx("li",{children:"Rikkoo sopimusta muulla tavoin."})]}),w.jsx("p",{children:"Jos tuote vioittuu tai katoaa vuokra-aikana, Vuokraajan on ilmoitettava siitä välittömästi Vuokranantajalle. Varkaustapauksissa Vuokraajan tulee tehdä rikosilmoitus poliisille ja toimittaa kopio ilmoituksesta Vuokranantajalle. Mahdollinen vakuutuskorvaus ohjataan ensisijaisesti Vuokranantajalle."}),w.jsx("p",{children:"Vuokranantajalla on oikeus periä Vuokraajalta kaikki kulut, jotka aiheutuvat Vuokraajan aiheuttamista vahingoista, korvaavien tuotteiden hankinnasta tai saatavien perinnästä."}),w.jsx("h3",{children:"8. TIETOJEN KÄSITTELY"}),w.jsxs("p",{children:["Vuokraaja hyväksyy henkilötietojensa käsittelyn Vuokranantajan ",w.jsx("a",{href:"#",onClick:l,className:"terms-link",style:{color:"#ffbb00"},children:"Rekisteri- ja tietosuojaselosteen"})," mukaisesti."]}),w.jsx("h3",{children:"9. LISÄTIETOJA"}),w.jsx("p",{children:"Lisätietoja vuokraehdoista saat sähköpostitse (iisakintekstiilipesuri@gmail.com) tai puhelimitse (040 410 1920)."})]})}):i?w.jsx(m1,{isOpen:i,onClose:c}):null}const p1=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},y1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],m=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},xm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,m=d?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let O=(m&15)<<2|y>>6,P=y&63;p||(P=64,d||(O=64)),a.push(i[E],i[b],i[O],i[P])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(rE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):y1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||m==null||y==null||b==null)throw new v1;const O=c<<2|m>>4;if(a.push(O),y!==64){const P=m<<4&240|y>>2;if(a.push(P),b!==64){const G=y<<6&192|b;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(r){const t=rE(r);return xm.encodeByteArray(t,!0)},bc=function(r){return _1(r).replace(/\./g,"")},E1=function(r){try{return xm.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=()=>aE().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},b1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&E1(r[1]);return t&&JSON.parse(t)},Vm=()=>{try{return p1()||T1()||A1()||b1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S1=r=>{var t,i;return(i=(t=Vm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},sE=r=>{const t=S1(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},lE=()=>{var r;return(r=Vm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bc(JSON.stringify(i)),bc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){var r;const t=(r=Vm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C1(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mm(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="FirebaseError";class Ga extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=k1,Object.setPrototypeOf(this,Ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?I1(c,a):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new Ga(l,m,a)}}function I1(r,t){return r.replace(N1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const N1=/\{\$([^}]+)}/g;function Sc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(m_(c)&&m_(d)){if(!Sc(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1e3,V1=2,M1=4*60*60*1e3,j1=.5;function P1(r,t=x1,i=V1){const a=t*Math.pow(i,r),l=Math.round(j1*a*(Math.random()-.5)*2);return Math.min(M1,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new To;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(z1(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:U1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(r){return r===Ma?void 0:r}function z1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new L1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const q1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},H1=Bt.INFO,G1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},F1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=G1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=H1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?q1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const Y1=(r,t)=>t.some(i=>r instanceof i);let g_,p_;function K1(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,Xd=new WeakMap,uE=new WeakMap,bd=new WeakMap,Lm=new WeakMap;function X1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Br(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&oE.set(i,r)}).catch(()=>{}),Lm.set(t,r),t}function $1(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||uE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Z1(r){$d=r($d)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Sd(this),t,...i);return uE.set(a,t.sort?t.sort():[t]),Br(a)}:Q1().includes(r)?function(...t){return r.apply(Sd(this),t),Br(oE.get(this))}:function(...t){return Br(r.apply(Sd(this),t))}}function J1(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&$1(r),Y1(r,K1())?new Proxy(r,$d):r)}function Br(r){if(r instanceof IDBRequest)return X1(r);if(bd.has(r))return bd.get(r);const t=J1(r);return t!==r&&(bd.set(r,t),Lm.set(t,r)),t}const Sd=r=>Lm.get(r);function tw(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),m=Br(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Br(d.result),p.oldVersion,p.newVersion,Br(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ew=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],wd=new Map;function y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=nw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ew.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),l&&p.done]))[0]};return wd.set(t,c),c}Z1(r=>({...r,get:(t,i,a)=>y_(t,i)||r.get(t,i,a),has:(t,i)=>!!y_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function rw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zd="@firebase/app",v_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Pm("@firebase/app"),aw="@firebase/app-compat",sw="@firebase/analytics-compat",lw="@firebase/analytics",ow="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",hw="@firebase/auth-compat",fw="@firebase/database",dw="@firebase/data-connect",mw="@firebase/database-compat",gw="@firebase/functions",pw="@firebase/functions-compat",yw="@firebase/installations",vw="@firebase/installations-compat",_w="@firebase/messaging",Ew="@firebase/messaging-compat",Tw="@firebase/performance",Aw="@firebase/performance-compat",bw="@firebase/remote-config",Sw="@firebase/remote-config-compat",ww="@firebase/storage",Rw="@firebase/storage-compat",Dw="@firebase/firestore",Cw="@firebase/vertexai",Ow="@firebase/firestore-compat",kw="firebase",Iw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",Nw={[Zd]:"fire-core",[aw]:"fire-core-compat",[lw]:"fire-analytics",[sw]:"fire-analytics-compat",[uw]:"fire-app-check",[ow]:"fire-app-check-compat",[cw]:"fire-auth",[hw]:"fire-auth-compat",[fw]:"fire-rtdb",[dw]:"fire-data-connect",[mw]:"fire-rtdb-compat",[gw]:"fire-fn",[pw]:"fire-fn-compat",[yw]:"fire-iid",[vw]:"fire-iid-compat",[_w]:"fire-fcm",[Ew]:"fire-fcm-compat",[Tw]:"fire-perf",[Aw]:"fire-perf-compat",[bw]:"fire-rc",[Sw]:"fire-rc-compat",[ww]:"fire-gcs",[Rw]:"fire-gcs-compat",[Dw]:"fire-fst",[Ow]:"fire-fst-compat",[Cw]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,xw=new Map,Jd=new Map;function __(r,t){try{r.container.addComponent(t)}catch(i){or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ua(r){const t=r.name;if(Jd.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of wc.values())__(i,r);for(const i of xw.values())__(i,r);return!0}function Xc(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function cE(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new jm("app","Firebase",Vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=Iw;function hE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Wd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=lE()),!i)throw qr.create("no-options");const c=wc.get(l);if(c){if(Sc(i,c.options)&&Sc(a,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new B1(l);for(const p of Jd.values())d.addComponent(p);const m=new Mw(i,a,d);return wc.set(l,m),m}function Um(r=Wd){const t=wc.get(r);if(!t&&r===Wd&&lE())return hE();if(!t)throw qr.create("no-app",{appName:r});return t}function lr(r,t,i){var a;let l=(a=Nw[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${l}" with version "${t}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}Ua(new Yr(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebase-heartbeat-database",Lw=1,Ao="firebase-heartbeat-store";let Rd=null;function fE(){return Rd||(Rd=tw(Pw,Lw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ao)}catch(i){console.warn(i)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function Uw(r){try{const i=(await fE()).transaction(Ao),a=await i.objectStore(Ao).get(dE(r));return await i.done,a}catch(t){if(t instanceof Ga)or.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(i.message)}}}async function E_(r,t){try{const a=(await fE()).transaction(Ao,"readwrite");await a.objectStore(Ao).put(t,dE(r)),await a.done}catch(i){if(i instanceof Ga)or.warn(i.message);else{const a=qr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});or.warn(a.message)}}}function dE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1024,Bw=30;class qw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Gw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=T_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Bw){const d=Fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){or.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=T_(),{heartbeatsToSend:a,unsentEntries:l}=Hw(this._heartbeatsCache.heartbeats),c=bc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return or.warn(i),""}}}function T_(){return new Date().toISOString().substring(0,10)}function Hw(r,t=zw){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),A_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),A_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mm()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Uw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function A_(r){return bc(JSON.stringify({version:2,heartbeats:r})).length}function Fw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){Ua(new Yr("platform-logger",t=>new iw(t),"PRIVATE")),Ua(new Yr("heartbeat",t=>new qw(t),"PRIVATE")),lr(Zd,v_,r),lr(Zd,v_,"esm2017"),lr("fire-js","")}Yw("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="type.googleapis.com/google.protobuf.Int64Value",Qw="type.googleapis.com/google.protobuf.UInt64Value";function mE(r,t){const i={};for(const a in r)r.hasOwnProperty(a)&&(i[a]=t(r[a]));return i}function Rc(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(t=>Rc(t));if(typeof r=="function"||typeof r=="object")return mE(r,t=>Rc(t));throw new Error("Data cannot be encoded in JSON: "+r)}function Ks(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case Kw:case Qw:{const t=Number(r.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+r);return t}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(t=>Ks(t)):typeof r=="function"||typeof r=="object"?mE(r,t=>Ks(t)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tn extends Ga{constructor(t,i,a){super(`${zm}/${t}`,i||""),this.details=a,Object.setPrototypeOf(this,Tn.prototype)}}function Xw(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Dc(r,t){let i=Xw(r),a=i,l;try{const c=t&&t.error;if(c){const d=c.status;if(typeof d=="string"){if(!b_[d])return new Tn("internal","internal");i=b_[d],a=d}const m=c.message;typeof m=="string"&&(a=m),l=c.details,l!==void 0&&(l=Ks(l))}}catch{}return i==="ok"?null:new Tn(i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i,a,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,cE(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||i.get().then(c=>this.auth=c,()=>{}),this.messaging||a.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l==null||l.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(t){const i=await this.getAuthToken(),a=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:i,messagingToken:a,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="us-central1",Zw=/^data: (.*?)(?:\n|$)/;function Ww(r){let t=null;return{promise:new Promise((i,a)=>{t=setTimeout(()=>{a(new Tn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{t&&clearTimeout(t)}}}class Jw{constructor(t,i,a,l,c=tm,d=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new $w(t,i,a,l),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=tm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${i}.cloudfunctions.net/${t}`}}function tR(r,t,i){r.emulatorOrigin=`http://${t}:${i}`}function eR(r,t,i){const a=l=>iR(r,t,l,{});return a.stream=(l,c)=>aR(r,t,l,c),a}async function nR(r,t,i,a){i["Content-Type"]="application/json";let l;try{l=await a(r,{method:"POST",body:JSON.stringify(t),headers:i})}catch{return{status:0,json:null}}let c=null;try{c=await l.json()}catch{}return{status:l.status,json:c}}async function gE(r,t){const i={},a=await r.contextProvider.getContext(t.limitedUseAppCheckTokens);return a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken),i}function iR(r,t,i,a){const l=r._url(t);return rR(r,l,i,a)}async function rR(r,t,i,a){i=Rc(i);const l={data:i},c=await gE(r,a),d=a.timeout||7e4,m=Ww(d),p=await Promise.race([nR(t,l,c,r.fetchImpl),m.promise,r.cancelAllRequests]);if(m.cancel(),!p)throw new Tn("cancelled","Firebase Functions instance was deleted.");const y=Dc(p.status,p.json);if(y)throw y;if(!p.json)throw new Tn("internal","Response is not valid JSON object.");let E=p.json.data;if(typeof E>"u"&&(E=p.json.result),typeof E>"u")throw new Tn("internal","Response is missing data field.");return{data:Ks(E)}}function aR(r,t,i,a){const l=r._url(t);return sR(r,l,i,a||{})}async function sR(r,t,i,a){var l;i=Rc(i);const c={data:i},d=await gE(r,a);d["Content-Type"]="application/json",d.Accept="text/event-stream";let m;try{m=await r.fetchImpl(t,{method:"POST",body:JSON.stringify(c),headers:d,signal:a==null?void 0:a.signal})}catch(P){if(P instanceof Error&&P.name==="AbortError"){const Q=new Tn("cancelled","Request was cancelled.");return{data:Promise.reject(Q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Q)}}}}}}const G=Dc(0,null);return{data:Promise.reject(G),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(G)}}}}}}let p,y;const E=new Promise((P,G)=>{p=P,y=G});(l=a==null?void 0:a.signal)===null||l===void 0||l.addEventListener("abort",()=>{const P=new Tn("cancelled","Request was cancelled.");y(P)});const b=m.body.getReader(),O=lR(b,p,y,a==null?void 0:a.signal);return{stream:{[Symbol.asyncIterator](){const P=O.getReader();return{async next(){const{value:G,done:Q}=await P.read();return{value:G,done:Q}},async return(){return await P.cancel(),{done:!0,value:void 0}}}}},data:E}}function lR(r,t,i,a){const l=(d,m)=>{const p=d.match(Zw);if(!p)return;const y=p[1];try{const E=JSON.parse(y);if("result"in E){t(Ks(E.result));return}if("message"in E){m.enqueue(Ks(E.message));return}if("error"in E){const b=Dc(0,E);m.error(b),i(b);return}}catch(E){if(E instanceof Tn){m.error(E),i(E);return}}},c=new TextDecoder;return new ReadableStream({start(d){let m="";return p();async function p(){if(a!=null&&a.aborted){const y=new Tn("cancelled","Request was cancelled");return d.error(y),i(y),Promise.resolve()}try{const{value:y,done:E}=await r.read();if(E){m.trim()&&l(m.trim(),d),d.close();return}if(a!=null&&a.aborted){const O=new Tn("cancelled","Request was cancelled");d.error(O),i(O),await r.cancel();return}m+=c.decode(y,{stream:!0});const b=m.split(`
`);m=b.pop()||"";for(const O of b)O.trim()&&l(O.trim(),d);return p()}catch(y){const E=y instanceof Tn?y:Dc(0,null);d.error(E),i(E)}}},cancel(){return r.cancel()}})}const S_="@firebase/functions",w_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="auth-internal",uR="app-check-internal",cR="messaging-internal";function hR(r){const t=(i,{instanceIdentifier:a})=>{const l=i.getProvider("app").getImmediate(),c=i.getProvider(oR),d=i.getProvider(cR),m=i.getProvider(uR);return new Jw(l,c,d,m,a)};Ua(new Yr(zm,t,"PUBLIC").setMultipleInstances(!0)),lr(S_,w_,r),lr(S_,w_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r=Um(),t=tm){const a=Xc(bn(r),zm).getImmediate({identifier:t}),l=sE("functions");return l&&dR(a,...l),a}function dR(r,t,i){tR(bn(r),t,i)}function mR(r,t,i){return eR(bn(r),t)}hR();var gR="firebase",pR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(gR,pR,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,pE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,S){function D(){}D.prototype=S.prototype,x.D=S.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(I,V,M){for(var C=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)C[ae-2]=arguments[ae];return S.prototype[V].apply(I,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,D){D||(D=0);var I=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)I[V]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(V=0;16>V;++V)I[V]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=x.g[0],D=x.g[1],V=x.g[2];var M=x.g[3],C=S+(M^D&(V^M))+I[0]+3614090360&4294967295;S=D+(C<<7&4294967295|C>>>25),C=M+(V^S&(D^V))+I[1]+3905402710&4294967295,M=S+(C<<12&4294967295|C>>>20),C=V+(D^M&(S^D))+I[2]+606105819&4294967295,V=M+(C<<17&4294967295|C>>>15),C=D+(S^V&(M^S))+I[3]+3250441966&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(M^D&(V^M))+I[4]+4118548399&4294967295,S=D+(C<<7&4294967295|C>>>25),C=M+(V^S&(D^V))+I[5]+1200080426&4294967295,M=S+(C<<12&4294967295|C>>>20),C=V+(D^M&(S^D))+I[6]+2821735955&4294967295,V=M+(C<<17&4294967295|C>>>15),C=D+(S^V&(M^S))+I[7]+4249261313&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(M^D&(V^M))+I[8]+1770035416&4294967295,S=D+(C<<7&4294967295|C>>>25),C=M+(V^S&(D^V))+I[9]+2336552879&4294967295,M=S+(C<<12&4294967295|C>>>20),C=V+(D^M&(S^D))+I[10]+4294925233&4294967295,V=M+(C<<17&4294967295|C>>>15),C=D+(S^V&(M^S))+I[11]+2304563134&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(M^D&(V^M))+I[12]+1804603682&4294967295,S=D+(C<<7&4294967295|C>>>25),C=M+(V^S&(D^V))+I[13]+4254626195&4294967295,M=S+(C<<12&4294967295|C>>>20),C=V+(D^M&(S^D))+I[14]+2792965006&4294967295,V=M+(C<<17&4294967295|C>>>15),C=D+(S^V&(M^S))+I[15]+1236535329&4294967295,D=V+(C<<22&4294967295|C>>>10),C=S+(V^M&(D^V))+I[1]+4129170786&4294967295,S=D+(C<<5&4294967295|C>>>27),C=M+(D^V&(S^D))+I[6]+3225465664&4294967295,M=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(M^S))+I[11]+643717713&4294967295,V=M+(C<<14&4294967295|C>>>18),C=D+(M^S&(V^M))+I[0]+3921069994&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^M&(D^V))+I[5]+3593408605&4294967295,S=D+(C<<5&4294967295|C>>>27),C=M+(D^V&(S^D))+I[10]+38016083&4294967295,M=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(M^S))+I[15]+3634488961&4294967295,V=M+(C<<14&4294967295|C>>>18),C=D+(M^S&(V^M))+I[4]+3889429448&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^M&(D^V))+I[9]+568446438&4294967295,S=D+(C<<5&4294967295|C>>>27),C=M+(D^V&(S^D))+I[14]+3275163606&4294967295,M=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(M^S))+I[3]+4107603335&4294967295,V=M+(C<<14&4294967295|C>>>18),C=D+(M^S&(V^M))+I[8]+1163531501&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(V^M&(D^V))+I[13]+2850285829&4294967295,S=D+(C<<5&4294967295|C>>>27),C=M+(D^V&(S^D))+I[2]+4243563512&4294967295,M=S+(C<<9&4294967295|C>>>23),C=V+(S^D&(M^S))+I[7]+1735328473&4294967295,V=M+(C<<14&4294967295|C>>>18),C=D+(M^S&(V^M))+I[12]+2368359562&4294967295,D=V+(C<<20&4294967295|C>>>12),C=S+(D^V^M)+I[5]+4294588738&4294967295,S=D+(C<<4&4294967295|C>>>28),C=M+(S^D^V)+I[8]+2272392833&4294967295,M=S+(C<<11&4294967295|C>>>21),C=V+(M^S^D)+I[11]+1839030562&4294967295,V=M+(C<<16&4294967295|C>>>16),C=D+(V^M^S)+I[14]+4259657740&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^M)+I[1]+2763975236&4294967295,S=D+(C<<4&4294967295|C>>>28),C=M+(S^D^V)+I[4]+1272893353&4294967295,M=S+(C<<11&4294967295|C>>>21),C=V+(M^S^D)+I[7]+4139469664&4294967295,V=M+(C<<16&4294967295|C>>>16),C=D+(V^M^S)+I[10]+3200236656&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^M)+I[13]+681279174&4294967295,S=D+(C<<4&4294967295|C>>>28),C=M+(S^D^V)+I[0]+3936430074&4294967295,M=S+(C<<11&4294967295|C>>>21),C=V+(M^S^D)+I[3]+3572445317&4294967295,V=M+(C<<16&4294967295|C>>>16),C=D+(V^M^S)+I[6]+76029189&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(D^V^M)+I[9]+3654602809&4294967295,S=D+(C<<4&4294967295|C>>>28),C=M+(S^D^V)+I[12]+3873151461&4294967295,M=S+(C<<11&4294967295|C>>>21),C=V+(M^S^D)+I[15]+530742520&4294967295,V=M+(C<<16&4294967295|C>>>16),C=D+(V^M^S)+I[2]+3299628645&4294967295,D=V+(C<<23&4294967295|C>>>9),C=S+(V^(D|~M))+I[0]+4096336452&4294967295,S=D+(C<<6&4294967295|C>>>26),C=M+(D^(S|~V))+I[7]+1126891415&4294967295,M=S+(C<<10&4294967295|C>>>22),C=V+(S^(M|~D))+I[14]+2878612391&4294967295,V=M+(C<<15&4294967295|C>>>17),C=D+(M^(V|~S))+I[5]+4237533241&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~M))+I[12]+1700485571&4294967295,S=D+(C<<6&4294967295|C>>>26),C=M+(D^(S|~V))+I[3]+2399980690&4294967295,M=S+(C<<10&4294967295|C>>>22),C=V+(S^(M|~D))+I[10]+4293915773&4294967295,V=M+(C<<15&4294967295|C>>>17),C=D+(M^(V|~S))+I[1]+2240044497&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~M))+I[8]+1873313359&4294967295,S=D+(C<<6&4294967295|C>>>26),C=M+(D^(S|~V))+I[15]+4264355552&4294967295,M=S+(C<<10&4294967295|C>>>22),C=V+(S^(M|~D))+I[6]+2734768916&4294967295,V=M+(C<<15&4294967295|C>>>17),C=D+(M^(V|~S))+I[13]+1309151649&4294967295,D=V+(C<<21&4294967295|C>>>11),C=S+(V^(D|~M))+I[4]+4149444226&4294967295,S=D+(C<<6&4294967295|C>>>26),C=M+(D^(S|~V))+I[11]+3174756917&4294967295,M=S+(C<<10&4294967295|C>>>22),C=V+(S^(M|~D))+I[2]+718787259&4294967295,V=M+(C<<15&4294967295|C>>>17),C=D+(M^(V|~S))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+M&4294967295}a.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var D=S-this.blockSize,I=this.B,V=this.h,M=0;M<S;){if(V==0)for(;M<=D;)l(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(I[V++]=x.charCodeAt(M++),V==this.blockSize){l(this,I),V=0;break}}else for(;M<S;)if(I[V++]=x[M++],V==this.blockSize){l(this,I),V=0;break}}this.h=V,this.o+=S},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var D=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=D&255,D/=256;for(this.u(x),x=Array(16),S=D=0;4>S;++S)for(var I=0;32>I;I+=8)x[D++]=this.g[S]>>>I&255;return x};function c(x,S){var D=m;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=S(x)}function d(x,S){this.h=S;for(var D=[],I=!0,V=x.length-1;0<=V;V--){var M=x[V]|0;I&&M==S||(D[V]=M,I=!1)}this.g=D}var m={};function p(x){return-128<=x&&128>x?c(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return Y(y(-x));for(var S=[],D=1,I=0;x>=D;I++)S[I]=x/D|0,D*=4294967296;return new d(S,0)}function E(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return Y(E(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(S,8)),I=b,V=0;V<x.length;V+=8){var M=Math.min(8,x.length-V),C=parseInt(x.substring(V,V+M),S);8>M?(M=y(Math.pow(S,M)),I=I.j(M).add(y(C))):(I=I.j(D),I=I.add(y(C)))}return I}var b=p(0),O=p(1),P=p(16777216);r=d.prototype,r.m=function(){if(Q(this))return-Y(this).m();for(var x=0,S=1,D=0;D<this.g.length;D++){var I=this.i(D);x+=(0<=I?I:4294967296+I)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(Q(this))return"-"+Y(this).toString(x);for(var S=y(Math.pow(x,6)),D=this,I="";;){var V=gt(D,S).g;D=at(D,V.j(S));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=V,G(D))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=at(this,x),Q(x)?-1:G(x)?0:1};function Y(x){for(var S=x.g.length,D=[],I=0;I<S;I++)D[I]=~x.g[I];return new d(D,~x.h).add(O)}r.abs=function(){return Q(this)?Y(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0,V=0;V<=S;V++){var M=I+(this.i(V)&65535)+(x.i(V)&65535),C=(M>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);I=C>>>16,M&=65535,C&=65535,D[V]=C<<16|M}return new d(D,D[D.length-1]&-2147483648?-1:0)};function at(x,S){return x.add(Y(S))}r.j=function(x){if(G(this)||G(x))return b;if(Q(this))return Q(x)?Y(this).j(Y(x)):Y(Y(this).j(x));if(Q(x))return Y(this.j(Y(x)));if(0>this.l(P)&&0>x.l(P))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,D=[],I=0;I<2*S;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<x.g.length;V++){var M=this.i(I)>>>16,C=this.i(I)&65535,ae=x.i(V)>>>16,Zt=x.i(V)&65535;D[2*I+2*V]+=C*Zt,ct(D,2*I+2*V),D[2*I+2*V+1]+=M*Zt,ct(D,2*I+2*V+1),D[2*I+2*V+1]+=C*ae,ct(D,2*I+2*V+1),D[2*I+2*V+2]+=M*ae,ct(D,2*I+2*V+2)}for(I=0;I<S;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=S;I<2*S;I++)D[I]=0;return new d(D,0)};function ct(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function rt(x,S){this.g=x,this.h=S}function gt(x,S){if(G(S))throw Error("division by zero");if(G(x))return new rt(b,b);if(Q(x))return S=gt(Y(x),S),new rt(Y(S.g),Y(S.h));if(Q(S))return S=gt(x,Y(S)),new rt(Y(S.g),S.h);if(30<x.g.length){if(Q(x)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var D=O,I=S;0>=I.l(x);)D=ht(D),I=ht(I);var V=_t(D,1),M=_t(I,1);for(I=_t(I,2),D=_t(D,2);!G(I);){var C=M.add(I);0>=C.l(x)&&(V=V.add(D),M=C),I=_t(I,1),D=_t(D,1)}return S=at(x,V.j(S)),new rt(V,S)}for(V=b;0<=x.l(S);){for(D=Math.max(1,Math.floor(x.m()/S.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=y(D),C=M.j(S);Q(C)||0<C.l(x);)D-=I,M=y(D),C=M.j(S);G(M)&&(M=O),V=V.add(M),x=at(x,C)}return new rt(V,x)}r.A=function(x){return gt(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)&x.i(I);return new d(D,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)|x.i(I);return new d(D,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)^x.i(I);return new d(D,this.h^x.h)};function ht(x){for(var S=x.g.length+1,D=[],I=0;I<S;I++)D[I]=x.i(I)<<1|x.i(I-1)>>>31;return new d(D,x.h)}function _t(x,S){var D=S>>5;S%=32;for(var I=x.g.length-D,V=[],M=0;M<I;M++)V[M]=0<S?x.i(M+D)>>>S|x.i(M+D+1)<<32-S:x.i(M+D);return new d(V,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Hr=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yE,ho,vE,pc,em,_E,EE,TE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,g){if(g)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],g=g(A),g!=A&&g!=null&&t(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,A=!1,L={next:function(){if(!A&&v<u.length){var F=v++;return{value:g(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function b(u,g,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function O(u,g,v){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,O.apply(null,arguments)}function P(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function G(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,L,F){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return g.prototype[L].apply(A,et)}}function Q(u){const g=u.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=u[A];return v}return[]}function Y(u,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const L=u.length||0,F=A.length||0;u.length=L+F;for(let et=0;et<F;et++)u[L+et]=A[et]}else u.push(A)}}class at{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ct(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function gt(u){return gt[" "](u),u}gt[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function _t(u,g,v){for(const A in u)g.call(v,u[A],A,u)}function x(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function S(u){const g={};for(const v in u)g[v]=u[v];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let F=0;F<D.length;F++)v=D[F],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function V(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function M(u){m.setTimeout(()=>{throw u},0)}function C(){var u=Rt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ae{constructor(){this.h=this.g=null}add(g,v){const A=Zt.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Zt=new at(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,Rt=new ae,k=()=>{const u=m.Promise.resolve(void 0);it=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){M(v)}var g=Zt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Dt(u,g){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{gt(g.nodeName);var L=!0;break t}catch{}L=!1}L||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}G(Dt,tt);var pt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),qt=0;function ke(u,g,v,A,L){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=L,this.key=++qt,this.da=this.fa=!1}function Mn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Sn(u){this.src=u,this.g={},this.h=0}Sn.prototype.add=function(u,g,v,A,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var et=Jn(u,g,A,L);return-1<et?(g=u[et],v||(g.fa=!1)):(g=new ke(g,this.src,F,!!A,L),g.fa=v,u.push(g)),g};function jn(u,g){var v=g.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(A,L,1),F&&(Mn(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Jn(u,g,v,A){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==A)return L}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),ti={};function Ge(u,g,v,A,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Ge(u,g[F],v,A,L);return null}return v=Qa(v),u&&u[ue]?u.K(g,v,y(A)?!!A.capture:!1,L):Fe(u,g,v,!1,A,L)}function Fe(u,g,v,A,L,F){if(!g)throw Error("Invalid event type");var et=y(L)?!!L.capture:!!L,Pt=Mi(u);if(Pt||(u[ne]=Pt=new Sn(u)),v=Pt.add(g,v,A,et,F),v.proxy)return v;if(A=Ka(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ft||(L=et),L===void 0&&(L=!1),u.addEventListener(g.toString(),A,L);else if(u.attachEvent)u.attachEvent(Vi(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ka(){function u(v){return g.call(u.src,u.listener,v)}const g=ol;return u}function fr(u,g,v,A,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)fr(u,g[F],v,A,L);else A=y(A)?!!A.capture:!!A,v=Qa(v),u&&u[ue]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],v=Jn(F,v,A,L),-1<v&&(Mn(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Mi(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Jn(g,v,A,L)),(v=-1<u?g[u]:null)&&dr(v))}function dr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ue])jn(g.i,u);else{var v=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(v,A,u.capture):g.detachEvent?g.detachEvent(Vi(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Mi(g))?(jn(v,u),v.h==0&&(v.src=null,g[ne]=null)):Mn(u)}}}function Vi(u){return u in ti?ti[u]:ti[u]="on"+u}function ol(u,g){if(u.da)u=!0;else{g=new Dt(g,this);var v=u.listener,A=u.ha||u.src;u.fa&&dr(u),u=v.call(A,g)}return u}function Mi(u){return u=u[ne],u instanceof Sn?u:null}var ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(u){return typeof u=="function"?u:(u[ia]||(u[ia]=function(g){return u.handleEvent(g)}),u[ia])}function ce(){nt.call(this),this.i=new Sn(this),this.M=this,this.F=null}G(ce,nt),ce.prototype[ue]=!0,ce.prototype.removeEventListener=function(u,g,v,A){fr(this,u,g,v,A)};function Ft(u,g){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new tt(g,u);else if(g instanceof tt)g.target=g.target||u;else{var L=g;g=new tt(A,u),I(g,L)}if(L=!0,v)for(var F=v.length-1;0<=F;F--){var et=g.g=v[F];L=hn(et,A,!0,g)&&L}if(et=g.g=u,L=hn(et,A,!0,g)&&L,L=hn(et,A,!1,g)&&L,v)for(F=0;F<v.length;F++)et=g.g=v[F],L=hn(et,A,!1,g)&&L}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],A=0;A<v.length;A++)Mn(v[A]);delete u.g[g],u.h--}}this.F=null},ce.prototype.K=function(u,g,v,A){return this.i.add(String(u),g,!1,v,A)},ce.prototype.L=function(u,g,v,A){return this.i.add(String(u),g,!0,v,A)};function hn(u,g,v,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var et=g[F];if(et&&!et.da&&et.capture==v){var Pt=et.listener,Ie=et.ha||et.src;et.fa&&jn(u.i,et),L=Pt.call(Ie,A)!==!1&&L}}return L&&!A.defaultPrevented}function be(u,g,v){if(typeof u=="function")v&&(u=O(u,v));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function ra(u){u.g=be(()=>{u.g=null,u.i&&(u.i=!1,ra(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Xa extends nt{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){nt.call(this),this.h=u,this.g={}}G(ji,nt);var Pn=[];function fi(u){_t(u.g,function(g,v){this.g.hasOwnProperty(v)&&dr(g)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),fi(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=m.JSON.stringify,Pi=m.JSON.parse,di=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function aa(u){return u.h||(u.h=u.i())}function mr(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){tt.call(this,"d")}G(Ln,tt);function Se(){tt.call(this,"c")}G(Se,tt);var le={},mi=null;function Ht(){return mi=mi||new ce}le.La="serverreachability";function Ye(u){tt.call(this,le.La,u)}G(Ye,tt);function gi(u){const g=Ht();Ft(g,new Ye(g))}le.STAT_EVENT="statevent";function gr(u,g){tt.call(this,le.STAT_EVENT,u),this.stat=g}G(gr,tt);function ie(u){const g=Ht();Ft(g,new gr(g,u))}le.Ma="timingevent";function ye(u,g){tt.call(this,le.Ma,u),this.size=g}G(ye,tt);function he(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Ke(){this.g=!0}Ke.prototype.xa=function(){this.g=!1};function Ui(u,g,v,A,L,F){u.info(function(){if(u.g)if(F)for(var et="",Pt=F.split("&"),Ie=0;Ie<Pt.length;Ie++){var Lt=Pt[Ie].split("=");if(1<Lt.length){var Ue=Lt[0];Lt=Lt[1];var Ne=Ue.split("_");et=2<=Ne.length&&Ne[1]=="type"?et+(Ue+"="+Lt+"&"):et+(Ue+"=redacted&")}}else et=null;else et=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+v+`
`+et})}function sa(u,g,v,A,L,F,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+v+`
`+F+" "+et})}function Un(u,g,v,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ni(u,v)+(A?" "+A:"")})}function $a(u,g){u.info(function(){return"TIMEOUT: "+g})}Ke.prototype.info=function(){};function ni(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return wn(v)}catch{return g}}var ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function At(){}G(At,Li),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},zn=new At;function Nt(u,g,v,A){this.j=u,this.i=g,this.l=v,this.R=A||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var Qe={},Pe={};function fn(u,g,v){u.L=1,u.v=ha(Rn(g)),u.m=v,u.P=!0,ai(u,null)}function ai(u,g){u.F=Date.now(),la(u),u.A=Rn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ml(v.i,"t",A),u.C=0,v=u.j.J,u.h=new Ct,u.g=tu(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Xa(O(u.Y,u,u.g),u.O)),g=u.U,v=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pn[0]=L.toString()),L=Pn);for(var F=0;F<L.length;F++){var et=Ge(v,L[F],A||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),gi(),Ui(u.i,u.u,u.A,u.l,u.R,u.m)}Nt.prototype.ca=function(u){u=u.target;const g=this.M;g&&Gn(u)==3?g.j():this.Y(u)},Nt.prototype.Y=function(u){try{if(u==this.g)t:{const Ne=Gn(this.g);var g=this.g.Ba();const Ki=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Yo(this.g)))){this.J||Ne!=4||g==7||(g==8||0>=Ki?gi(3):gi(2)),pr(this);var v=this.g.Z();this.X=v;e:if(Za(this)){var A=Yo(this.g);u="";var L=A.length,F=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),pi(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(F&&g==L-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=v==200,sa(this.i,this.u,this.A,this.l,this.R,Ne,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ie=this.g;if((Pt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Pt)){var Lt=Pt;break e}}Lt=null}if(v=Lt)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,v);else{this.o=!1,this.s=3,ie(12),Xe(this),pi(this);break t}}if(this.P){v=!0;let $e;for(;!this.J&&this.C<et.length;)if($e=zo(this,et),$e==Pe){Ne==4&&(this.s=4,ie(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if($e==Qe){this.s=4,ie(15),Un(this.i,this.l,et,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,$e,null),oa(this,$e);if(Za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||et.length!=0||this.h.h||(this.s=1,ie(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,et,"[Invalid Chunked Response]"),Xe(this),pi(this);else if(0<et.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),_a(Ue),Ue.M=!0,ie(11))}}else Un(this.i,this.l,et,null),oa(this,et);Ne==4&&Xe(this),this.o&&!this.J&&(Ne==4?Zo(this.j,this):(this.o=!1,la(this)))}else yh(this.g),v==400&&0<et.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Xe(this),pi(this)}}}catch{}finally{}};function Za(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zo(u,g){var v=u.C,A=g.indexOf(`
`,v);return A==-1?Pe:(v=Number(g.substring(v,A)),isNaN(v)?Qe:(A+=1,A+v>g.length?Pe:(g=g.slice(A,A+v),u.C=A+v,g)))}Nt.prototype.cancel=function(){this.J=!0,Xe(this)};function la(u){u.S=Date.now()+u.I,Bo(u,u.I)}function Bo(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(O(u.ba,u),g)}function pr(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Nt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($a(this.i,this.A),this.L!=2&&(gi(),ie(17)),Xe(this),this.s=2,pi(this)):Bo(this,this.S-u)};function pi(u){u.j.G==0||u.J||Zo(u.j,u)}function Xe(u){pr(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,fi(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function oa(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||ul(v.h,u))){if(!u.K&&ul(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)us(v),ls(v);else break t;_l(v),ie(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=he(O(v.Za,v),6e3));if(1>=Ja(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Yi(v,11)}else if((u.K||v.g==u)&&us(v),!ct(g))for(L=v.Da.g.parse(g),g=0;g<L.length;g++){let Lt=L[g];if(v.T=Lt[0],Lt=Lt[1],v.G==2)if(Lt[0]=="c"){v.K=Lt[1],v.ia=Lt[2];const Ue=Lt[3];Ue!=null&&(v.la=Ue,v.j.info("VER="+v.la));const Ne=Lt[4];Ne!=null&&(v.Aa=Ne,v.j.info("SVER="+v.Aa));const Ki=Lt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $e=u.g;if($e){const bi=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var F=A.h;F.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ts(F,F.h),F.h=null))}if(A.D){const Tl=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(A.ya=Tl,Wt(A.I,A.D,Tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var et=u;if(A.qa=Jo(A,A.J?A.ia:null,A.W),et.K){dn(A.h,et);var Pt=et,Ie=A.L;Ie&&(Pt.I=Ie),Pt.B&&(pr(Pt),la(Pt)),A.g=et}else Xo(A);0<v.i.length&&os(v)}else Lt[0]!="stop"&&Lt[0]!="close"||Yi(v,7);else v.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Yi(v,7):yl(v):Lt[0]!="noop"&&v.l&&v.l.ta(Lt),v.v=0)}}gi(4)}catch{}}var qo=class{constructor(u,g){this.g=u,this.map=g}};function zi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ja(u){return u.h?1:u.g?u.g.size:0}function ul(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ts(u,g){u.g?u.g.add(g):u.h=g}function dn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}zi.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return Q(u.i)}function dh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,A=0;A<v;A++)g.push(u[A]);return g}g=[],v=0;for(A in u)g[v++]=u[A];return g}function es(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const A in u)g[v++]=A;return g}}}function hl(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=es(u),A=dh(u),L=A.length,F=0;F<L;F++)g.call(void 0,A[F],v&&v[F],u)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mh(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),L=null;if(0<=A){var F=u[v].substring(0,A);L=u[v].substring(A+1)}else F=u[v];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,ca(this,u.j),this.o=u.o,this.g=u.g,yr(this,u.s),this.l=u.l;var g=u.i,v=new qi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Bi(this,v),this.m=u.m}else u&&(g=String(u).match(ua))?(this.h=!1,ca(this,g[1]||"",!0),this.o=Bn(g[2]||""),this.g=Bn(g[3]||"",!0),yr(this,g[4]),this.l=Bn(g[5]||"",!0),Bi(this,g[6]||"",!0),this.m=Bn(g[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}we.prototype.toString=function(){var u=[],g=this.j;g&&u.push(fa(g,fl,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(fa(g,fl,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fa(v,v.charAt(0)=="/"?gh:dl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fa(v,ns)),u.join("")};function Rn(u){return new we(u)}function ca(u,g,v){u.j=v?Bn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function yr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Bi(u,g,v){g instanceof qi?(u.i=g,Go(u.i,u.h)):(v||(g=fa(g,ph)),u.i=new qi(g,u.h))}function Wt(u,g,v){u.i.set(g,v)}function ha(u){return Wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fa(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,Ho),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ho(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fl=/[#\/\?@]/g,dl=/[#\?:]/g,gh=/[#\?]/g,ph=/[#\?@]/g,ns=/#/g;function qi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function qn(u){u.g||(u.g=new Map,u.h=0,u.i&&mh(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=qi.prototype,r.add=function(u,g){qn(this),this.i=null,u=yi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Hi(u,g){qn(u),g=yi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Gi(u,g){return qn(u),g=yi(u,g),u.g.has(g)}r.forEach=function(u,g){qn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(g,L,A,this)},this)},this)},r.na=function(){qn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const L=u[A];for(let F=0;F<L.length;F++)v.push(g[A])}return v},r.V=function(u){qn(this);let g=[];if(typeof u=="string")Gi(this,u)&&(g=g.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return qn(this),this.i=null,u=yi(this,u),Gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ml(u,g,v){Hi(u,g),0<v.length&&(u.i=null,u.g.set(yi(u,g),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const F=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var L=F;et[A]!==""&&(L+="="+encodeURIComponent(String(et[A]))),u.push(L)}}return this.i=u.join("&")};function yi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Go(u,g){g&&!u.j&&(qn(u),u.i=null,u.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(Hi(this,A),ml(this,L,v))},u)),u.j=g}function da(u,g){const v=new Ke;if(m.Image){const A=new Image;A.onload=P(Hn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Hn,v,"TestLoadImage: error",!1,g,A),A.onabort=P(Hn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Hn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function si(u,g){const v=new Ke,A=new AbortController,L=setTimeout(()=>{A.abort(),Hn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?Hn(v,"TestPingServer: ok",!0,g):Hn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Hn(v,"TestPingServer: error",!1,g)})}function Hn(u,g,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ma(){this.g=new di}function vi(u,g,v){const A=v||"";try{hl(u,function(L,F){let et=L;y(L)&&(et=wn(L)),g.push(A+F+"="+encodeURIComponent(et))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}G(vr,Li),vr.prototype.g=function(){return new Fi(this.l,this.j)},vr.prototype.i=function(u){return function(){return u}}({});function Fi(u,g){ce.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Fi,ce),r=Fi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?_i(this):Ei(this),this.readyState==3&&gl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,_i(this))},r.Qa=function(u){this.g&&(this.response=u,_i(this))},r.ga=function(){this.g&&_i(this)};function _i(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ei(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pl(u){let g="";return _t(u,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Le(u,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=pl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Wt(u,g,v))}function Kt(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Kt,ce);var is=/^https?$/i,ga=["POST","PUT"];r=Kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?aa(this.o):aa(zn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Fo(this,F);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ga,g,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,et]of v)this.g.setRequestHeader(F,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Fo(this,F)}};function Fo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rs(u),Ti(u)}function rs(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?as(this):this.bb())},r.bb=function(){as(this)};function as(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Gn(u)!=4||u.Z()!=2)){if(u.u&&Gn(u)==4)be(u.Ea,0,u);else if(Ft(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=et===0){var L=String(u.D).match(ua)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!is.test(L?L.toLowerCase():"")}v=A}if(v)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var F=2<Gn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",rs(u)}}finally{Ti(u)}}}}function Ti(u,g){if(u.g){pa(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ft(u,"ready");try{v.onreadystatechange=A}catch{}}}function pa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Pi(g)}};function Yo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yh(u){const g={};u=(u.g&&2<=Gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ct(u[A]))continue;var v=V(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[L]||[];g[L]=F,F.push(v)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function ss(u){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,u),this.cb=ya("retryDelaySeedMs",1e4,u),this.Wa=ya("forwardChannelMaxRetries",2,u),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(u&&u.concurrentRequestLimit),this.Da=new ma,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ss.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,A){ie(0),this.W=u,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Jo(this,null,this.W),os(this)};function yl(u){if(Ko(u),u.G==3){var g=u.U++,v=Rn(u.I);if(Wt(v,"SID",u.K),Wt(v,"RID",g),Wt(v,"TYPE","terminate"),va(u,v),g=new Nt(u,u.j,g),g.L=2,g.v=ha(Rn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=tu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),la(g)}Wo(u)}function ls(u){u.g&&(_a(u),u.g.cancel(),u.g=null)}function Ko(u){ls(u),u.u&&(m.clearTimeout(u.u),u.u=null),us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function os(u){if(!Wa(u.h)&&!u.s){u.s=!0;var g=u.Ga;it||k(),ut||(it(),ut=!0),Rt.add(g,u),u.B=0}}function vh(u,g){return Ja(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(O(u.Ga,u,g),El(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Nt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Qo(this,L,g),v=Rn(this.I),Wt(v,"RID",u),Wt(v,"CVER",22),this.D&&Wt(v,"X-HTTP-Session-Id",this.D),va(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(pl(F)))+"&"+g:this.m&&Le(v,this.m,F)),ts(this.h,L),this.Ua&&Wt(v,"TYPE","init"),this.P?(Wt(v,"$req",g),Wt(v,"SID","null"),L.T=!0,fn(L,v,null)):fn(L,v,g),this.G=2}}else this.G==3&&(u?vl(this,u):this.i.length==0||Wa(this.h)||vl(this))};function vl(u,g){var v;g?v=g.l:v=u.U++;const A=Rn(u.I);Wt(A,"SID",u.K),Wt(A,"RID",v),Wt(A,"AID",u.T),va(u,A),u.m&&u.o&&Le(A,u.m,u.o),v=new Nt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Qo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ts(u.h,v),fn(v,A,g)}function va(u,g){u.H&&_t(u.H,function(v,A){Wt(g,A,v)}),u.l&&hl({},function(v,A){Wt(g,A,v)})}function Qo(u,g,v){v=Math.min(u.i.length,v);var A=u.l?O(u.l.Na,u.l,u):null;t:{var L=u.i;let F=-1;for(;;){const et=["count="+v];F==-1?0<v?(F=L[0].g,et.push("ofs="+F)):F=0:et.push("ofs="+F);let Pt=!0;for(let Ie=0;Ie<v;Ie++){let Lt=L[Ie].g;const Ue=L[Ie].map;if(Lt-=F,0>Lt)F=Math.max(0,L[Ie].g-100),Pt=!1;else try{vi(Ue,et,"req"+Lt+"_")}catch{A&&A(Ue)}}if(Pt){A=et.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,A}function Xo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;it||k(),ut||(it(),ut=!0),Rt.add(g,u),u.v=0}}function _l(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(O(u.Fa,u),El(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,$o(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(O(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ls(this),$o(this))};function _a(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function $o(u){u.g=new Nt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Rn(u.qa);Wt(g,"RID","rpc"),Wt(g,"SID",u.K),Wt(g,"AID",u.T),Wt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Wt(g,"TO",u.ja),Wt(g,"TYPE","xmlhttp"),va(u,g),u.m&&u.o&&Le(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ha(Rn(g)),v.m=null,v.P=!0,ai(v,u)}r.Za=function(){this.C!=null&&(this.C=null,ls(this),_l(this),ie(19))};function us(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Zo(u,g){var v=null;if(u.g==g){us(u),_a(u),u.g=null;var A=2}else if(ul(u.h,g))v=g.D,dn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;A=Ht(),Ft(A,new ye(A,v)),os(u)}else Xo(u);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&vh(u,g)||A==2&&_l(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),L){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function El(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Yi(u,g){if(u.j.info("Error code "+g),g==2){var v=O(u.fb,u),A=u.Xa;const L=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ca(A,"https"),ha(A),L?da(A.toString(),v):si(A.toString(),v)}else ie(2);u.G=0,u.l&&u.l.sa(g),Wo(u),Ko(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Wo(u){if(u.G=0,u.ka=[],u.l){const g=cl(u.h);(g.length!=0||u.i.length!=0)&&(Y(u.ka,g),Y(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function Jo(u,g,v){var A=v instanceof we?Rn(v):new we(v);if(A.g!="")g&&(A.g=g+"."+A.g),yr(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new we(null);A&&ca(F,A),g&&(F.g=g),L&&yr(F,L),v&&(F.l=v),A=F}return v=u.D,g=u.ya,v&&g&&Wt(A,v,g),Wt(A,"VER",u.la),va(u,A),A}function tu(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Kt(new vr({eb:v})):new Kt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function cs(){}cs.prototype.g=function(u,g){return new mn(u,g)};function mn(u,g){ce.call(this),this.g=new ss(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ct(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ct(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ai(this)}G(mn,ce),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){yl(this.g)},mn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=wn(u),u=v);g.i.push(new qo(g.Ya++,u)),g.G==3&&os(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,mn.aa.N.call(this)};function nu(u){Ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}G(nu,Ln);function iu(){Se.call(this),this.status=1}G(iu,Se);function Ai(u){this.g=u}G(Ai,eu),Ai.prototype.ua=function(){Ft(this.g,"a")},Ai.prototype.ta=function(u){Ft(this.g,new nu(u))},Ai.prototype.sa=function(u){Ft(this.g,new iu)},Ai.prototype.ra=function(){Ft(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,TE=function(){return new cs},EE=function(){return Ht()},_E=le,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,pc=ii,ri.COMPLETE="complete",vE=ri,mr.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",ce.prototype.listen=ce.prototype.K,ho=mr,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,yE=Kt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",C_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Pm("@firebase/firestore");function Us(){return za.logLevel}function st(r,...t){if(za.logLevel<=Bt.DEBUG){const i=t.map(Bm);za.debug(`Firestore (${il}): ${r}`,...i)}}function ur(r,...t){if(za.logLevel<=Bt.ERROR){const i=t.map(Bm);za.error(`Firestore (${il}): ${r}`,...i)}}function Qs(r,...t){if(za.logLevel<=Bt.WARN){const i=t.map(Bm);za.warn(`Firestore (${il}): ${r}`,...i)}}function Bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,AE(r,a,i)}function AE(r,t,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ur(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||AE(t,l,a)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ga{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(un.UNAUTHENTICATED))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _R{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class ER{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function It(r,t){return r<t?-1:r>t?1:0}function nm(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return It(a,l);{const c=SE(),d=SR(c.encode(k_(r,i)),c.encode(k_(t,i)));return d!==0?d:It(a,l)}}i+=a>65535?2:1}return It(r.length,t.length)}function k_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function SR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return It(r[i],t[i]);return It(r.length,t.length)}function Xs(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,N_=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*N_);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<I_)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-I_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new de(0,0))}static max(){return new St(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class ki{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return It(t.length,i.length)}static compareSegments(t,i){const a=ki.isNumericId(t),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class oe extends ki{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ki{construct(t,i,a){return new rn(t,i,a)}static isValidIdentifier(t){return wR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new rn([x_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else m==="`"?(d=!d,l++):m!=="."||d?(a+=m,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=-1;function RR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new Kr(l,mt.empty(),t)}function DR(r){return new Kr(r.readTime,r.key,bo)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(St.min(),mt.empty(),bo)}static max(){return new Kr(St.max(),mt.empty(),bo)}}function CR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==OR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,a)=>{i(t)})}static reject(t){return new W((i,a)=>{a(t)})}static waitFor(t){return new W((i,a)=>{let l=0,c=0,d=!1;t.forEach(m=>{++l,m.next(()=>{++c,d&&c===l&&i()},p=>a(p))}),d=!0,c===l&&i()})}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next(l=>l?W.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new W((a,l)=>{const c=t.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(E=>{d[y]=E,++m,m===c&&a(d)},E=>l(E))}})}static doWhile(t,i){return new W((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function IR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function al(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function Zc(r){return r==null}function Cc(r){return r===0&&1/r==-1/0}function NR(r){return typeof r=="number"&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="";function xR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=V_(t)),t=VR(r.get(i),t);return V_(t)}function VR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function V_(r){return r+RE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ea(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function DE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oc(this.root,t,this.comparator,!0)}}class oc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new en(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return en.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(t){return new j_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class j_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new Me(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xs(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}}(t);return new an(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=MR.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="server_timestamp",kE="__type__",IE="__previous_value__",NE="__local_write_time__";function Hm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[kE])===null||i===void 0?void 0:i.stringValue)===OE}function Wc(r){const t=r.mapValue.fields[IE];return Hm(t)?Wc(t):t}function So(r){const t=Qr(r.mapValue.fields[NE].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i,a,l,c,d,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Oc="(default)";class wo{constructor(t,i){this.projectId=t,this.database=i||Oc}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof wo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__type__",PR="__max__",uc={mapValue:{}},VE="__vector__",kc="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:UR(r)?9007199254740991:LR(r)?10:11:Et(28295,{value:r})}function xi(r,t){if(r===t)return!0;const i=$r(r);if(i!==$r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return So(r).isEqual(So(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),m=Qr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),m=Ae(c.doubleValue);return d===m?Cc(d)===Cc(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return Xs(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},m=c.mapValue.fields||{};if(M_(d)!==M_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!xi(d[p],m[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function Ro(r,t){return(r.values||[]).find(i=>xi(i,t))!==void 0}function $s(r,t){if(r===t)return 0;const i=$r(r),a=$r(t);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=Ae(c.integerValue||c.doubleValue),p=Ae(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return P_(r.timestampValue,t.timestampValue);case 4:return P_(So(r),So(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Xr(c),p=Xr(d);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=It(m[y],p[y]);if(E!==0)return E}return It(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=It(Ae(c.latitude),Ae(d.latitude));return m!==0?m:It(Ae(c.longitude),Ae(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return L_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var m,p,y,E;const b=c.fields||{},O=d.fields||{},P=(m=b[kc])===null||m===void 0?void 0:m.arrayValue,G=(p=O[kc])===null||p===void 0?void 0:p.arrayValue,Q=It(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:L_(P,G)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===uc.mapValue&&d===uc.mapValue)return 0;if(c===uc.mapValue)return 1;if(d===uc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const O=nm(p[b],E[b]);if(O!==0)return O;const P=$s(m[p[b]],y[E[b]]);if(P!==0)return P}return It(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function P_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const i=Qr(r),a=Qr(t),l=It(i.seconds,a.seconds);return l!==0?l:It(i.nanos,a.nanos)}function L_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$s(i[l],a[l]);if(c)return c}return It(i.length,a.length)}function Zs(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Qr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Xr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function yc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+yc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+yc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return ea(a.fields,(c,d)=>{l+=c.length+yc(d)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function U_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function z_(r){return!!r&&"nullValue"in r}function B_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vc(r){return!!r&&"mapValue"in r}function LR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[xE])===null||i===void 0?void 0:i.stringValue)===VE}function go(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ea(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=go(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=go(r.arrayValue.values[i]);return t}return Object.assign({},r)}function UR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=go(i)}setAll(t){let i=rn.emptyPath(),a={},l=[];t.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=m.popLast()}d?a[m.lastSegment()]=go(d):l.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ea(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new En(go(this.value))}}function ME(r){const t=[];return ea(r.fields,(i,a)=>{const l=new rn([i]);if(vc(a)){const c=ME(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,i,a,l,c,d,m){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new cn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new cn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new cn(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,i){this.position=t,this.inclusive=i}}function q_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=$s(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function H_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i="asc"){this.field=t,this.dir=i}}function zR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{}class Oe extends jE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new qR(t,i,a):i==="array-contains"?new FR(t,a):i==="in"?new YR(t,a):i==="not-in"?new KR(t,a):i==="array-contains-any"?new QR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new HR(t,a):new GR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($s(i,this.value)):i!==null&&$r(this.value)===$r(i)&&this.matchesComparison($s(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends jE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new hi(t,i)}matches(t){return PE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function PE(r){return r.op==="and"}function LE(r){return BR(r)&&PE(r)}function BR(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function am(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Zs(r.value);if(LE(r))return r.filters.map(t=>am(t)).join(",");{const t=r.filters.map(i=>am(i)).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof Oe?function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)}(r,t):r instanceof hi?function(a,l){return l instanceof hi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,m)=>c&&UE(d,l.filters[m]),!0):!1}(r,t):void Et(19439)}function zE(r){return r instanceof Oe?function(i){return`${i.field.canonicalString()} ${i.op} ${Zs(i.value)}`}(r):r instanceof hi?function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"}(r):"Filter"}class qR extends Oe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class HR extends Oe{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class GR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function BE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>mt.fromName(a.referenceValue))}class FR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&Ro(i.arrayValue,this.value)}}class YR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ro(this.value.arrayValue,i)}}class KR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ro(this.value.arrayValue,i)}}class QR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ro(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,i=null,a=[],l=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=m,this.Ie=null}}function G_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new XR(r,t,i,a,l,c,d)}function Fm(r){const t=wt(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>am(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Zs(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Zs(a)).join(",")),t.Ie=i}return t.Ie}function Ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!zR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!H_(r.startAt,t.startAt)&&H_(r.endAt,t.endAt)}function sm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,i=null,a=[],l=[],c=null,d="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $R(r,t,i,a,l,c,d,m){return new Vo(r,t,i,a,l,c,d,m)}function qE(r){return new Vo(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HE(r){return r.collectionGroup!==null}function po(r){const t=wt(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Me(rn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Nc(c,a))}),i.has(rn.keyField().canonicalString())||t.Ee.push(new Nc(rn.keyField(),a))}return t.Ee}function Ii(r){const t=wt(r);return t.de||(t.de=ZR(t,po(r))),t.de}function ZR(r,t){if(r.limitType==="F")return G_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Nc(l.field,c)});const i=r.endAt?new Ic(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ic(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t){const i=r.filters.concat([t]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function om(r,t,i){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Jc(r,t){return Ym(Ii(r),Ii(t))&&r.limitType===t.limitType}function GE(r){return`${Fm(Ii(r))}|lt:${r.limitType}`}function zs(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>zE(l)).join(", ")}]`),Zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Zs(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Zs(l)).join(",")),`Target(${a})`}(Ii(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of po(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(d,m,p){const y=q_(d,m,p);return d.inclusive?y<=0:y<0}(a.startAt,po(a),l)||a.endAt&&!function(d,m,p){const y=q_(d,m,p);return d.inclusive?y>=0:y>0}(a.endAt,po(a),l))}(r,t)}function WR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function FE(r){return(t,i)=>{let a=!1;for(const l of po(r)){const c=JR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function JR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?$s(p,y):Et(42886)}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new pe(mt.comparator);function cr(){return tD}const YE=new pe(mt.comparator);function fo(...r){let t=YE;for(const i of r)t=t.insert(i.key,i);return t}function KE(r){let t=YE;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function ja(){return yo()}function QE(){return yo()}function yo(){return new Fa(r=>r.toString(),(r,t)=>r.isEqual(t))}const eD=new pe(mt.comparator),nD=new Me(mt.comparator);function jt(...r){let t=nD;for(const i of r)t=t.add(i);return t}const iD=new Me(It);function rD(){return iD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(t)?"-0":t}}function XE(r){return{integerValue:""+r}}function aD(r,t){return NR(t)?XE(t):Km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function sD(r,t,i){return r instanceof xc?function(l,c){const d={fields:{[kE]:{stringValue:OE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=Wc(c)),c&&(d.fields[IE]=c),{mapValue:d}}(i,t):r instanceof Do?ZE(r,t):r instanceof Co?WE(r,t):function(l,c){const d=$E(l,c),m=Y_(d)+Y_(l.Re);return rm(d)&&rm(l.Re)?XE(m):Km(l.serializer,m)}(r,t)}function lD(r,t,i){return r instanceof Do?ZE(r,t):r instanceof Co?WE(r,t):i}function $E(r,t){return r instanceof Vc?function(a){return rm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class xc extends eh{}class Do extends eh{constructor(t){super(),this.elements=t}}function ZE(r,t){const i=JE(t);for(const a of r.elements)i.some(l=>xi(l,a))||i.push(a);return{arrayValue:{values:i}}}class Co extends eh{constructor(t){super(),this.elements=t}}function WE(r,t){let i=JE(t);for(const a of r.elements)i=i.filter(l=>!xi(l,a));return{arrayValue:{values:i}}}class Vc extends eh{constructor(t,i){super(),this.serializer=t,this.Re=i}}function Y_(r){return Ae(r.integerValue||r.doubleValue)}function JE(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function oD(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof Do&&l instanceof Do||a instanceof Co&&l instanceof Co?Xs(a.elements,l.elements,xi):a instanceof Vc&&l instanceof Vc?xi(a.Re,l.Re):a instanceof xc&&l instanceof xc}(r.transform,t.transform)}class uD{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _c(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function tT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Qm(r.key,ci.none()):new Mo(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new Me(rn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new na(r.key,a,new Vn(l.toArray()),ci.none())}}function cD(r,t,i){r instanceof Mo?function(l,c,d){const m=l.value.clone(),p=Q_(l.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,i):r instanceof na?function(l,c,d){if(!_c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Q_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(eT(l)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function vo(r,t,i,a){return r instanceof Mo?function(c,d,m,p){if(!_c(c.precondition,d))return m;const y=c.value.clone(),E=X_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,i,a):r instanceof na?function(c,d,m,p){if(!_c(c.precondition,d))return m;const y=X_(c.fieldTransforms,p,d),E=d.data;return E.setAll(eT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,t,i,a):function(c,d,m){return _c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,i)}function hD(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=$E(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function K_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xs(a,l,(c,d)=>oD(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Mo extends nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class na extends nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eT(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function Q_(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,m=t.data.field(c.field);a.set(c.field,lD(d,m,i[l]))}return a}function X_(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,sD(c,d,t))}return a}class Qm extends nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&cD(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=vo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=vo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=QE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(l.key)?null:m;const p=tT(d,m);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),jt())}isEqual(t){return this.batchId===t.batchId&&Xs(this.mutations,t.mutations,(i,a)=>K_(i,a))&&Xs(this.baseMutations,t.baseMutations,(i,a)=>K_(i,a))}}class Xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return eD}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Xm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function pD(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function nT(r){if(r===void 0)return ur("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ce.OK:return J.OK;case Ce.CANCELLED:return J.CANCELLED;case Ce.UNKNOWN:return J.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return J.INTERNAL;case Ce.UNAVAILABLE:return J.UNAVAILABLE;case Ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ce.NOT_FOUND:return J.NOT_FOUND;case Ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ce.ABORTED:return J.ABORTED;case Ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ce.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Hr([4294967295,4294967295],0);function $_(r){const t=SE().encode(r),i=new pE;return i.update(t),new Uint8Array(i.digest())}function Z_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class $m{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new mo(`Invalid padding: ${i}`);if(a<0)throw new mo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new mo(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Hr.fromNumber(this.pe)}we(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(yD)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=$_(t),[a,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.be(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,l,i);return a.forEach(m=>d.insert(m)),d}insert(t){if(this.pe===0)return;const i=$_(t),[a,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ih(St.min(),l,new pe(It),cr(),jt())}}class jo{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jo(a,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i,a,l){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=l}}class iT{constructor(t,i){this.targetId=t,this.Ce=i}}class rT{constructor(t,i,a=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class W_{constructor(){this.Fe=0,this.Me=J_(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=jt(),i=jt(),a=jt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}}),new jo(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=J_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vD{constructor(t){this.ze=t,this.je=new Map,this.He=cr(),this.Je=cc(),this.Ye=cc(),this.Ze=new pe(It)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,a=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(sm(c))if(a===0){const d=new mt(c.path);this.tt(i,d,cn.newNoDocument(d,St.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const m=this.ct(t),p=m?this.lt(m,t,d):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,m;try{d=Xr(a).toUint8Array()}catch(p){if(p instanceof CE)return Qs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $m(d,l,c)}catch(p){return Qs(p instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const m=this._t(d);if(m){if(c.current&&sm(m.target)){const p=new mt(m.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,cn.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let a=jt();this.Ye.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new ih(t,i,this.Ze,this.He,a);return this.He=cr(),this.Je=cc(),this.Ye=cc(),this.Ze=new pe(It),l}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new W_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Me(It),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Me(It),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new W_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function cc(){return new pe(mt.comparator)}function J_(){return new pe(mt.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class AD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Mc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function bD(r,t){return Mc(r,t.toTimestamp())}function Ni(r){return Qt(!!r,49232),St.fromTimestamp(function(i){const a=Qr(i);return new de(a.seconds,a.nanos)}(r))}function Zm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function sT(r){const t=oe.fromString(r);return Qt(hT(t),10190,{key:t.toString()}),t}function hm(r,t){return Zm(r.databaseId,t.path)}function Dd(r,t){const i=sT(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(oT(i))}function lT(r,t){return Zm(r.databaseId,t)}function SD(r){const t=sT(r);return t.length===4?oe.emptyPath():oT(t)}function fm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function t0(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function wD(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const E=y.code===void 0?J.UNKNOWN:nT(y.code);return new lt(E,y.message||"")}(d);i=new rT(a,l,c,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Dd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):St.min(),m=new En({mapValue:{fields:a.document.fields}}),p=cn.newFoundDocument(l,c,d,m),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Ec(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Dd(r,a.document),c=a.readTime?Ni(a.readTime):St.min(),d=cn.newNoDocument(l,c),m=a.removedTargetIds||[];i=new Ec([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Dd(r,a.document),c=a.removedTargetIds||[];i=new Ec([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new gD(l,c),m=a.targetId;i=new iT(m,d)}}return i}function RD(r,t){let i;if(t instanceof Mo)i={update:t0(r,t.key,t.value)};else if(t instanceof Qm)i={delete:hm(r,t.key)};else if(t instanceof na)i={update:t0(r,t.key,t.data),updateMask:MD(t.fieldMask)};else{if(!(t instanceof fD))return Et(16599,{ft:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const m=d.transform;if(m instanceof xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Do)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw Et(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:bD(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),i}function DD(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(i=>function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(St.min())&&(d=Ni(c)),new uD(d,l.transformResults||[])}(i,t))):[]}function CD(r,t){return{documents:[lT(r,t.path)]}}function OD(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=lT(r,l);const c=function(y){if(y.length!==0)return cT(hi.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(O){return{field:Bs(O.field),direction:ND(O.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const m=um(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:i,parent:l}}function kD(r){let t=SD(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(b){const O=uT(b);return O instanceof hi&&LE(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(O=>function(G){return new Nc(qs(G.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(O))}(i.orderBy));let m=null;i.limit&&(m=function(b){let O;return O=typeof b=="object"?b.value:b,Zc(O)?null:O}(i.limit));let p=null;i.startAt&&(p=function(b){const O=!!b.before,P=b.values||[];return new Ic(P,O)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const O=!b.before,P=b.values||[];return new Ic(P,O)}(i.endAt)),$R(t,l,d,c,m,"F",p,y)}function ID(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function uT(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qs(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qs(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qs(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qs(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(i){return Oe.create(qs(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return hi.create(i.compositeFilter.filters.map(a=>uT(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(r):Et(30097,{filter:r})}function ND(r){return _D[r]}function xD(r){return ED[r]}function VD(r){return TD[r]}function Bs(r){return{fieldPath:r.canonicalString()}}function qs(r){return rn.fromServerFormat(r.fieldPath)}function cT(r){return r instanceof Oe?function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:Bs(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:Bs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:Bs(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:Bs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(i.field),op:xD(i.op),value:i.value}}}(r):r instanceof hi?function(i){const a=i.getFilters().map(l=>cT(l));return a.length===1?a[0]:{compositeFilter:{op:VD(i.op),filters:a}}}(r):Et(54877,{filter:r})}function MD(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function hT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,i,a,l,c=St.min(),d=St.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.wt=t}}function PD(r){const t=kD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.yn=new UD}addToCollectionParentIndex(t,i){return this.yn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Kr.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class UD{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(fT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Ws(0)}static ir(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",zD=1048576;function i0([r,t],[i,a]){const l=It(r,i);return l===0?It(t,a):l}class BD{constructor(t){this.cr=t,this.buffer=new Me(i0),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();i0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){st(n0,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){al(i)?st(n0,"Ignoring IndexedDB error during garbage collection: ",i):await rl(i)}await this.Ir(3e5)})}}class HD{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return W.resolve($c.le);const a=new BD(i);return this.Er.forEachTarget(t,l=>a.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>a.Pr(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.Er.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(e0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let a,l,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(a=b,m=Date.now(),this.removeTargets(t,a,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(y=Date.now(),Us()<=Bt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b})))}}function GD(r,t){return new HD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Fa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&vo(a.mutation,l,Vn.empty(),de.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,jt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=jt()){const l=ja();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=fo();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=ja();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,jt()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(t,i,a,l){let c=cr();const d=yo(),m=function(){return yo()}();return i.forEach((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof na)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),vo(E.mutation,y,E.mutation.getFieldMask(),de.now())):d.set(y.key,Vn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var b;return m.set(y,new YD(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,i){const a=yo();let l=new pe((d,m)=>d-m),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=a.get(p)||Vn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const b=(l.get(m.batchId)||jt()).add(p);l=l.insert(m.batchId,b)})}).next(()=>{const d=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=QE();E.forEach(O=>{if(!c.has(O)){const P=tT(i.get(O),a.get(O));P!==null&&b.set(O,P),c=c.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):HE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(ja());let m=bo,p=c;return d.next(y=>W.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(O=>{p=p.insert(E,O)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,jt())).next(E=>({batchId:m,changes:KE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next(a=>{let l=fo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=fo();return this.indexManager.getCollectionParents(t,c).next(m=>W.forEach(m,p=>{const y=function(b,O){return new Vo(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next(E=>{E.forEach((b,O)=>{d=d.insert(b,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))});let m=fo();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&vo(E.mutation,y,Vn.empty(),de.now()),th(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return W.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:PD(l.bundledQuery),readTime:Ni(l.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.overlays=new pe(mt.comparator),this.Or=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ja();return W.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.St(t,i,c)}),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Or.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=ja(),c=i.length+1,d=new mt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ja(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ja(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return W.resolve(m)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(a.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new mD(i,a));let c=this.Or.get(i);c===void 0&&(c=jt(),this.Or.set(i,c)),this.Or.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Nr=new Me(He.Br),this.Lr=new Me(He.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Qr(new He(t,i))}$r(t,i){t.forEach(a=>this.removeReference(a,i))}Ur(t){const i=new mt(new oe([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Lr.forEachInRange([a,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new mt(new oe([])),a=new He(i,t),l=new He(i,t+1);let c=jt();return this.Lr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new He(t,0),a=this.Nr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return mt.comparator(t.key,i.key)||It(t.Gr,i.Gr)}static kr(t,i){return It(t.Gr,i.Gr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Me(He.Br)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dD(c,i,a,l);this.mutationQueue.push(d);for(const m of l)this.zr=this.zr.add(new He(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Hr(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?qm:this.Jn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([a,l],d=>{const m=this.jr(d.Gr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(It);return i.forEach(l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],m=>{a=a.add(m.Gr)})}),W.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new He(new mt(c),0);let m=new Me(It);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Gr)),!0)},d),W.resolve(this.Jr(m))}Jr(t){const i=[];return t.forEach(a=>{const l=this.jr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return W.forEach(i.mutations,l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,i){const a=new He(i,0),l=this.zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.Zr=t,this.docs=function(){return new pe(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let a=cr();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))}),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=cr();const d=i.path,m=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||CR(DR(E),a)<=0||(l.has(E.key)||th(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}Xr(t,i){return W.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new JD(this)}getSize(t){return W.resolve(this.size)}}class JD extends FD{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(a)}),W.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.persistence=t,this.ei=new Fa(i=>Fm(i),Ym),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new Wm,this.targetCount=0,this.ri=Ws.rr()}forEachTarget(t,i){return this.ei.forEach((a,l)=>i(l)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ti&&(this.ti=i),W.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new Ws(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.ar(i),W.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ei.forEach((d,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),W.waitFor(c).next(()=>l)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.ei.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this.ni.qr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this.ni.$r(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ni.Wr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,i){this.ii={},this.overlays={},this.si=new $c(0),this.oi=!1,this.oi=!0,this._i=new $D,this.referenceDelegate=t(this),this.ai=new t2(this),this.indexManager=new LD,this.remoteDocumentCache=function(l){return new WD(l)}(a=>this.referenceDelegate.ui(a)),this.serializer=new jD(i),this.ci=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new XD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ii[t.toKey()];return a||(a=new ZD(i,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new e2(this.si.next());return this.referenceDelegate.li(),a(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,i){return W.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,i)))}}class e2 extends kR{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ti=new Wm,this.Ii=null}static Ei(t){return new Jm(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,i,a){return this.Ti.addReference(a,i),this.di.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ti.removeReference(a,i),this.di.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,a=>{const l=mt.fromPath(a);return this.Ai(t,l).next(c=>{c||i.removeEntry(l,St.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return W.or([()=>W.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class jc{constructor(t,i){this.persistence=t,this.Ri=new Fa(a=>xR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=GD(this,i)}static Ei(t,i){return new jc(t,i)}li(){}hi(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Vr(t){let i=0;return this.Ar(t,a=>{i++}).next(()=>i)}Ar(t,i){return W.forEach(this.Ri,(a,l)=>this.gr(t,a,l).next(c=>c?W.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(m=>{m||(a++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=yc(t.data.value)),i}gr(t,i,a){return W.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.ls=a,this.hs=l}static Ps(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return C1()?8:IR(R1())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new n2;return this.fs(t,i,d).next(m=>{if(c.result=m,this.Is)return this.gs(t,i,d,m.size)})}).next(()=>c.result)}gs(t,i,a,l){return a.documentReadCount<this.Es?(Us()<=Bt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",zs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(Us()<=Bt.DEBUG&&st("QueryEngine","Query:",zs(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Us()<=Bt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",zs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):W.resolve())}Rs(t,i){if(F_(i))return W.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=jt(...c);return this.As.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.ps(i,m);return this.ys(i,y,d,p.readTime)?this.Rs(t,om(i,null,"F")):this.ws(t,y,i,p)}))})))}Vs(t,i,a,l){return F_(i)||l.isEqual(St.min())?W.resolve(null):this.As.getDocuments(t,a).next(c=>{const d=this.ps(i,c);return this.ys(i,d,a,l)?W.resolve(null):(Us()<=Bt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),zs(i)),this.ws(t,d,i,RR(l,bo)).next(m=>m))})}ps(t,i){let a=new Me(FE(t));return i.forEach((l,c)=>{th(t,c)&&(a=a.add(c))}),a}ys(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,i,a){return Us()<=Bt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",zs(i)),this.As.getDocumentsMatchingQuery(t,i,Kr.min(),a)}ws(t,i,a,l){return this.As.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",r2=3e8;class a2{constructor(t,i,a,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new pe(It),this.Ds=new Fa(c=>Fm(c),Ym),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function s2(r,t,i,a){return new a2(r,t,i,a)}async function mT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Fs(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],m=[];let p=jt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next(y=>({Ms:y,removedBatchIds:d,addedBatchIds:m}))})})}function l2(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,O=b.keys();let P=W.resolve();return O.forEach(G=>{P=P.next(()=>E.getEntry(p,G)).next(Q=>{const Y=y.docVersions.get(G);Qt(Y!==null,48541),Q.version.compareTo(Y)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=jt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function gT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function o2(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const m=[];t.targetChanges.forEach((E,b)=>{const O=l.get(b);if(!O)return;m.push(i.ai.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.ai.addMatchingKeys(c,E.addedDocuments,b)));let P=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(an.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),l=l.insert(b,P),function(Q,Y,at){return Q.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=r2?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(O,P,E)&&m.push(i.ai.updateTargetData(c,P))});let p=cr(),y=jt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(u2(c,d,t.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!a.isEqual(St.min())){const E=i.ai.getLastRemoteSnapshotVersion(c).next(b=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ss=l,c))}function u2(r,t,i){let a=jt(),l=jt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=cr();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(m,p)):st(eg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:d,Os:l}})}function c2(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function h2(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.ai.getTargetData(a,t).next(c=>c?(l=c,W.resolve(l)):i.ai.allocateTargetId(a).next(d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.ai.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ss.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(a.targetId,a),i.Ds.set(t,a.targetId)),a})}async function dm(r,t,i){const a=wt(r),l=a.Ss.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!al(d))throw d;st(eg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(l.target)}function r0(r,t,i){const a=wt(r);let l=St.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=wt(p),O=b.Ds.get(E);return O!==void 0?W.resolve(b.Ss.get(O)):b.ai.getTargetData(y,E)}(a,d,Ii(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>a.bs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:jt())).next(m=>(f2(a,WR(t),m),{documents:m,Ns:c})))}function f2(r,t,i){let a=r.vs.get(t)||St.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.vs.set(t,a)}class a0{constructor(){this.activeTargetIds=rD()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d2{constructor(){this.So=new a0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,a){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new a0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class l0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){st(s0,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){st(s0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function mm(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="RestConnection",g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${a}/databases/${l}`,this.qo=this.databaseId.database===Oc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Qo(t,i,a,l,c){const d=mm(),m=this.$o(t,i.toUriEncodedString());st(Cd,`Sending RPC '${t}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,l,c),this.Ko(t,m,p,a).then(y=>(st(Cd,`Received RPC '${t}' ${d}: `,y),y),y=>{throw Qs(Cd,`RPC '${t}' ${d} failed with error: `,y,"url: ",m,"request:",a),y})}Wo(t,i,a,l,c,d){return this.Qo(t,i,a,l,c)}Uo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}$o(t,i){const a=g2[t];return`${this.Lo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class v2 extends p2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,a,l){const c=mm();return new Promise((d,m)=>{const p=new yE;p.setWithCredentials(!0),p.listenOnce(vE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const E=p.getResponseJson();st(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case pc.TIMEOUT:st(on,`RPC '${t}' ${c} timed out`),m(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const b=p.getStatus();if(st(on,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O==null?void 0:O.error;if(P&&P.status&&P.message){const G=function(Y){const at=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN}(P.status);m(new lt(G,P.message))}else m(new lt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{st(on,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(l);st(on,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",y,a,15)})}a_(t,i,a){const l=mm(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),m=EE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=c.join("");st(on,`Creating RPC '${t}' stream ${l}: ${E}`,p);const b=d.createWebChannel(E,p);let O=!1,P=!1;const G=new y2({Go:Y=>{P?st(on,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(O||(st(on,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),st(on,`RPC '${t}' stream ${l} sending:`,Y),b.send(Y))},zo:()=>b.close()}),Q=(Y,at,ct)=>{Y.listen(at,rt=>{try{ct(rt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return Q(b,ho.EventType.OPEN,()=>{P||(st(on,`RPC '${t}' stream ${l} transport opened.`),G.t_())}),Q(b,ho.EventType.CLOSE,()=>{P||(P=!0,st(on,`RPC '${t}' stream ${l} transport closed`),G.r_())}),Q(b,ho.EventType.ERROR,Y=>{P||(P=!0,Qs(on,`RPC '${t}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),G.r_(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),Q(b,ho.EventType.MESSAGE,Y=>{var at;if(!P){const ct=Y.data[0];Qt(!!ct,16349);const rt=ct,gt=(rt==null?void 0:rt.error)||((at=rt[0])===null||at===void 0?void 0:at.error);if(gt){st(on,`RPC '${t}' stream ${l} received error:`,gt);const ht=gt.status;let _t=function(D){const I=Ce[D];if(I!==void 0)return nT(I)}(ht),x=gt.message;_t===void 0&&(_t=J.INTERNAL,x="Unknown error status: "+ht+" with message "+gt.message),P=!0,G.r_(new lt(_t,x)),b.close()}else st(on,`RPC '${t}' stream ${l} received:`,ct),G.i_(ct)}}),Q(m,_E.STAT_EVENT,Y=>{Y.stat===em.PROXY?st(on,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===em.NOPROXY&&st(on,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{G.n_()},0),G}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new AD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=i,this.u_=a,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class yT{constructor(t,i,a,l,c,d,m,p){this.bi=t,this.R_=a,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new pT(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ur(i.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.m_===i&&this.B_(a,l)},a=>{t(()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(l)})})}B_(t,i){const a=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{a(()=>this.L_(l))}),this.stream.onMessage(l=>{a(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return st(o0,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(st(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _2 extends yT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=wD(this.serializer,t),a=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ni(d.readTime):St.min()}(t);return this.listener.Q_(i,a)}U_(t){const i={};i.database=fm(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=sm(p)?{documents:CD(c,p)}:{query:OD(c,p).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=aT(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){m.readTime=Mc(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=ID(this.serializer,t);a&&(i.labels=a),this.F_(i)}K_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.F_(i)}}class E2 extends yT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=DD(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.j_(a,i)}H_(){const t={};t.database=fm(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>RD(this.serializer,a))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{}class A2 extends T2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,cm(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())})}Wo(t,i,a,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Wo(t,cm(i,a),l,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class b2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ur(i),this.ea=!1):st("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class S2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{a.enqueueAndForget(async()=>{Ya(this)&&(st(Ba,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.aa.add(4),await Po(y),y.la.set("Unknown"),y.aa.delete(4),await ah(y)}(this))})}),this.la=new b2(a,l)}}async function ah(r){if(Ya(r))for(const t of r.ua)await t(!0)}async function Po(r){for(const t of r.ua)await t(!1)}function vT(r,t){const i=wt(r);i._a.has(t.targetId)||(i._a.set(t.targetId,t),ag(i)?rg(i):sl(i).b_()&&ig(i,t))}function ng(r,t){const i=wt(r),a=sl(i);i._a.delete(t),a.b_()&&_T(i,t),i._a.size===0&&(a.b_()?a.v_():Ya(i)&&i.la.set("Unknown"))}function ig(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}sl(r).U_(t)}function _T(r,t){r.ha.Ke(t),sl(r).K_(t)}function rg(r){r.ha=new vD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.la.ta()}function ag(r){return Ya(r)&&!sl(r).w_()&&r._a.size>0}function Ya(r){return wt(r).aa.size===0}function ET(r){r.ha=void 0}async function w2(r){r.la.set("Online")}async function R2(r){r._a.forEach((t,i)=>{ig(r,t)})}async function D2(r,t){ET(r),ag(r)?(r.la.ia(t),rg(r)):r.la.set("Unknown")}async function C2(r,t,i){if(r.la.set("Online"),t instanceof rT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const m of c.targetIds)l._a.has(m)&&(await l.remoteSyncer.rejectListen(m,d),l._a.delete(m),l.ha.removeTarget(m))}(r,t)}catch(a){st(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Pc(r,a)}else if(t instanceof Ec?r.ha.Xe(t):t instanceof iT?r.ha.ot(t):r.ha.nt(t),!i.isEqual(St.min()))try{const a=await gT(r.localStore);i.compareTo(a)>=0&&await function(c,d){const m=c.ha.It(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c._a.get(y);E&&c._a.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c._a.get(p);if(!E)return;c._a.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),_T(c,p);const b=new zr(E.target,p,y,E.sequenceNumber);ig(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(a){st(Ba,"Failed to raise snapshot:",a),await Pc(r,a)}}async function Pc(r,t,i){if(!al(t))throw t;r.aa.add(1),await Po(r),r.la.set("Offline"),i||(i=()=>gT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Ba,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await ah(r)})}function TT(r,t){return t().catch(i=>Pc(r,i,t))}async function sh(r){const t=wt(r),i=Zr(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:qm;for(;O2(t);)try{const l=await c2(t.localStore,a);if(l===null){t.oa.length===0&&i.v_();break}a=l.batchId,k2(t,l)}catch(l){await Pc(t,l)}AT(t)&&bT(t)}function O2(r){return Ya(r)&&r.oa.length<10}function k2(r,t){r.oa.push(t);const i=Zr(r);i.b_()&&i.W_&&i.G_(t.mutations)}function AT(r){return Ya(r)&&!Zr(r).w_()&&r.oa.length>0}function bT(r){Zr(r).start()}async function I2(r){Zr(r).H_()}async function N2(r){const t=Zr(r);for(const i of r.oa)t.G_(i.mutations)}async function x2(r,t,i){const a=r.oa.shift(),l=Xm.from(a,t,i);await TT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await sh(r)}async function V2(r,t){t&&Zr(r).W_&&await async function(a,l){if(function(d){return pD(d)&&d!==J.ABORTED}(l.code)){const c=a.oa.shift();Zr(a).D_(),await TT(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(a)}}(r,t),AT(r)&&bT(r)}async function u0(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),st(Ba,"RemoteStore received new credentials");const a=Ya(i);i.aa.add(3),await Po(i),a&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await ah(i)}async function M2(r,t){const i=wt(r);t?(i.aa.delete(2),await ah(i)):t||(i.aa.add(2),await Po(i),i.la.set("Unknown"))}function sl(r){return r.Pa||(r.Pa=function(i,a,l){const c=wt(i);return c.Y_(),new _2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:w2.bind(null,r),Jo:R2.bind(null,r),Zo:D2.bind(null,r),Q_:C2.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),ag(r)?rg(r):r.la.set("Unknown")):(await r.Pa.stop(),ET(r))})),r.Pa}function Zr(r){return r.Ta||(r.Ta=function(i,a,l){const c=wt(i);return c.Y_(),new E2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:I2.bind(null,r),Zo:V2.bind(null,r),z_:N2.bind(null,r),j_:x2.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await sh(r)):(await r.Ta.stop(),r.oa.length>0&&(st(Ba,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,m=new sg(t,i,d,l,c);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,t){if(ur("AsyncQueue",`${t}: ${r}`),al(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(t){return new Ys(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=fo(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ys)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ys;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Ia=new pe(mt.comparator)}track(t){const i=t.doc.key,a=this.Ia.get(i);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(i):t.type===1&&a.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,a)=>{t.push(a)}),t}}class Js{constructor(t,i,a,l,c,d,m,p,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Js(t,i,Ys.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class P2{constructor(){this.queries=h0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=h0(),c.forEach((d,m)=>{for(const p of m.Ra)p.onError(a)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function h0(){return new Fa(r=>GE(r),Jc)}async function L2(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Va()&&t.ma()&&(a=2):(c=new j2,a=t.ma()?0:1);try{switch(a){case 0:c.Aa=await i.onListen(l,!0);break;case 1:c.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const m=lg(d,`Initialization of query '${zs(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,c),c.Ra.push(t),t.ga(i.onlineState),c.Aa&&t.pa(c.Aa)&&og(i)}async function U2(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function z2(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const m of d.Ra)m.pa(l)&&(a=!0);d.Aa=l}}a&&og(i)}function B2(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Ra)c.onError(i);a.queries.delete(t)}function og(r){r.fa.forEach(t=>{t.next()})}var gm,f0;(f0=gm||(gm={})).ya="default",f0.Cache="cache";class q2{constructor(t,i,a){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Js(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const a=i!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Js.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t){this.key=t}}class wT{constructor(t){this.key=t}}class H2{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=jt(),this.mutatedKeys=jt(),this.Ua=FE(t),this.Ka=new Ys(this.Ua)}get Wa(){return this.qa}Ga(t,i){const a=i?i.za:new c0,l=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,b)=>{const O=l.get(E),P=th(this.query,b)?b:null,G=!!O&&this.mutatedKeys.has(O.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Y=!1;O&&P?O.data.isEqual(P.data)?G!==Q&&(a.track({type:3,doc:P}),Y=!0):this.ja(O,P)||(a.track({type:2,doc:P}),Y=!0,(p&&this.Ua(P,p)>0||y&&this.Ua(P,y)<0)&&(m=!0)):!O&&P?(a.track({type:0,doc:P}),Y=!0):O&&!P&&(a.track({type:1,doc:O}),Y=!0,(p||y)&&(m=!0)),Y&&(P?(d=d.add(P),c=Q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{Ka:d,za:a,ys:m,mutatedKeys:c}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((E,b)=>function(P,G){const Q=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:Y})}};return Q(P)-Q(G)}(E.type,b.type)||this.Ua(E.doc,b.doc)),this.Ha(a),l=l!=null&&l;const m=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,y=p!==this.Qa;return this.Qa=p,d.length!==0||y?{snapshot:new Js(this.query,t.Ka,c,d,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new c0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=jt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const i=[];return t.forEach(a=>{this.$a.has(a)||i.push(new wT(a))}),this.$a.forEach(a=>{t.has(a)||i.push(new ST(a))}),i}Xa(t){this.qa=t.Ns,this.$a=jt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Js.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ug="SyncEngine";class G2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class F2{constructor(t){this.key=t,this.tu=!1}}class Y2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Fa(m=>GE(m),Jc),this.iu=new Map,this.su=new Set,this.ou=new pe(mt.comparator),this._u=new Map,this.au=new Wm,this.uu={},this.cu=new Map,this.lu=Ws.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function K2(r,t,i=!0){const a=IT(r);let l;const c=a.ru.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await RT(a,t,i,!0),l}async function Q2(r,t){const i=IT(r);await RT(i,t,!0,!1)}async function RT(r,t,i,a){const l=await h2(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return a&&(m=await X2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&vT(r.remoteStore,l),m}async function X2(r,t,i,a,l){r.Pu=(b,O,P)=>async function(Q,Y,at,ct){let rt=Y.view.Ga(at);rt.ys&&(rt=await r0(Q.localStore,Y.query,!1).then(({documents:x})=>Y.view.Ga(x,rt)));const gt=ct&&ct.targetChanges.get(Y.targetId),ht=ct&&ct.targetMismatches.get(Y.targetId)!=null,_t=Y.view.applyChanges(rt,Q.isPrimaryClient,gt,ht);return m0(Q,Y.targetId,_t.Ya),_t.snapshot}(r,b,O,P);const c=await r0(r.localStore,t,!0),d=new H2(t,c.Ns),m=d.Ga(c.documents),p=jo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(m,r.isPrimaryClient,p);m0(r,i,y.Ya);const E=new G2(t,i,d);return r.ru.set(t,E),r.iu.has(i)?r.iu.get(i).push(t):r.iu.set(i,[t]),y.snapshot}async function $2(r,t,i){const a=wt(r),l=a.ru.get(t),c=a.iu.get(l.targetId);if(c.length>1)return a.iu.set(l.targetId,c.filter(d=>!Jc(d,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ng(a.remoteStore,l.targetId),pm(a,l.targetId)}).catch(rl)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function Z2(r,t){const i=wt(r),a=i.ru.get(t),l=i.iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function W2(r,t,i){const a=aC(r);try{const l=await function(d,m){const p=wt(d),y=de.now(),E=m.reduce((P,G)=>P.add(G.key),jt());let b,O;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let G=cr(),Q=jt();return p.Cs.getEntries(P,E).next(Y=>{G=Y,G.forEach((at,ct)=>{ct.isValidDocument()||(Q=Q.add(at))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,G)).next(Y=>{b=Y;const at=[];for(const ct of m){const rt=hD(ct,b.get(ct.key).overlayedDocument);rt!=null&&at.push(new na(ct.key,rt,ME(rt.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,at,m)}).next(Y=>{O=Y;const at=Y.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(P,Y.batchId,at)})}).then(()=>({batchId:O.batchId,changes:KE(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,m,p){let y=d.uu[d.currentUser.toKey()];y||(y=new pe(It)),y=y.insert(m,p),d.uu[d.currentUser.toKey()]=y}(a,l.batchId,i),await Lo(a,l.changes),await sh(a.remoteStore)}catch(l){const c=lg(l,"Failed to persist write");i.reject(c)}}async function DT(r,t){const i=wt(r);try{const a=await o2(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i._u.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?Qt(d.tu,14607):l.removedDocuments.size>0&&(Qt(d.tu,42227),d.tu=!1))}),await Lo(i,a,t)}catch(a){await rl(a)}}function d0(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.ru.forEach((c,d)=>{const m=d.view.ga(t);m.snapshot&&l.push(m.snapshot)}),function(d,m){const p=wt(d);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const O of b.Ra)O.ga(m)&&(y=!0)}),y&&og(p)}(a.eventManager,t),l.length&&a.nu.Q_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function J2(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a._u.get(t),c=l&&l.key;if(c){let d=new pe(mt.comparator);d=d.insert(c,cn.newNoDocument(c,St.min()));const m=jt().add(c),p=new ih(St.min(),new Map,new pe(It),d,m);await DT(a,p),a.ou=a.ou.remove(c),a._u.delete(t),cg(a)}else await dm(a.localStore,t,!1).then(()=>pm(a,t,i)).catch(rl)}async function tC(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await l2(i.localStore,t);OT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Lo(i,l)}catch(l){await rl(l)}}async function eC(r,t,i){const a=wt(r);try{const l=await function(d,m){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Qt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);OT(a,t,i),CT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Lo(a,l)}catch(l){await rl(l)}}function CT(r,t){(r.cu.get(t)||[]).forEach(i=>{i.resolve()}),r.cu.delete(t)}function OT(r,t,i){const a=wt(r);let l=a.uu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.uu[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.iu.get(t))r.ru.delete(a),i&&r.nu.Tu(a,i);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(a=>{r.au.containsKey(a)||kT(r,a)})}function kT(r,t){r.su.delete(t.path.canonicalString());const i=r.ou.get(t);i!==null&&(ng(r.remoteStore,i),r.ou=r.ou.remove(t),r._u.delete(i),cg(r))}function m0(r,t,i){for(const a of i)a instanceof ST?(r.au.addReference(a.key,t),nC(r,a)):a instanceof wT?(st(ug,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,t),r.au.containsKey(a.key)||kT(r,a.key)):Et(19791,{Iu:a})}function nC(r,t){const i=t.key,a=i.path.canonicalString();r.ou.get(i)||r.su.has(a)||(st(ug,"New document in limbo: "+i),r.su.add(a),cg(r))}function cg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const i=new mt(oe.fromString(t)),a=r.lu.next();r._u.set(a,new F2(i)),r.ou=r.ou.insert(i,a),vT(r.remoteStore,new zr(Ii(qE(i.path)),a,"TargetPurposeLimboResolution",$c.le))}}async function Lo(r,t,i){const a=wt(r),l=[],c=[],d=[];a.ru.isEmpty()||(a.ru.forEach((m,p)=>{d.push(a.Pu(p,t,i).then(y=>{var E;if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=tg.Ps(p.targetId,y);c.push(b)}}))}),await Promise.all(d),a.nu.Q_(l),await async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,O=>W.forEach(O.ls,P=>E.persistence.referenceDelegate.addReference(b,O.targetId,P)).next(()=>W.forEach(O.hs,P=>E.persistence.referenceDelegate.removeReference(b,O.targetId,P)))))}catch(b){if(!al(b))throw b;st(eg,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const P=E.Ss.get(O),G=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(G);E.Ss=E.Ss.insert(O,Q)}}}(a.localStore,c))}async function iC(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){st(ug,"User change. New user:",t.toKey());const a=await mT(i.localStore,t);i.currentUser=t,function(c,d){c.cu.forEach(m=>{m.forEach(p=>{p.reject(new lt(J.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Lo(i,a.Ms)}}function rC(r,t){const i=wt(r),a=i._u.get(t);if(a&&a.tu)return jt().add(a.key);{let l=jt();const c=i.iu.get(t);if(!c)return l;for(const d of c){const m=i.ru.get(d);l=l.unionWith(m.view.Wa)}return l}}function IT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J2.bind(null,t),t.nu.Q_=z2.bind(null,t.eventManager),t.nu.Tu=B2.bind(null,t.eventManager),t}function aC(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eC.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return s2(this.persistence,new i2,t.initialUser,this.serializer)}Ru(t){return new dT(Jm.Ei,this.serializer)}Au(t){return new d2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class sC extends Lc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){Qt(this.persistence.referenceDelegate instanceof jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qD(a,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new dT(a=>jc.Ei(a,i),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>d0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),await M2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new P2}()}createDatastore(t){const i=rh(t.databaseInfo.databaseId),a=function(c){return new v2(c)}(t.databaseInfo);return function(c,d,m,p){return new A2(c,d,m,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,m){return new S2(a,l,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,i=>d0(this.syncEngine,i,0),function(){return l0.C()?new l0:new m2}())}createSyncEngine(t,i){return function(l,c,d,m,p,y,E){const b=new Y2(l,c,d,m,p,y);return E&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=wt(l);st(Ba,"RemoteStore shutting down."),c.aa.add(5),await Po(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class oC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=wE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{st(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(st(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function kd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await mT(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function g0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await uC(r);st(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>u0(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>u0(t.remoteStore,l)),r._onlineComponents=t}async function uC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Wr,"Using user provided OfflineComponentProvider");try{await kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Qs("Error using user provided cache. Falling back to memory cache: "+i),await kd(r,new Lc)}}else st(Wr,"Using default OfflineComponentProvider"),await kd(r,new sC(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Wr,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(st(Wr,"Using default OnlineComponentProvider"),await g0(r,new ym))),r._onlineComponents}function cC(r){return NT(r).then(t=>t.syncEngine)}async function hC(r){const t=await NT(r),i=t.eventManager;return i.onListen=K2.bind(null,t.syncEngine),i.onUnlisten=$2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Q2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Z2.bind(null,t.syncEngine),i}function fC(r,t,i={}){const a=new Gr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new lC({next:O=>{E.yu(),d.enqueueAndForget(()=>U2(c,b)),O.fromCache&&p.source==="server"?y.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new q2(m,E,{includeMetadataChanges:!0,Fa:!0});return L2(c,b)}(await hC(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function dC(r,t,i,a){if(t===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function y0(r){if(!mt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(mt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Uc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firestore.googleapis.com",_0=!0;class E0{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=_0}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:_0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zD)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new yR;switch(a.type){case"firstParty":return new TR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=p0.get(i);a&&(st("ComponentProvider","Removing Datastore"),p0.delete(i),a.terminate())}(this),Promise.resolve()}}function mC(r,t,i,a={}){var l;const c=(r=Uc(r,oh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${i}`;c.host!==MT&&c.host!==m&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!Sc(p,d)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=un.MOCK_USER;else{y=w1(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(b)}r._authCredentials=new vR(new bE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ll(this.firestore,t,this._query)}}class Wn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wn(this.firestore,t,this._key)}}class Fr extends ll{constructor(t,i,a){super(t,i,qE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wn(this.firestore,null,new mt(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function gC(r,t,...i){if(r=bn(r),VT("collection","path",t),r instanceof oh){const a=oe.fromString(t,...i);return v0(a),new Fr(r,null,a)}{if(!(r instanceof Wn||r instanceof Fr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return v0(a),new Fr(r.firestore,null,a)}}function pC(r,t,...i){if(r=bn(r),arguments.length===1&&(t=wE.newId()),VT("doc","path",t),r instanceof oh){const a=oe.fromString(t,...i);return y0(a),new Wn(r,null,new mt(a))}{if(!(r instanceof Wn||r instanceof Fr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return y0(a),new Wn(r.firestore,r instanceof Fr?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new pT(this,"async_queue_retry"),this.ju=()=>{const a=Od();a&&st(T0,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const i=Od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=Od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Gr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!al(t))throw t;st(T0,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,ur("INTERNAL UNHANDLED ERROR: ",b0(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=i,i}enqueueAfterDelay(t,i,a){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=sg.createAndSchedule(this,t,i,a,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&Et(47125,{ec:b0(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function b0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class hg extends oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new A0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function yC(r,t){const i=typeof r=="object"?r:Um(),a=typeof r=="string"?r:Oc,l=Xc(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=sE("firestore");c&&mC(l,...c)}return l}function fg(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){var t,i,a;const l=r._freezeSettings(),c=function(m,p,y,E){return new jR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new oC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tl(an.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new tl(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^__.*__$/;class EC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,i,this.fieldTransforms):new Mo(t,this.data,i,this.fieldTransforms)}}class jT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new na(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function PT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:r})}}class pg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new pg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l.lc(t),l}hc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return zc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(PT(this.oc)&&_C.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class TC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||rh(t)}dc(t,i,a,l=!1){return new pg({oc:t,methodName:i,Ec:a,path:rn.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const t=r._freezeSettings(),i=rh(r._databaseId);return new TC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AC(r,t,i,a,l,c={}){const d=r.dc(c.merge||c.mergeFields?2:0,t,i,l);yg("Data must be an object, but it was:",d,a);const m=UT(a,d);let p,y;if(c.merge)p=new Vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const O=vm(t,b,i);if(!d.contains(O))throw new lt(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);BT(E,O)||E.push(O)}p=new Vn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new EC(new En(m),p,y)}class ch extends dg{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ch}}function bC(r,t,i,a){const l=r.dc(1,t,i);yg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();ea(a,(p,y)=>{const E=vg(t,p,i);y=bn(y);const b=l.hc(E);if(y instanceof ch)c.push(E);else{const O=Uo(y,b);O!=null&&(c.push(E),d.set(E,O))}});const m=new Vn(c);return new jT(d,m,l.fieldTransforms)}function SC(r,t,i,a,l,c){const d=r.dc(1,t,i),m=[vm(t,a,i)],p=[l];if(c.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)m.push(vm(t,c[O])),p.push(c[O+1]);const y=[],E=En.empty();for(let O=m.length-1;O>=0;--O)if(!BT(y,m[O])){const P=m[O];let G=p[O];G=bn(G);const Q=d.hc(P);if(G instanceof ch)y.push(P);else{const Y=Uo(G,Q);Y!=null&&(y.push(P),E.set(P,Y))}}const b=new Vn(y);return new jT(E,b,d.fieldTransforms)}function wC(r,t,i,a=!1){return Uo(i,r.dc(a?4:3,t))}function Uo(r,t){if(zT(r=bn(r)))return yg("Unsupported field value:",t,r),UT(r,t);if(r instanceof dg)return function(a,l){if(!PT(l.oc))throw l.Tc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const m of a){let p=Uo(m,l.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aD(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:Mc(l.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Mc(l.serializer,c)}}if(a instanceof mg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof tl)return{bytesValue:aT(l.serializer,a._byteString)};if(a instanceof Wn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof gg)return function(d,m){return{mapValue:{fields:{[xE]:{stringValue:VE},[kc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return Km(m.serializer,y)})}}}}}}(a,l);throw l.Tc(`Unsupported field value: ${lh(a)}`)}(r,t)}function UT(r,t){const i={};return DE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(r,(a,l)=>{const c=Uo(l,t.uc(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function zT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof mg||r instanceof tl||r instanceof Wn||r instanceof dg||r instanceof gg)}function yg(r,t,i){if(!zT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=lh(i);throw a==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+a)}}function vm(r,t,i){if((t=bn(t))instanceof uh)return t._internalPath;if(typeof t=="string")return vg(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const RC=new RegExp("[~\\*/\\[\\]]");function vg(r,t,i){if(t.search(RC)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new uh(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function zc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new lt(J.INVALID_ARGUMENT,m+r+p)}function BT(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(_g("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DC extends qT{data(){return super.data()}}function _g(r,t){return typeof t=="string"?vg(r,t):t instanceof uh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class OC extends Eg{}function HT(r,t,...i){let a=[];t instanceof Eg&&a.push(t),a=a.concat(i),function(c){const d=c.filter(p=>p instanceof Tg).length,m=c.filter(p=>p instanceof hh).length;if(d>1||d>0&&m>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)r=l._apply(r);return r}class hh extends OC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new hh(t,i,a)}_apply(t){const i=this._parse(t);return GT(t._query,i),new ll(t.firestore,t.converter,lm(t._query,i))}_parse(t){const i=LT(t.firestore);return function(c,d,m,p,y,E,b){let O;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){w0(b,E);const G=[];for(const Q of b)G.push(S0(p,c,Q));O={arrayValue:{values:G}}}else O=S0(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||w0(b,E),O=wC(m,d,b,E==="in"||E==="not-in");return Oe.create(y,E,O)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Bc(r,t,i){const a=t,l=_g("where",r);return hh._create(l,a,i)}class Tg extends Eg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Tg(t,i)}_parse(t){const i=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(l,c){let d=l;const m=c.getFlattenedFilters();for(const p of m)GT(d,p),d=lm(d,p)}(t._query,i),new ll(t.firestore,t.converter,lm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S0(r,t,i){if(typeof(i=bn(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(t)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(oe.fromString(i));if(!mt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return U_(r,new mt(a))}if(i instanceof Wn)return U_(r,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function w0(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GT(r,t){const i=function(l,c){for(const d of l)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class kC{convertValue(t,i="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ea(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[kc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>Ae(d.doubleValue));return new gg(c)}convertGeoPoint(t){return new mg(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Wc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Qt(hT(a),9688,{name:t});const l=new wo(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||ur(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NC extends qT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(_g("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Tc extends NC{data(t={}){return super.data(t)}}class xC{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new fc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Tc(this._firestore,this._userDataWriter,a.key,a,new fc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(m=>{const p=new Tc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Tc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:VC(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function VC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}class MC extends kC{constructor(t){super(),this.firestore=t}convertBytes(t){return new tl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Wn(this.firestore,null,i)}}function FT(r){r=Uc(r,ll);const t=Uc(r.firestore,hg),i=fg(t),a=new MC(t);return CC(r._query),fC(i,r._query).then(l=>new xC(t,a,r,l))}function jC(r,t){return function(a,l){const c=new Gr;return a.asyncQueue.enqueueAndForget(async()=>W2(await cC(a),l,c)),c.promise}(fg(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=LT(t)}set(t,i,a){this._verifyNotCommitted();const l=Id(t,this._firestore),c=IC(l.converter,i,a),d=AC(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,ci.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Id(t,this._firestore);let d;return d=typeof(i=bn(i))=="string"||i instanceof uh?SC(this._dataReader,"WriteBatch.update",c._key,i,a,l):bC(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,ci.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Id(t,this._firestore);return this._mutations=this._mutations.concat(new Qm(i._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Id(r,t){if((r=bn(r)).firestore!==t)throw new lt(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){return fg(r=Uc(r,hg)),new PC(r,t=>jC(r,t))}(function(t,i=!0){(function(l){il=l})(jw),Ua(new Yr("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new hg(new _R(a.getProvider("auth-internal")),new AR(d,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(y.options.projectId,E)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),lr(D_,C_,t),lr(D_,C_,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,YT={activated:!1,tokenObservers:[]},UC={initialized:!1,enabled:!1};function je(r){return _m.get(r)||Object.assign({},YT)}function zC(r,t){return _m.set(r,t),_m.get(r)}function fh(){return UC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="https://content-firebaseappcheck.googleapis.com/v1",BC="exchangeRecaptchaV3Token",qC="exchangeDebugToken",R0={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},HC=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,i,a,l,c){if(this.operation=t,this.retryPolicy=i,this.getWaitDuration=a,this.lowerBound=l,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=l,l>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new To,this.pending.promise.catch(i=>{}),await FC(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new To,this.pending.promise.catch(i=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}function FC(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},An=new jm("appCheck","AppCheck",YC);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r=!1){var t;return r?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function Ag(r){if(!je(r).activated)throw An.create("use-before-activation",{appName:r.name})}function QT(r){const t=Math.round(r/1e3),i=Math.floor(t/(3600*24)),a=Math.floor((t-i*3600*24)/3600),l=Math.floor((t-i*3600*24-a*3600)/60),c=t-i*3600*24-a*3600-l*60;let d="";return i&&(d+=dc(i)+"d:"),a&&(d+=dc(a)+"h:"),d+=dc(l)+"m:"+dc(c)+"s",d}function dc(r){return r===0?"00":r>=10?r.toString():"0"+r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg({url:r,body:t},i){const a={"Content-Type":"application/json"},l=i.getImmediate({optional:!0});if(l){const b=await l.getHeartbeatsHeader();b&&(a["X-Firebase-Client"]=b)}const c={method:"POST",body:JSON.stringify(t),headers:a};let d;try{d=await fetch(r,c)}catch(b){throw An.create("fetch-network-error",{originalErrorMessage:b==null?void 0:b.message})}if(d.status!==200)throw An.create("fetch-status-error",{httpStatus:d.status});let m;try{m=await d.json()}catch(b){throw An.create("fetch-parse-error",{originalErrorMessage:b==null?void 0:b.message})}const p=m.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw An.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const y=Number(p[1])*1e3,E=Date.now();return{token:m.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}}function KC(r,t){const{projectId:i,appId:a,apiKey:l}=r.options;return{url:`${KT}/projects/${i}/apps/${a}:${BC}?key=${l}`,body:{recaptcha_v3_token:t}}}function XT(r,t){const{projectId:i,appId:a,apiKey:l}=r.options;return{url:`${KT}/projects/${i}/apps/${a}:${qC}?key=${l}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-app-check-database",XC=1,Oo="firebase-app-check-store",$T="debug-token";let mc=null;function ZT(){return mc||(mc=new Promise((r,t)=>{try{const i=indexedDB.open(QC,XC);i.onsuccess=a=>{r(a.target.result)},i.onerror=a=>{var l;t(An.create("storage-open",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))},i.onupgradeneeded=a=>{const l=a.target.result;switch(a.oldVersion){case 0:l.createObjectStore(Oo,{keyPath:"compositeKey"})}}}catch(i){t(An.create("storage-open",{originalErrorMessage:i==null?void 0:i.message}))}}),mc)}function $C(r){return JT(tA(r))}function ZC(r,t){return WT(tA(r),t)}function WC(r){return WT($T,r)}function JC(){return JT($T)}async function WT(r,t){const a=(await ZT()).transaction(Oo,"readwrite"),c=a.objectStore(Oo).put({compositeKey:r,value:t});return new Promise((d,m)=>{c.onsuccess=p=>{d()},a.onerror=p=>{var y;m(An.create("storage-set",{originalErrorMessage:(y=p.target.error)===null||y===void 0?void 0:y.message}))}})}async function JT(r){const i=(await ZT()).transaction(Oo,"readonly"),l=i.objectStore(Oo).get(r);return new Promise((c,d)=>{l.onsuccess=m=>{const p=m.target.result;c(p?p.value:void 0)},i.onerror=m=>{var p;d(An.create("storage-get",{originalErrorMessage:(p=m.target.error)===null||p===void 0?void 0:p.message}))}})}function tA(r){return`${r.options.appId}-${r.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Pm("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(r){if(Mm()){let t;try{t=await $C(r)}catch(i){Pa.warn(`Failed to read token from IndexedDB. Error: ${i}`)}return t}}function Nd(r,t){return Mm()?ZC(r,t).catch(i=>{Pa.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}async function eO(){let r;try{r=await JC()}catch{}if(r)return r;{const t=crypto.randomUUID();return WC(t).catch(i=>Pa.warn(`Failed to persist debug token to IndexedDB. Error: ${i}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){return fh().enabled}async function wg(){const r=fh();if(r.enabled&&r.token)return r.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function nO(){const r=aE(),t=fh();if(t.initialized=!0,typeof r.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&r.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const i=new To;t.token=i,typeof r.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?i.resolve(r.FIREBASE_APPCHECK_DEBUG_TOKEN):i.resolve(eO())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={error:"UNKNOWN_ERROR"};function rO(r){return xm.encodeString(JSON.stringify(r),!1)}async function Em(r,t=!1,i=!1){const a=r.app;Ag(a);const l=je(a);let c=l.token,d;if(c&&!Fs(c)&&(l.token=void 0,c=void 0),!c){const y=await l.cachedTokenPromise;y&&(Fs(y)?c=y:await Nd(a,void 0))}if(!t&&c&&Fs(c))return{token:c.token};let m=!1;if(Sg())try{l.exchangeTokenPromise||(l.exchangeTokenPromise=bg(XT(a,await wg()),r.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),m=!0);const y=await l.exchangeTokenPromise;return await Nd(a,y),l.token=y,{token:y.token}}catch(y){return y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Pa.warn(y.message):i&&Pa.error(y),xd(y)}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),m=!0),c=await je(a).exchangeTokenPromise}catch(y){y.code==="appCheck/throttled"||y.code==="appCheck/initial-throttle"?Pa.warn(y.message):i&&Pa.error(y),d=y}let p;return c?d?Fs(c)?p={token:c.token,internalError:d}:p=xd(d):(p={token:c.token},l.token=c,await Nd(a,c)):p=xd(d),m&&iA(a,p),p}async function aO(r){const t=r.app;Ag(t);const{provider:i}=je(t);if(Sg()){const a=await wg(),{token:l}=await bg(XT(t,a),r.heartbeatServiceProvider);return{token:l}}else{const{token:a}=await i.getToken();return{token:a}}}function eA(r,t,i,a){const{app:l}=r,c=je(l),d={next:i,error:a,type:t};if(c.tokenObservers=[...c.tokenObservers,d],c.token&&Fs(c.token)){const m=c.token;Promise.resolve().then(()=>{i({token:m.token}),C0(r)}).catch(()=>{})}c.cachedTokenPromise.then(()=>C0(r))}function nA(r,t){const i=je(r),a=i.tokenObservers.filter(l=>l.next!==t);a.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=a}function C0(r){const{app:t}=r,i=je(t);let a=i.tokenRefresher;a||(a=sO(r),i.tokenRefresher=a),!a.isRunning()&&i.isTokenAutoRefreshEnabled&&a.start()}function sO(r){const{app:t}=r;return new GC(async()=>{const i=je(t);let a;if(i.token?a=await Em(r,!0):a=await Em(r),a.error)throw a.error;if(a.internalError)throw a.internalError},()=>!0,()=>{const i=je(t);if(i.token){let a=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5;const l=i.token.expireTimeMillis-5*60*1e3;return a=Math.min(a,l),Math.max(0,a-Date.now())}else return 0},R0.RETRIAL_MIN_WAIT,R0.RETRIAL_MAX_WAIT)}function iA(r,t){const i=je(r).tokenObservers;for(const a of i)try{a.type==="EXTERNAL"&&t.error!=null?a.error(t.error):a.next(t)}catch{}}function Fs(r){return r.expireTimeMillis-Date.now()>0}function xd(r){return{token:rO(iO),error:r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,i){this.app=t,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:t}=je(this.app);for(const i of t)nA(this.app,i.next);return Promise.resolve()}}function oO(r,t){return new lO(r,t)}function uO(r){return{getToken:t=>Em(r,t),getLimitedUseToken:()=>aO(r),addTokenListener:t=>eA(r,"INTERNAL",t),removeTokenListener:t=>nA(r.app,t)}}const cO="@firebase/app-check",hO="0.8.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="https://www.google.com/recaptcha/api.js";function dO(r,t){const i=new To,a=je(r);a.reCAPTCHAState={initialized:i};const l=mO(r),c=D0(!1);return c?O0(r,t,c,l,i):yO(()=>{const d=D0(!1);if(!d)throw new Error("no recaptcha");O0(r,t,d,l,i)}),i.promise}function O0(r,t,i,a,l){i.ready(()=>{pO(r,t,i,a),l.resolve(i)})}function mO(r){const t=`fire_app_check_${r.name}`,i=document.createElement("div");return i.id=t,i.style.display="none",document.body.appendChild(i),t}async function gO(r){Ag(r);const i=await je(r).reCAPTCHAState.initialized.promise;return new Promise((a,l)=>{const c=je(r).reCAPTCHAState;i.ready(()=>{a(i.execute(c.widgetId,{action:"fire_app_check"}))})})}function pO(r,t,i,a){const l=i.render(a,{sitekey:t,size:"invisible",callback:()=>{je(r).reCAPTCHAState.succeeded=!0},"error-callback":()=>{je(r).reCAPTCHAState.succeeded=!1}}),c=je(r);c.reCAPTCHAState=Object.assign(Object.assign({},c.reCAPTCHAState),{widgetId:l})}function yO(r){const t=document.createElement("script");t.src=fO,t.onload=r,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,i,a;_O(this._throttleData);const l=await gO(this._app).catch(d=>{throw An.create("recaptcha-error")});if(!(!((t=je(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw An.create("recaptcha-error");let c;try{c=await bg(KC(this._app,l),this._heartbeatServiceProvider)}catch(d){throw!((i=d.code)===null||i===void 0)&&i.includes("fetch-status-error")?(this._throttleData=vO(Number((a=d.customData)===null||a===void 0?void 0:a.httpStatus),this._throttleData),An.create("initial-throttle",{time:QT(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):d}return this._throttleData=null,c}initialize(t){this._app=t,this._heartbeatServiceProvider=Xc(t,"heartbeat"),dO(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof Rg?this._siteKey===t._siteKey:!1}}function vO(r,t){if(r===404||r===403)return{backoffCount:1,allowRequestsAfter:Date.now()+HC,httpStatus:r};{const i=t?t.backoffCount:0,a=P1(i,1e3,2);return{backoffCount:i+1,allowRequestsAfter:Date.now()+a,httpStatus:r}}}function _O(r){if(r&&Date.now()-r.allowRequestsAfter<=0)throw An.create("throttled",{time:QT(r.allowRequestsAfter-Date.now()),httpStatus:r.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r=Um(),t){r=bn(r);const i=Xc(r,"app-check");if(fh().initialized||nO(),Sg()&&wg().then(l=>console.log(`App Check debug token: ${l}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(c.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&c.provider.isEqual(t.provider))return l;throw An.create("already-initialized",{appName:r.name})}const a=i.initialize({options:t});return TO(r,t.provider,t.isTokenAutoRefreshEnabled),je(r).isTokenAutoRefreshEnabled&&eA(a,"INTERNAL",()=>{}),a}function TO(r,t,i){const a=zC(r,Object.assign({},YT));a.activated=!0,a.provider=t,a.cachedTokenPromise=tO(r).then(l=>(l&&Fs(l)&&(a.token=l,iA(r,{token:l.token})),l)),a.isTokenAutoRefreshEnabled=i===void 0?r.automaticDataCollectionEnabled:i,a.provider.initialize(r)}const AO="app-check",k0="app-check-internal";function bO(){Ua(new Yr(AO,r=>{const t=r.getProvider("app").getImmediate(),i=r.getProvider("heartbeat");return oO(t,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,i)=>{r.getProvider(k0).initialize()})),Ua(new Yr(k0,r=>{const t=r.getProvider("app-check").getImmediate();return uO(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),lr(cO,hO)}bO();const rA={apiKey:"AIzaSyD_WuePx0gg3HEZQNtCDL2jzTcRCH7NGcQ",authDomain:"iisakintekstiilipesuri.firebaseapp.com",projectId:"iisakintekstiilipesuri",storageBucket:"iisakintekstiilipesuri.firebasestorage.app",messagingSenderId:"605300048092",appId:"1:605300048092:web:8c887f96b9358e2cc23419",measurementId:void 0};rA.apiKey||console.error("Firebase API Key is missing. Check environment variables.");const Dg=hE(rA),aA=yC(Dg),SO="6Ldu3jArAAAAALsr4akYlb43E_Fthk0kbbMZWbf9";try{EO(Dg,{provider:new Rg(SO),isTokenAutoRefreshEnabled:!0}),console.log("Firebase App Check initialized with reCAPTCHA v3.")}catch(r){console.error("Error initializing Firebase App Check:",r)}function wO({selectedDate:r,onSubmit:t,numberOfDays:i,detergent:a,onNumberOfDaysChange:l,onDetergentChange:c,totalCost:d}){const[m,p]=bt.useState(""),[y,E]=bt.useState(""),[b,O]=bt.useState(""),[P,G]=bt.useState(""),[Q,Y]=bt.useState(""),[at,ct]=bt.useState(""),[rt,gt]=bt.useState(!1),[ht,_t]=bt.useState(!1),[x,S]=bt.useState(!1),[D,I]=bt.useState(!1),[V,M]=bt.useState(""),C=fR(Dg),ae=z=>{z.preventDefault(),S(!0)},Zt=async z=>{if(z.preventDefault(),M(""),!r){M("Please select a start date first.");return}if(!m||!y||!b||!P||!Q){M("Please fill in all contact details.");return}if(i<1){M("Number of days must be at least 1.");return}if(!/^\S+@\S+\.\S+$/.test(y)){M("Please enter a valid email address.");return}if(!ht){M("Ole hyvä ja hyväksy vuokrausehdot jatkaaksesi.");return}I(!0);const ut={name:m,email:y,streetAddress:b,zipCode:P,phone:Q,extraInfo:at,selectedDate:r.toISOString(),numberOfDays:i,detergent:a,totalCost:d};try{const k=await mR(C,"sendBookingConfirmationEmail")(ut);console.log("Email sent result:",k),t(ut)}catch(Rt){console.error("Error sending booking email:",Rt),M("Failed to send booking confirmation. Please try again or contact support.")}finally{I(!1)}};return w.jsxs("form",{onSubmit:Zt,className:"booking-form",children:[w.jsx("h3",{children:"Kirjoita yhteystiedot ja valitse päivä"}),w.jsxs("p",{children:["Vuokraus alkaa: ",r.toLocaleDateString()," kello 17"]}),V&&w.jsx("p",{className:"error-message",style:{textAlign:"center"},children:V}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"name",children:"Nimi:"}),w.jsx("input",{type:"text",id:"name",value:m,onChange:z=>p(z.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:"Sähköposti:"}),w.jsx("input",{type:"email",id:"email",value:y,onChange:z=>E(z.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"streetAddress",children:"Katuosoite:"}),w.jsx("input",{type:"text",id:"streetAddress",value:b,onChange:z=>O(z.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"zipCode",children:"Postinumero:"}),w.jsx("input",{type:"text",id:"zipCode",value:P,onChange:z=>G(z.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"phone",children:"Puhelinnumero:"}),w.jsx("input",{type:"tel",id:"phone",value:Q,onChange:z=>Y(z.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{children:"Kuinka moneksi päiväksi haluat varata:"}),w.jsx("div",{className:"days-buttons-container",children:[1,2,3,4,5].map(z=>w.jsx("button",{type:"button",className:`day-button ${i===z?"active":""}`,onClick:()=>l(z),children:z},z))})]}),w.jsxs("div",{className:"detergent-option toggle-option",children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[w.jsx("label",{htmlFor:"detergentToggle",style:{marginRight:"6px"},children:"Tarvitsetko pesuaineen?"}),w.jsxs("span",{onMouseEnter:()=>gt(!0),onMouseLeave:()=>gt(!1),style:{position:"relative",marginLeft:"4px",marginBottom:"10px",cursor:"pointer",border:"1px solid #aaa",borderRadius:"50%",width:"10px",height:"10px",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",color:"#555",backgroundColor:"#f0f0f0"},children:["i",rt&&w.jsx("span",{style:{position:"absolute",bottom:"135%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",lineHeight:"1.4",textAlign:"left",whiteSpace:"normal",width:"220px",zIndex:1001,boxShadow:"0 3px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:"6 euron pesuaine sisältää 16 litraa pesunestettä, eli kaksi täyttä astiallista. Mikäli luulet tarvitsevasi enemmän, kirjoita se lisätietojen kenttään."})]})]}),w.jsxs("div",{children:[w.jsx("input",{type:"checkbox",id:"detergentToggle",className:"toggle-checkbox",checked:a,onChange:z=>c(z.target.checked)}),w.jsx("label",{htmlFor:"detergentToggle",className:"switch-label"})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"extraInfo",children:"Lisätietoja (valinnainen):"}),w.jsx("textarea",{id:"extraInfo",value:at,onChange:z=>ct(z.target.value),rows:"3"})]}),w.jsxs("div",{className:"terms-checkbox-container",children:[w.jsx("input",{type:"checkbox",id:"termsAccepted",checked:ht,onChange:z=>_t(z.target.checked)}),w.jsxs("label",{htmlFor:"termsAccepted",children:["Olen lukenut ja hyväksyn ",w.jsx("a",{href:"#",onClick:ae,className:"terms-link",children:"vuokrausehdot"})]})]}),w.jsx("button",{style:{backgroundColor:ht?"#ffbb00":"#C0C0C0",color:"#1a1a1a"},type:"submit",disabled:!ht||D,children:D?"Lähetetään...":"Varaa nyt"}),w.jsx(g1,{isOpen:x,onClose:()=>S(!1)})]})}const tn=[];for(let r=0;r<256;++r)tn.push((r+256).toString(16).slice(1));function RO(r,t=0){return(tn[r[t+0]]+tn[r[t+1]]+tn[r[t+2]]+tn[r[t+3]]+"-"+tn[r[t+4]]+tn[r[t+5]]+"-"+tn[r[t+6]]+tn[r[t+7]]+"-"+tn[r[t+8]]+tn[r[t+9]]+"-"+tn[r[t+10]]+tn[r[t+11]]+tn[r[t+12]]+tn[r[t+13]]+tn[r[t+14]]+tn[r[t+15]]).toLowerCase()}let Vd;const DO=new Uint8Array(16);function CO(){if(!Vd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vd=crypto.getRandomValues.bind(crypto)}return Vd(DO)}const OO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I0={randomUUID:OO};function kO(r,t,i){var l;if(I0.randomUUID&&!r)return I0.randomUUID();r=r||{};const a=r.random??((l=r.rng)==null?void 0:l.call(r))??CO();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,RO(a)}const Cg=gC(aA,"bookings"),IO=async r=>{const t=de.fromDate(new Date(r.setHours(0,0,0,0))),i=de.fromDate(new Date(r.setHours(23,59,59,999))),a=HT(Cg,Bc("bookingDate",">=",t),Bc("bookingDate","<",i));try{return!(await FT(a)).empty}catch(l){return console.error("Error checking date booking status: ",l),!1}},NO=async(r,t)=>{const i=[],a=new Date(r);a.setHours(0,0,0,0);for(let l=0;l<t;l++)i.push(new Date(a)),a.setDate(a.getDate()+1);for(const l of i)if(await IO(l))return console.log(`Conflict found: Date ${l.toDateString()} is already booked.`),!0;return!1},xO=async(r,t)=>{const i=new Date(r,t,1),a=new Date(r,t+1,1),l=de.fromDate(i),c=de.fromDate(a),d=HT(Cg,Bc("bookingDate",">=",l),Bc("bookingDate","<",c));try{return(await FT(d)).docs.map(y=>y.data().bookingDate)}catch(m){return console.error("Error fetching booked dates for month: ",m),[]}},VO=async r=>{const{name:t,email:i,streetAddress:a,zipCode:l,phone:c,numberOfDays:d,detergent:m,extraInfo:p,startDate:y}=r;if(await NO(y,d))return console.warn(`Attempted to book an already booked date range starting ${y.toDateString()}`),{success:!1,error:new Error("One or more dates in the selected range are already booked.")};const b=LC(aA),O=kO(),P=new Date(y);for(let G=0;G<d;G++){const Q=de.fromDate(new Date(P.setHours(0,0,0,0))),Y=pC(Cg);b.set(Y,{name:t,email:i,streetAddress:a,zipCode:l,phone:c,detergent:m,extraInfo:p,bookingDate:Q,bookingGroupId:O,sequence:G+1,totalDays:d}),P.setDate(P.getDate()+1)}try{return await b.commit(),{success:!0,bookingGroupId:O}}catch(G){return console.error("Error adding multi-day booking: ",G),{success:!1,error:G}}};function MO(){const[r,t]=bt.useState(null),[i,a]=bt.useState([]),[l,c]=bt.useState(!1),[d,m]=bt.useState(null),[p,y]=bt.useState(new Date),E=bt.useCallback(async O=>{c(!0),m(null);try{const P=O.getFullYear(),G=O.getMonth(),Y=(await xO(P,G)).map(at=>{const ct=at.toDate();return`${ct.getFullYear()}-${String(ct.getMonth()+1).padStart(2,"0")}-${String(ct.getDate()).padStart(2,"0")}`});a(Y)}catch(P){console.error("Error in useBookings fetching booked dates: ",P),m("Failed to load booking availability."),a([])}finally{c(!1)}},[]);bt.useEffect(()=>{E(p)},[p,E]);const b=bt.useCallback(()=>{E(p)},[p,E]);return{selectedDate:r,setSelectedDate:t,bookedDates:i,isLoading:l,error:d,activeStartDate:p,setActiveStartDate:y,refreshBookedDates:b}}function jO({totalCost:r}){const[t,i]=bt.useState(!1),[a,l]=bt.useState(!1),c=bt.useRef(!0);return bt.useEffect(()=>{if(c.current){c.current=!1;return}if(r<=0)return;i(!0);const d=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(d)},[r]),r<=0&&!t?null:w.jsx("div",{className:"floating-total-container",children:w.jsxs("div",{className:"floating-total-inner-wrapper",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{position:"relative",display:"flex",alignItems:"center",gap:"inherit"},children:[w.jsx("span",{className:"total-label",children:"Summa:"}),w.jsxs("span",{className:`total-amount ${t?"flash-active":""}`,children:[r," €"]}),a&&w.jsx("span",{style:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"white",padding:"6px 10px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap",zIndex:1001,boxShadow:"0 2px 6px rgba(0,0,0,0.25)",pointerEvents:"none"},children:"Hinta sisältää ALV 25,5%"})]})})}const PO=({onClick:r})=>w.jsx("button",{className:"floating-info-btn",onClick:r,"aria-label":"Lisätietoja",children:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24px",height:"24px",children:[w.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),w.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}),LO=({isOpen:r,onClose:t})=>{if(!r)return null;const i=w.jsxs(w.Fragment,{children:[w.jsx("h2",{children:"Tekstiilipesurin nouto- ja palautusohjeet:"}),w.jsxs("ul",{style:{textAlign:"left",color:"#fff"},children:[w.jsx("li",{children:"Pesuri sijaitsee Oulunkylässä osoitteessa Pellavapellontie 7A, 00650 Helsinki."}),w.jsx("li",{children:"Saat tarkemmat ohjeet sähköpostiisi varausvahvistuksen yhteydessä. Tarkistathan myös roskapostikansion. Mikäli haluat muokata varaustasi, ota yhteyttä sähköpostilla tai puhelimitse viestillä (iisakintekstiilipesuri@gmail.com, 040 410 1920)."}),w.jsx("li",{children:"Nouda pesuri klo 17 alkaen ja palauta palautuspäivänä kello 17 mennessä. Voit myös kysyä hakua aiemmin tarvittaessa."}),w.jsx("li",{children:"Palauta pesuri sovittuun aikaan mennessä siistissä kunnossa puhdistettuna ja kaikki osat tallella."}),w.jsx("li",{children:"Ohjeet pesurin käyttöön löydät laitteen mukana tai [LINKKI OHJEISIIN/OHJESIVU]."}),w.jsx("li",{children:"Pesuaine on tablettimuotoinen ja 2 tablettia riittää täyteen astiaan. Jos ostat pesuaineen, se sisältää 4 tablettia."}),w.jsx("li",{children:"Ongelmatilanteissa ota yhteyttä: iisakintekstiilipesuri@gmail.com tai 040 410 1920."})]}),w.jsx("p",{children:"Kiitos varauksestasi!"})]});return w.jsx("div",{className:"info-modal-overlay",onClick:t,children:w.jsxs("div",{className:"info-modal-content",onClick:a=>a.stopPropagation(),children:[w.jsx("button",{className:"info-modal-close-btn",onClick:t,"aria-label":"Sulje",children:"×"}),i]})})};function UO(){const{selectedDate:r,setSelectedDate:t,bookedDates:i,isLoading:a,error:l,activeStartDate:c,setActiveStartDate:d,refreshBookedDates:m}=MO(),[p,y]=bt.useState(1),[E,b]=bt.useState(!1),[O,P]=bt.useState(0),[G,Q]=bt.useState(!1);bt.useEffect(()=>{let rt=0;p>=1&&(rt=35,rt+=(p-1)*10),E&&(rt+=6),P(rt)},[p,E]);const Y=async rt=>{var _t;if(!r){alert("Something went wrong, no date selected.");return}const gt={...rt,numberOfDays:p,detergent:E,startDate:r},ht=await VO(gt);ht.success?(alert("Booking successful!"),t(null),m()):alert(`Booking failed: ${((_t=ht.error)==null?void 0:_t.message)||"Unknown error"}`)},at=rt=>{const gt=`${rt.getFullYear()}-${String(rt.getMonth()+1).padStart(2,"0")}-${String(rt.getDate()).padStart(2,"0")}`;i.includes(gt)?(t(null),alert("This date is already booked.")):t(rt)},ct=({date:rt,view:gt})=>{if(gt==="month"){const ht=new Date;if(ht.setHours(0,0,0,0),rt<ht)return!0;const _t=`${rt.getFullYear()}-${String(rt.getMonth()+1).padStart(2,"0")}-${String(rt.getDate()).padStart(2,"0")}`;return i.includes(_t)}return!1};return w.jsxs("div",{className:"app-container",children:[" ",w.jsx("h1",{className:"main-title",children:"IISAKIN TEKSTIILIPESURI"}),w.jsxs("div",{className:"info-box",children:[w.jsx("h2",{className:"subtitle",children:"35 € / päivä + 10 € / lisäpäivä (pesuaine + 6 €)"}),w.jsx("br",{}),w.jsx("p",{className:"instructions",children:"VALITSE SOPIVA PÄIVÄ KALENTERISTA JA VARAA KÄRCHER PUZZI 8/1 TEKSTIILIPESURI."})]}),w.jsx(PO,{onClick:()=>Q(!0)}),w.jsx(LO,{isOpen:G,onClose:()=>Q(!1)}),w.jsxs("div",{className:"calendar-container",children:[l&&w.jsxs("p",{className:"error-message",children:["Error loading availability: ",l]}),a&&w.jsx("p",{children:"Loading availability..."}),w.jsx(d1,{onChange:at,value:r,tileDisabled:ct,onActiveStartDateChange:({activeStartDate:rt})=>d(rt),activeStartDate:c})]}),r&&w.jsx("div",{className:"booking-form-container",children:w.jsx(wO,{selectedDate:r,onSubmit:Y,numberOfDays:p,detergent:E,onNumberOfDaysChange:y,onDetergentChange:b,totalCost:O})}),r&&w.jsx(jO,{totalCost:O})]})}zb.createRoot(document.getElementById("root")).render(w.jsx(bt.StrictMode,{children:w.jsx(UO,{})}));
