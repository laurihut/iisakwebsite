(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function xA(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var $f={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function NA(){if(ov)return Jl;ov=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Jl.Fragment=t,Jl.jsx=i,Jl.jsxs=i,Jl}var uv;function VA(){return uv||(uv=1,$f.exports=NA()),$f.exports}var S=VA(),Zf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function kA(){if(cv)return Ct;cv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function O(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,X={};function F(I,$,nt){this.props=I,this.context=$,this.refs=X,this.updater=nt||L}F.prototype.isReactComponent={},F.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},F.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function st(){}st.prototype=F.prototype;function ut(I,$,nt){this.props=I,this.context=$,this.refs=X,this.updater=nt||L}var at=ut.prototype=new st;at.constructor=ut,Y(at,F.prototype),at.isPureReactComponent=!0;var mt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function k(I,$,nt,tt,ht,Rt){return nt=Rt.ref,{$$typeof:a,type:I,key:$,ref:nt!==void 0?nt:null,props:Rt}}function b(I,$){return k(I.type,$,void 0,void 0,void 0,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function N(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return $[nt]})}var M=/\/+/g;function x(I,$){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):$.toString(36)}function C(){}function oe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ae(I,$,nt,tt,ht){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case a:case t:yt=!0;break;case E:return yt=I._init,ae(yt(I._payload),$,nt,tt,ht)}}if(yt)return ht=ht(I),yt=tt===""?"."+x(I,0):tt,mt(ht)?(nt="",yt!=null&&(nt=yt.replace(M,"$&/")+"/"),ae(ht,$,nt,"",function(Ie){return Ie})):ht!=null&&(D(ht)&&(ht=b(ht,nt+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+yt)),$.push(ht)),1;yt=0;var ue=tt===""?".":tt+":";if(mt(I))for(var qt=0;qt<I.length;qt++)tt=I[qt],Rt=ue+x(tt,qt),yt+=ae(tt,$,nt,Rt,ht);else if(qt=O(I),typeof qt=="function")for(I=qt.call(I),qt=0;!(tt=I.next()).done;)tt=tt.value,Rt=ue+x(tt,qt++),yt+=ae(tt,$,nt,Rt,ht);else if(Rt==="object"){if(typeof I.then=="function")return ae(oe(I),$,nt,tt,ht);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(I,$,nt){if(I==null)return I;var tt=[],ht=0;return ae(I,tt,"","",function(Rt){return $.call(nt,Rt,ht++)}),tt}function it(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var ct=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ot(){}return Ct.Children={map:G,forEach:function(I,$,nt){G(I,function(){$.apply(this,arguments)},nt)},count:function(I){var $=0;return G(I,function(){$++}),$},toArray:function(I){return G(I,function($){return $})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ct.Component=F,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=ut,Ct.StrictMode=s,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(I){return dt.H.useMemoCache(I)}},Ct.cache=function(I){return function(){return I.apply(null,arguments)}},Ct.cloneElement=function(I,$,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var tt=Y({},I.props),ht=I.key,Rt=void 0;if($!=null)for(yt in $.ref!==void 0&&(Rt=void 0),$.key!==void 0&&(ht=""+$.key),$)!_t.call($,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&$.ref===void 0||(tt[yt]=$[yt]);var yt=arguments.length-2;if(yt===1)tt.children=nt;else if(1<yt){for(var ue=Array(yt),qt=0;qt<yt;qt++)ue[qt]=arguments[qt+2];tt.children=ue}return k(I.type,ht,void 0,void 0,Rt,tt)},Ct.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},Ct.createElement=function(I,$,nt){var tt,ht={},Rt=null;if($!=null)for(tt in $.key!==void 0&&(Rt=""+$.key),$)_t.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ht[tt]=$[tt]);var yt=arguments.length-2;if(yt===1)ht.children=nt;else if(1<yt){for(var ue=Array(yt),qt=0;qt<yt;qt++)ue[qt]=arguments[qt+2];ht.children=ue}if(I&&I.defaultProps)for(tt in yt=I.defaultProps,yt)ht[tt]===void 0&&(ht[tt]=yt[tt]);return k(I,Rt,void 0,void 0,null,ht)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(I){return{$$typeof:g,render:I}},Ct.isValidElement=D,Ct.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:it}},Ct.memo=function(I,$){return{$$typeof:p,type:I,compare:$===void 0?null:$}},Ct.startTransition=function(I){var $=dt.T,nt={};dt.T=nt;try{var tt=I(),ht=dt.S;ht!==null&&ht(nt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ot,ct)}catch(Rt){ct(Rt)}finally{dt.T=$}},Ct.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},Ct.use=function(I){return dt.H.use(I)},Ct.useActionState=function(I,$,nt){return dt.H.useActionState(I,$,nt)},Ct.useCallback=function(I,$){return dt.H.useCallback(I,$)},Ct.useContext=function(I){return dt.H.useContext(I)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(I,$){return dt.H.useDeferredValue(I,$)},Ct.useEffect=function(I,$,nt){var tt=dt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(I,$)},Ct.useId=function(){return dt.H.useId()},Ct.useImperativeHandle=function(I,$,nt){return dt.H.useImperativeHandle(I,$,nt)},Ct.useInsertionEffect=function(I,$){return dt.H.useInsertionEffect(I,$)},Ct.useLayoutEffect=function(I,$){return dt.H.useLayoutEffect(I,$)},Ct.useMemo=function(I,$){return dt.H.useMemo(I,$)},Ct.useOptimistic=function(I,$){return dt.H.useOptimistic(I,$)},Ct.useReducer=function(I,$,nt){return dt.H.useReducer(I,$,nt)},Ct.useRef=function(I){return dt.H.useRef(I)},Ct.useState=function(I){return dt.H.useState(I)},Ct.useSyncExternalStore=function(I,$,nt){return dt.H.useSyncExternalStore(I,$,nt)},Ct.useTransition=function(){return dt.H.useTransition()},Ct.version="19.1.0",Ct}var hv;function nm(){return hv||(hv=1,Zf.exports=kA()),Zf.exports}var bt=nm(),Wf={exports:{}},to={},Jf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function MA(){return fv||(fv=1,function(a){function t(G,it){var ct=G.length;G.push(it);t:for(;0<ct;){var Ot=ct-1>>>1,I=G[Ot];if(0<o(I,it))G[Ot]=it,G[ct]=I,ct=Ot;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],ct=G.pop();if(ct!==it){G[0]=ct;t:for(var Ot=0,I=G.length,$=I>>>1;Ot<$;){var nt=2*(Ot+1)-1,tt=G[nt],ht=nt+1,Rt=G[ht];if(0>o(tt,ct))ht<I&&0>o(Rt,tt)?(G[Ot]=Rt,G[ht]=ct,Ot=ht):(G[Ot]=tt,G[nt]=ct,Ot=nt);else if(ht<I&&0>o(Rt,ct))G[Ot]=Rt,G[ht]=ct,Ot=ht;else break t}}return it}function o(G,it){var ct=G.sortIndex-it.sortIndex;return ct!==0?ct:G.id-it.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,w=null,O=3,L=!1,Y=!1,X=!1,F=!1,st=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function mt(G){for(var it=i(p);it!==null;){if(it.callback===null)s(p);else if(it.startTime<=G)s(p),it.sortIndex=it.expirationTime,t(y,it);else break;it=i(p)}}function dt(G){if(X=!1,mt(G),!Y)if(i(y)!==null)Y=!0,_t||(_t=!0,x());else{var it=i(p);it!==null&&ae(dt,it.startTime-G)}}var _t=!1,k=-1,b=5,D=-1;function N(){return F?!0:!(a.unstable_now()-D<b)}function M(){if(F=!1,_t){var G=a.unstable_now();D=G;var it=!0;try{t:{Y=!1,X&&(X=!1,ut(k),k=-1),L=!0;var ct=O;try{e:{for(mt(G),w=i(y);w!==null&&!(w.expirationTime>G&&N());){var Ot=w.callback;if(typeof Ot=="function"){w.callback=null,O=w.priorityLevel;var I=Ot(w.expirationTime<=G);if(G=a.unstable_now(),typeof I=="function"){w.callback=I,mt(G),it=!0;break e}w===i(y)&&s(y),mt(G)}else s(y);w=i(y)}if(w!==null)it=!0;else{var $=i(p);$!==null&&ae(dt,$.startTime-G),it=!1}}break t}finally{w=null,O=ct,L=!1}it=void 0}}finally{it?x():_t=!1}}}var x;if(typeof at=="function")x=function(){at(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,oe=C.port2;C.port1.onmessage=M,x=function(){oe.postMessage(null)}}else x=function(){st(M,0)};function ae(G,it){k=st(function(){G(a.unstable_now())},it)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(G){switch(O){case 1:case 2:case 3:var it=3;break;default:it=O}var ct=O;O=it;try{return G()}finally{O=ct}},a.unstable_requestPaint=function(){F=!0},a.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=O;O=G;try{return it()}finally{O=ct}},a.unstable_scheduleCallback=function(G,it,ct){var Ot=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ot+ct:Ot):ct=Ot,G){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ct+I,G={id:E++,callback:it,priorityLevel:G,startTime:ct,expirationTime:I,sortIndex:-1},ct>Ot?(G.sortIndex=ct,t(p,G),i(y)===null&&G===i(p)&&(X?(ut(k),k=-1):X=!0,ae(dt,ct-Ot))):(G.sortIndex=I,t(y,G),Y||L||(Y=!0,_t||(_t=!0,x()))),G},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(G){var it=O;return function(){var ct=O;O=it;try{return G.apply(this,arguments)}finally{O=ct}}}}(td)),td}var dv;function jA(){return dv||(dv=1,Jf.exports=MA()),Jf.exports}var ed={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function UA(){if(mv)return sn;mv=1;var a=nm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:p,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return h(y,p,null,E)},sn.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},sn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},sn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},sn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,w=g(E,p.crossOrigin),O=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:L}):E==="script"&&s.d.X(y,{crossOrigin:w,integrity:O,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},sn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},sn.requestFormReset=function(y){s.d.r(y)},sn.unstable_batchedUpdates=function(y,p){return y(p)},sn.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var gv;function LA(){if(gv)return ed.exports;gv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ed.exports=UA(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function PA(){if(yv)return to;yv=1;var a=jA(),t=nm(),i=LA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,T=c.child;T;){if(T===r){_=!0,r=c,l=f;break}if(T===l){_=!0,l=c,r=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===r){_=!0,r=f,l=c;break}if(T===l){_=!0,l=f,r=c;break}T=T.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),at=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case F:return"Profiler";case X:return"StrictMode";case dt:return"Suspense";case _t:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case at:return(e.displayName||"Context")+".Provider";case ut:return(e._context.displayName||"Context")+".Consumer";case mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var ae=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ot=[],I=-1;function $(e){return{current:e}}function nt(e){0>I||(e.current=Ot[I],Ot[I]=null,I--)}function tt(e,n){I++,Ot[I]=e.current,e.current=n}var ht=$(null),Rt=$(null),yt=$(null),ue=$(null);function qt(e,n){switch(tt(yt,n),tt(Rt,e),tt(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jp(n),e=Up(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),tt(ht,e)}function Ie(){nt(ht),nt(Rt),nt(yt)}function xn(e){e.memoizedState!==null&&tt(ue,e);var n=ht.current,r=Up(n,e.type);n!==r&&(tt(Rt,e),tt(ht,r))}function En(e){Rt.current===e&&(nt(ht),nt(Rt)),ue.current===e&&(nt(ue),Kl._currentValue=ct)}var Nn=Object.prototype.hasOwnProperty,Xn=a.unstable_scheduleCallback,ee=a.unstable_cancelCallback,$n=a.unstable_shouldYield,He=a.unstable_requestPaint,Ge=a.unstable_now,Pr=a.unstable_getCurrentPriorityLevel,oa=a.unstable_ImmediatePriority,ua=a.unstable_UserBlockingPriority,xi=a.unstable_NormalPriority,tl=a.unstable_LowPriority,Ni=a.unstable_IdlePriority,Wa=a.log,zr=a.unstable_setDisableYieldValue,ce=null,Yt=null;function cn(e){if(typeof Wa=="function"&&zr(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ce,e)}catch{}}var be=Math.clz32?Math.clz32:Vi,Ja=Math.log,Br=Math.LN2;function Vi(e){return e>>>=0,e===0?32:31-(Ja(e)/Br|0)|0}var Vn=256,oi=4194304;function Tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ki(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=Tn(l):(_&=T,_!==0?c=Tn(_):r||(r=T&~e,r!==0&&(c=Tn(r))))):(T=l&~f,T!==0?c=Tn(T):_!==0?c=Tn(_):r||(r=l&~e,r!==0&&(c=Tn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function ui(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mi(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var e=Vn;return Vn<<=1,(Vn&4194048)===0&&(Vn=256),e}function ca(){var e=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),e}function Zn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function kn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,n,r,l,c,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=_&~r;0<r;){var Q=31-be(r),Z=1<<Q;T[Q]=0,R[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}r&=~Z}l!==0&&se(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function se(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&4194090}function ci(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-be(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function Ht(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ye(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hi(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:nv(e.type))}function ha(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var ne=Math.random().toString(36).slice(2),pe="__reactFiber$"+ne,he="__reactProps$"+ne,Fe="__reactContainer$"+ne,ji="__reactEvents$"+ne,er="__reactListeners$"+ne,Mn="__reactHandles$"+ne,qr="__reactResources$"+ne,Wn="__reactMarker$"+ne;function Jn(e){delete e[pe],delete e[he],delete e[ji],delete e[er],delete e[Mn]}function ti(e){var n=e[pe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Fe]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Bp(e);e!==null;){if(r=e[pe])return r;e=Bp(e)}return n}e=r,r=e.parentNode}return null}function jn(e){if(e=e[pe]||e[Fe]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function At(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Nt(e){var n=e[qr];return n||(n=e[qr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(e){e[Wn]=!0}var Qe=new Set,je={};function hn(e,n){ei(e,n),ei(e+"Capture",n)}function ei(e,n){for(je[e]=n,e=0;e<n.length;e++)Qe.add(n[e])}var Hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},nr={};function No(e){return Nn.call(nr,e)?!0:Nn.call(xo,e)?!1:Hr.test(e)?nr[e]=!0:(xo[e]=!0,!1)}function fa(e,n,r){if(No(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fi(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ke(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}var ir,Vo;function Ui(e){if(ir===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ir=n&&n[1]||"",Vo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ir+e+Vo}var Gr=!1;function Yr(e,n){if(!e||Gr)return"";Gr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){B=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var R=_.split(`
`),z=T.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var Q=`
`+R[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Gr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ui(r):""}function el(e){switch(e.tag){case 26:case 27:case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return Yr(e.type,!1);case 11:return Yr(e.type.render,!1);case 1:return Yr(e.type,!0);case 31:return Ui("Activity");default:return""}}function Fr(e){try{var n="";do n+=el(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(e){var n=nl(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qr(e){e._valueTracker||(e._valueTracker=Jc(e))}function il(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=nl(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var th=/[\n"\\]/g;function we(e){return e.replace(th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function An(e,n,r,l,c,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+fn(n)):e.value!==""+fn(n)&&(e.value=""+fn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?da(e,_,fn(n)):r!=null?da(e,_,fn(r)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+fn(T):e.removeAttribute("name")}function rr(e,n,r,l,c,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+fn(r):"",n=n!=null?""+fn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function da(e,n,r){n==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Li(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+fn(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zt(e,n,r){if(n!=null&&(n=""+fn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+fn(r):""}function sr(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=fn(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l)}function Un(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||lr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function al(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&ko(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(e){return nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pi=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,Bi=null;function sl(e){var n=jn(e);if(n&&(e=n.stateNode)){var r=e[he]||null;t:switch(e=n.stateNode,n.type){case"input":if(An(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[he]||null;if(!c)throw Error(s(90));An(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&il(l)}break t;case"textarea":Zt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Li(e,!!r.multiple,n,!1)}}}var di=!1;function Mo(e,n,r){if(di)return e(n,r);di=!0;try{var l=e(n);return l}finally{if(di=!1,(zi!==null||Bi!==null)&&(Cu(),zi&&(n=zi,e=Bi,Bi=zi=null,sl(n),e)))for(n=0;n<e.length;n++)sl(e[n])}}function or(e,n){var r=e.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(ni)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Pn=!1}var mi=null,ma=null,qi=null;function ll(){if(qi)return qi;var e,n=ma,r=n.length,l,c="value"in mi?mi.value:mi.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var _=r-e;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return qi=c.slice(e,1<l?1-l:void 0)}function gi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function ol(){return!1}function Ue(e){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yi:ol,this.isPropagationStopped=ol,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xr=Ue(Qt),cr=E({},Qt,{view:0,detail:0}),jo=Ue(cr),$r,Zr,pi,hr=E({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?($r=e.screenX-pi.screenX,Zr=e.screenY-pi.screenY):Zr=$r=0,pi=e),$r)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),zn=Ue(hr),Uo=E({},hr,{dataTransfer:0}),ih=Ue(Uo),fr=E({},cr,{relatedTarget:0}),Wr=Ue(fr),ul=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Ue(ul),Lo=E({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ts=Ue(Lo),ah=E({},Qt,{data:0}),cl=Ue(ah),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=zo[e])?!!n[e]:!1}function mr(){return hl}var Bo=E({},cr,{key:function(e){if(e.key){var n=dr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Po[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),es=Ue(Bo),qo=E({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ue(qo),Hi=E({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),Ho=Ue(Hi),Go=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=Ue(Go),Fo=E({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=Ue(Fo),dn=E({},Qt,{newState:0,oldState:0}),Qo=Ue(dn),Ko=[9,13,27,32],vi=ni&&"CompositionEvent"in window,u=null;ni&&"documentMode"in document&&(u=document.documentMode);var m=ni&&"TextEvent"in window&&!u,v=ni&&(!vi||u&&8<u&&11>=u),A=" ",U=!1;function H(e,n){switch(e){case"keyup":return Ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function xe(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return e=n.data,e===A&&U?null:e;default:return null}}function Lt(e,n){if(Ut)return e==="compositionend"||!vi&&H(e,n)?(e=ll(),qi=ma=mi=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Le[e.type]:n==="textarea"}function Gi(e,n,r,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,n=ku(n,"onChange"),0<n.length&&(r=new Xr("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Xe=null,_i=null;function dl(e){xp(e,0)}function Xo(e){var n=At(e);if(il(n))return e}function Wm(e,n){if(e==="change")return n}var Jm=!1;if(ni){var rh;if(ni){var sh="oninput"in document;if(!sh){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),sh=typeof tg.oninput=="function"}rh=sh}else rh=!1;Jm=rh&&(!document.documentMode||9<document.documentMode)}function eg(){Xe&&(Xe.detachEvent("onpropertychange",ng),_i=Xe=null)}function ng(e){if(e.propertyName==="value"&&Xo(_i)){var n=[];Gi(n,_i,e,Ln(e)),Mo(dl,n)}}function lT(e,n,r){e==="focusin"?(eg(),Xe=n,_i=r,Xe.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function oT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(_i)}function uT(e,n){if(e==="click")return Xo(n)}function cT(e,n){if(e==="input"||e==="change")return Xo(n)}function hT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:hT;function ml(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Nn.call(n,c)||!bn(e[c],n[c]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var r=ig(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ig(r)}}function rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ar(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ar(e.document)}return n}function lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fT=ni&&"documentMode"in document&&11>=document.documentMode,is=null,oh=null,gl=null,uh=!1;function lg(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||is==null||is!==ar(l)||(l=is,"selectionStart"in l&&lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=ku(oh,"onSelect"),0<l.length&&(n=new Xr("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=is)))}function gr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var as={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},ch={},og={};ni&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function yr(e){if(ch[e])return ch[e];if(!as[e])return e;var n=as[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in og)return ch[e]=n[r];return e}var ug=yr("animationend"),cg=yr("animationiteration"),hg=yr("animationstart"),dT=yr("transitionrun"),mT=yr("transitionstart"),gT=yr("transitioncancel"),fg=yr("transitionend"),dg=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function ii(e,n){dg.set(e,n),hn(n,[e])}var mg=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var r=mg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Fr(n)},mg.set(e,n),n)}return{value:e,source:n,stack:Fr(n)}}var qn=[],rs=0,fh=0;function $o(){for(var e=rs,n=fh=rs=0;n<e;){var r=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var c=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&gg(r,c,f)}}function Zo(e,n,r,l){qn[rs++]=e,qn[rs++]=n,qn[rs++]=r,qn[rs++]=l,fh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function dh(e,n,r,l){return Zo(e,n,r,l),Wo(e)}function ss(e,n){return Zo(e,null,null,n),Wo(e)}function gg(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-be(r),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Wo(e){if(50<zl)throw zl=0,Ef=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ls={};function yT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,l){return new yT(e,n,r,l)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jo(e,n,r,l,c,f){var _=0;if(l=e,typeof e=="function")mh(e)&&(_=1);else if(typeof e=="string")_=vA(e,r,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=Sn(31,r,n,c),e.elementType=D,e.lanes=f,e;case Y:return pr(r.children,c,f,n);case X:_=8,c|=24;break;case F:return e=Sn(12,r,n,c|2),e.elementType=F,e.lanes=f,e;case dt:return e=Sn(13,r,n,c),e.elementType=dt,e.lanes=f,e;case _t:return e=Sn(19,r,n,c),e.elementType=_t,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:case at:_=10;break t;case ut:_=9;break t;case mt:_=11;break t;case k:_=14;break t;case b:_=16,l=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Sn(_,r,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function pr(e,n,r,l){return e=Sn(7,e,l,n),e.lanes=r,e}function gh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function yh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var os=[],us=0,tu=null,eu=0,Hn=[],Gn=0,vr=null,Fi=1,Qi="";function _r(e,n){os[us++]=eu,os[us++]=tu,tu=e,eu=n}function pg(e,n,r){Hn[Gn++]=Fi,Hn[Gn++]=Qi,Hn[Gn++]=vr,vr=e;var l=Fi;e=Qi;var c=32-be(l)-1;l&=~(1<<c),r+=1;var f=32-be(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Fi=1<<32-be(n)+c|r<<c|l,Qi=f+e}else Fi=1<<f|r<<c|l,Qi=e}function ph(e){e.return!==null&&(_r(e,1),pg(e,1,0))}function vh(e){for(;e===tu;)tu=os[--us],os[us]=null,eu=os[--us],os[us]=null;for(;e===vr;)vr=Hn[--Gn],Hn[Gn]=null,Qi=Hn[--Gn],Hn[Gn]=null,Fi=Hn[--Gn],Hn[Gn]=null}var mn=null,ve=null,Ft=!1,Er=null,Ei=!1,_h=Error(s(519));function Tr(e){var n=Error(s(418,""));throw vl(Bn(n,e)),_h}function vg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[pe]=e,n[he]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<ql.length;r++)Mt(ql[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),rr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qr(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),sr(n,l.value,l.defaultValue,l.children),Qr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Mp(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||Tr(e)}function _g(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:mn=mn.return}}function yl(e){if(e!==mn)return!1;if(!Ft)return _g(e),Ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||jf(e.type,e.memoizedProps)),r=!r),r&&ve&&Tr(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ve=ri(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,Ia(e.type)?(e=zf,zf=null,ve=e):ve=n):ve=mn?ri(e.stateNode.nextSibling):null;return!0}function pl(){ve=mn=null,Ft=!1}function Eg(){var e=Er;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Er=null),e}function vl(e){Er===null?Er=[e]:Er.push(e)}var Eh=$(null),Ar=null,Ki=null;function ga(e,n,r){tt(Eh,n._currentValue),n._currentValue=r}function Xi(e){e._currentValue=Eh.current,nt(Eh)}function Th(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Ah(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Th(f.return,r,e),l||(_=null);break t}f=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Th(_,r,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function _l(e,n,r,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=c.type;bn(c.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(c===ue.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}c=c.return}e!==null&&Ah(n,e,r,l),n.flags|=262144}function nu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Ar=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return Tg(Ar,e)}function iu(e,n){return Ar===null&&br(e),Tg(e,n)}function Tg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ki===null){if(e===null)throw Error(s(308));Ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ki=Ki.next=n;return r}var pT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},vT=a.unstable_scheduleCallback,_T=a.unstable_NormalPriority,Ve={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new pT,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&vT(_T,function(){e.controller.abort()})}var Tl=null,Sh=0,cs=0,hs=null;function ET(e,n){if(Tl===null){var r=Tl=[];Sh=0,cs=Df(),hs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Sh++,n.then(Ag,Ag),n}function Ag(){if(--Sh===0&&Tl!==null){hs!==null&&(hs.status="fulfilled");var e=Tl;Tl=null,cs=0,hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var bg=G.S;G.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(e,n),bg!==null&&bg(e,n)};var Sr=$(null);function wh(){var e=Sr.current;return e!==null?e:re.pooledCache}function au(e,n){n===null?tt(Sr,Sr.current):tt(Sr,n.pool)}function Sg(){var e=wh();return e===null?null:{parent:Ve._currentValue,pool:e}}var Al=Error(s(460)),wg=Error(s(474)),ru=Error(s(542)),Rh={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function su(){}function Dg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(su,su),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(su,su);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw bl=n,Al}}var bl=null;function Cg(){if(bl===null)throw Error(s(459));var e=bl;return bl=null,e}function Og(e){if(e===Al||e===ru)throw Error(s(483))}var ya=!1;function Dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Wo(e),gg(e,null,r),n}return Zo(e,l,n,r),Wo(e)}function Sl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ci(e,r)}}function Oh(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ih=!1;function wl(){if(Ih){var e=hs;if(e!==null)throw e}}function Rl(e,n,r,l){Ih=!1;var c=e.updateQueue;ya=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var R=T,z=R.next;R.next=null,_===null?f=z:_.next=z,_=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(f!==null){var Z=c.baseState;_=0,Q=z=R=null,T=f;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Pt&B)===B:(l&B)===B){B!==0&&B===cs&&(Ih=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,pt=T;B=n;var te=r;switch(pt.tag){case 1:if(Tt=pt.payload,typeof Tt=="function"){Z=Tt.call(te,Z,B);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=pt.payload,B=typeof Tt=="function"?Tt.call(te,Z,B):Tt,B==null)break t;Z=E({},Z,B);break t;case 2:ya=!0}}B=T.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=q,R=Z):Q=Q.next=q,_|=B;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Q===null&&(R=Z),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ra|=_,e.lanes=_,e.memoizedState=Z}}function Ig(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function xg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ig(r[e],n)}var fs=$(null),lu=$(0);function Ng(e,n){e=na,tt(lu,e),tt(fs,n),na=e|n.baseLanes}function xh(){tt(lu,na),tt(fs,fs.current)}function Nh(){na=lu.current,nt(fs),nt(lu)}var _a=0,It=null,Wt=null,Re=null,ou=!1,ds=!1,wr=!1,uu=0,Dl=0,ms=null,AT=0;function Ee(){throw Error(s(321))}function Vh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!bn(e[r],n[r]))return!1;return!0}function kh(e,n,r,l,c,f){return _a=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?gy:yy,wr=!1,f=r(l,c),wr=!1,ds&&(f=kg(n,r,l,c)),Vg(e),f}function Vg(e){G.H=gu;var n=Wt!==null&&Wt.next!==null;if(_a=0,Re=Wt=It=null,ou=!1,Dl=0,ms=null,n)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&nu(e)&&(Pe=!0))}function kg(e,n,r,l){It=e;var c=0;do{if(ds&&(ms=null),Dl=0,ds=!1,25<=c)throw Error(s(301));if(c+=1,Re=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=OT,f=n(r,l)}while(ds);return f}function bT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(It.flags|=1024),n}function Mh(){var e=uu!==0;return uu=0,e}function jh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Uh(e){if(ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ou=!1}_a=0,Re=Wt=It=null,ds=!1,Dl=uu=0,ms=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?It.memoizedState=Re=e:Re=Re.next=e,Re}function De(){if(Wt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Re===null?It.memoizedState:Re.next;if(n!==null)Re=n,Wt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?It.memoizedState=Re=e:Re=Re.next=e}return Re}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Dl;return Dl+=1,ms===null&&(ms=[]),e=Dg(ms,e,n),n=It,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?gy:yy),e}function cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===at)return rn(e)}throw Error(s(438,String(e)))}function Ph(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lh(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=N;return n.index++,r}function $i(e,n){return typeof n=="function"?n(e):n}function hu(e){var n=De();return zh(n,Wt,e)}function zh(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var T=_=null,R=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pt&Z)===Z:(_a&Z)===Z){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===cs&&(Q=!0);else if((_a&B)===B){z=z.next,B===cs&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Z,_=f):R=R.next=Z,It.lanes|=B,Ra|=B;Z=z.action,wr&&r(f,Z),f=z.hasEagerState?z.eagerState:r(f,Z)}else B={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=B,_=f):R=R.next=B,It.lanes|=Z,Ra|=Z;z=z.next}while(z!==null&&z!==n);if(R===null?_=f:R.next=T,!bn(f,e.memoizedState)&&(Pe=!0,Q&&(r=hs,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bh(e){var n=De(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);bn(f,n.memoizedState)||(Pe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Mg(e,n,r){var l=It,c=De(),f=Ft;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!bn((Wt||c).memoizedState,r);_&&(c.memoizedState=r,Pe=!0),c=c.queue;var T=Lg.bind(null,l,c,e);if(Ol(2048,8,T,[e]),c.getSnapshot!==n||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,gs(9,fu(),Ug.bind(null,l,c,r,n),null),re===null)throw Error(s(349));f||(_a&124)!==0||jg(l,n,r)}return r}function jg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Lh(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ug(e,n,r,l){n.value=r,n.getSnapshot=l,Pg(n)&&zg(e)}function Lg(e,n,r){return r(function(){Pg(n)&&zg(e)})}function Pg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!bn(e,r)}catch{return!0}}function zg(e){var n=ss(e,2);n!==null&&On(n,e,2)}function qh(e){var n=gn();if(typeof e=="function"){var r=e;if(e=r(),wr){cn(!0);try{r()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},n}function Bg(e,n,r,l){return e.baseState=r,zh(e,Wt,typeof l=="function"?l:$i)}function ST(e,n,r,l,c){if(mu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,qg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qg(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=G.T,_={};G.T=_;try{var T=r(c,l),R=G.S;R!==null&&R(_,T),Hg(e,n,T)}catch(z){Hh(e,n,z)}finally{G.T=f}}else try{f=r(c,l),Hg(e,n,f)}catch(z){Hh(e,n,z)}}function Hg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Gg(e,n,l)},function(l){return Hh(e,n,l)}):Gg(e,n,r)}function Gg(e,n,r){n.status="fulfilled",n.value=r,Yg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qg(e,r)))}function Hh(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Yg(n),n=n.next;while(n!==l)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fg(e,n){return n}function Qg(e,n){if(Ft){var r=re.formState;if(r!==null){t:{var l=It;if(Ft){if(ve){e:{for(var c=ve,f=Ei;c.nodeType!==8;){if(!f){c=null;break e}if(c=ri(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ve=ri(c.nextSibling),l=c.data==="F!";break t}}Tr(l)}l=!1}l&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:n},r.queue=l,r=fy.bind(null,It,l),l.dispatch=r,l=qh(!1),f=Kh.bind(null,It,!1,l.queue),l=gn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=ST.bind(null,It,c,f,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function Kg(e){var n=De();return Xg(n,Wt,e)}function Xg(e,n,r){if(n=zh(e,n,Fg)[0],e=hu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(_){throw _===Al?ru:_}else l=n;n=De();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(It.flags|=2048,gs(9,fu(),wT.bind(null,c,r),null)),[l,f,e]}function wT(e,n){e.action=n}function $g(e){var n=De(),r=Wt;if(r!==null)return Xg(n,r,e);De(),n=n.memoizedState,r=De();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function gs(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Lh(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function fu(){return{destroy:void 0,resource:void 0}}function Zg(){return De().memoizedState}function du(e,n,r,l){var c=gn();l=l===void 0?null:l,It.flags|=e,c.memoizedState=gs(1|n,fu(),r,l)}function Ol(e,n,r,l){var c=De();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&Vh(l,Wt.memoizedState.deps)?c.memoizedState=gs(n,f,r,l):(It.flags|=e,c.memoizedState=gs(1|n,f,r,l))}function Wg(e,n){du(8390656,8,e,n)}function Jg(e,n){Ol(2048,8,e,n)}function ty(e,n){return Ol(4,2,e,n)}function ey(e,n){return Ol(4,4,e,n)}function ny(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function iy(e,n,r){r=r!=null?r.concat([e]):null,Ol(4,4,ny.bind(null,n,e),r)}function Gh(){}function ay(e,n){var r=De();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function ry(e,n){var r=De();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=e(),wr){cn(!0);try{e()}finally{cn(!1)}}return r.memoizedState=[l,n],l}function Yh(e,n,r){return r===void 0||(_a&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=op(),It.lanes|=e,Ra|=e,r)}function sy(e,n,r,l){return bn(r,n)?r:fs.current!==null?(e=Yh(e,r,l),bn(e,n)||(Pe=!0),e):(_a&42)===0?(Pe=!0,e.memoizedState=r):(e=op(),It.lanes|=e,Ra|=e,n)}function ly(e,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var _=G.T,T={};G.T=T,Kh(e,!1,n,r);try{var R=c(),z=G.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=TT(R,l);Il(e,n,Q,Cn(e))}else Il(e,n,l,Cn(e))}catch(Z){Il(e,n,{then:function(){},status:"rejected",reason:Z},Cn())}finally{it.p=f,G.T=_}}function RT(){}function Fh(e,n,r,l){if(e.tag!==5)throw Error(s(476));var c=oy(e).queue;ly(e,c,n,ct,r===null?RT:function(){return uy(e),r(l)})}function oy(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function uy(e){var n=oy(e).next.queue;Il(e,n,{},Cn())}function Qh(){return rn(Kl)}function cy(){return De().memoizedState}function hy(){return De().memoizedState}function DT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=pa(r);var l=va(n,e,r);l!==null&&(On(l,n,r),Sl(l,n,r)),n={cache:bh()},e.payload=n;return}n=n.return}}function CT(e,n,r){var l=Cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},mu(e)?dy(n,r):(r=dh(e,n,r,l),r!==null&&(On(r,e,l),my(r,n,l)))}function fy(e,n,r){var l=Cn();Il(e,n,r,l)}function Il(e,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(mu(e))dy(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,r);if(c.hasEagerState=!0,c.eagerState=T,bn(T,_))return Zo(e,n,c,0),re===null&&$o(),!1}catch{}finally{}if(r=dh(e,n,c,l),r!==null)return On(r,e,l),my(r,n,l),!0}return!1}function Kh(e,n,r,l){if(l={lane:2,revertLane:Df(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(e)){if(n)throw Error(s(479))}else n=dh(e,r,l,2),n!==null&&On(n,e,2)}function mu(e){var n=e.alternate;return e===It||n!==null&&n===It}function dy(e,n){ds=ou=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function my(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ci(e,r)}}var gu={readContext:rn,use:cu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},gy={readContext:rn,use:cu,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:rn,useEffect:Wg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,du(4194308,4,ny.bind(null,n,e),r)},useLayoutEffect:function(e,n){return du(4194308,4,e,n)},useInsertionEffect:function(e,n){du(4,2,e,n)},useMemo:function(e,n){var r=gn();n=n===void 0?null:n;var l=e();if(wr){cn(!0);try{e()}finally{cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=gn();if(r!==void 0){var c=r(n);if(wr){cn(!0);try{r(n)}finally{cn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=CT.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=qh(e);var n=e.queue,r=fy.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Gh,useDeferredValue:function(e,n){var r=gn();return Yh(r,e,n)},useTransition:function(){var e=qh(!1);return e=ly.bind(null,It,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=It,c=gn();if(Ft){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),re===null)throw Error(s(349));(Pt&124)!==0||jg(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Wg(Lg.bind(null,l,f,e),[e]),l.flags|=2048,gs(9,fu(),Ug.bind(null,l,f,r,n),null),r},useId:function(){var e=gn(),n=re.identifierPrefix;if(Ft){var r=Qi,l=Fi;r=(l&~(1<<32-be(l)-1)).toString(32)+r,n=""+n+"R"+r,r=uu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=AT++,n=""+n+"r"+r.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Kh.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ph,useCacheRefresh:function(){return gn().memoizedState=DT.bind(null,It)}},yy={readContext:rn,use:cu,useCallback:ay,useContext:rn,useEffect:Jg,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:hu,useRef:Zg,useState:function(){return hu($i)},useDebugValue:Gh,useDeferredValue:function(e,n){var r=De();return sy(r,Wt.memoizedState,e,n)},useTransition:function(){var e=hu($i)[0],n=De().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Mg,useId:cy,useHostTransitionStatus:Qh,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var r=De();return Bg(r,Wt,e,n)},useMemoCache:Ph,useCacheRefresh:hy},OT={readContext:rn,use:cu,useCallback:ay,useContext:rn,useEffect:Jg,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:Bh,useRef:Zg,useState:function(){return Bh($i)},useDebugValue:Gh,useDeferredValue:function(e,n){var r=De();return Wt===null?Yh(r,e,n):sy(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Bh($i)[0],n=De().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Mg,useId:cy,useHostTransitionStatus:Qh,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var r=De();return Wt!==null?Bg(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:hy},ys=null,xl=0;function yu(e){var n=xl;return xl+=1,ys===null&&(ys=[]),Dg(ys,e,n)}function Nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function py(e){var n=e._init;return n(e._payload)}function vy(e){function n(j,V){if(e){var P=j.deletions;P===null?(j.deletions=[V],j.flags|=16):P.push(V)}}function r(j,V){if(!e)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function c(j,V){return j=Yi(j,V),j.index=0,j.sibling=null,j}function f(j,V,P){return j.index=P,e?(P=j.alternate,P!==null?(P=P.index,P<V?(j.flags|=67108866,V):P):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function T(j,V,P,K){return V===null||V.tag!==6?(V=gh(P,j.mode,K),V.return=j,V):(V=c(V,P),V.return=j,V)}function R(j,V,P,K){var ot=P.type;return ot===Y?Q(j,V,P.props.children,K,P.key):V!==null&&(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&py(ot)===V.type)?(V=c(V,P.props),Nl(V,P),V.return=j,V):(V=Jo(P.type,P.key,P.props,null,j.mode,K),Nl(V,P),V.return=j,V)}function z(j,V,P,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=yh(P,j.mode,K),V.return=j,V):(V=c(V,P.children||[]),V.return=j,V)}function Q(j,V,P,K,ot){return V===null||V.tag!==7?(V=pr(P,j.mode,K,ot),V.return=j,V):(V=c(V,P),V.return=j,V)}function Z(j,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gh(""+V,j.mode,P),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return P=Jo(V.type,V.key,V.props,null,j.mode,P),Nl(P,V),P.return=j,P;case L:return V=yh(V,j.mode,P),V.return=j,V;case b:var K=V._init;return V=K(V._payload),Z(j,V,P)}if(ae(V)||x(V))return V=pr(V,j.mode,P,null),V.return=j,V;if(typeof V.then=="function")return Z(j,yu(V),P);if(V.$$typeof===at)return Z(j,iu(j,V),P);pu(j,V)}return null}function B(j,V,P,K){var ot=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:T(j,V,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return P.key===ot?R(j,V,P,K):null;case L:return P.key===ot?z(j,V,P,K):null;case b:return ot=P._init,P=ot(P._payload),B(j,V,P,K)}if(ae(P)||x(P))return ot!==null?null:Q(j,V,P,K,null);if(typeof P.then=="function")return B(j,V,yu(P),K);if(P.$$typeof===at)return B(j,V,iu(j,P),K);pu(j,P)}return null}function q(j,V,P,K,ot){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(P)||null,T(V,j,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return j=j.get(K.key===null?P:K.key)||null,R(V,j,K,ot);case L:return j=j.get(K.key===null?P:K.key)||null,z(V,j,K,ot);case b:var Vt=K._init;return K=Vt(K._payload),q(j,V,P,K,ot)}if(ae(K)||x(K))return j=j.get(P)||null,Q(V,j,K,ot,null);if(typeof K.then=="function")return q(j,V,P,yu(K),ot);if(K.$$typeof===at)return q(j,V,P,iu(V,K),ot);pu(V,K)}return null}function Tt(j,V,P,K){for(var ot=null,Vt=null,ft=V,vt=V=0,Be=null;ft!==null&&vt<P.length;vt++){ft.index>vt?(Be=ft,ft=null):Be=ft.sibling;var Gt=B(j,ft,P[vt],K);if(Gt===null){ft===null&&(ft=Be);break}e&&ft&&Gt.alternate===null&&n(j,ft),V=f(Gt,V,vt),Vt===null?ot=Gt:Vt.sibling=Gt,Vt=Gt,ft=Be}if(vt===P.length)return r(j,ft),Ft&&_r(j,vt),ot;if(ft===null){for(;vt<P.length;vt++)ft=Z(j,P[vt],K),ft!==null&&(V=f(ft,V,vt),Vt===null?ot=ft:Vt.sibling=ft,Vt=ft);return Ft&&_r(j,vt),ot}for(ft=l(ft);vt<P.length;vt++)Be=q(ft,j,vt,P[vt],K),Be!==null&&(e&&Be.alternate!==null&&ft.delete(Be.key===null?vt:Be.key),V=f(Be,V,vt),Vt===null?ot=Be:Vt.sibling=Be,Vt=Be);return e&&ft.forEach(function(Ma){return n(j,Ma)}),Ft&&_r(j,vt),ot}function pt(j,V,P,K){if(P==null)throw Error(s(151));for(var ot=null,Vt=null,ft=V,vt=V=0,Be=null,Gt=P.next();ft!==null&&!Gt.done;vt++,Gt=P.next()){ft.index>vt?(Be=ft,ft=null):Be=ft.sibling;var Ma=B(j,ft,Gt.value,K);if(Ma===null){ft===null&&(ft=Be);break}e&&ft&&Ma.alternate===null&&n(j,ft),V=f(Ma,V,vt),Vt===null?ot=Ma:Vt.sibling=Ma,Vt=Ma,ft=Be}if(Gt.done)return r(j,ft),Ft&&_r(j,vt),ot;if(ft===null){for(;!Gt.done;vt++,Gt=P.next())Gt=Z(j,Gt.value,K),Gt!==null&&(V=f(Gt,V,vt),Vt===null?ot=Gt:Vt.sibling=Gt,Vt=Gt);return Ft&&_r(j,vt),ot}for(ft=l(ft);!Gt.done;vt++,Gt=P.next())Gt=q(ft,j,vt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ft.delete(Gt.key===null?vt:Gt.key),V=f(Gt,V,vt),Vt===null?ot=Gt:Vt.sibling=Gt,Vt=Gt);return e&&ft.forEach(function(IA){return n(j,IA)}),Ft&&_r(j,vt),ot}function te(j,V,P,K){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case O:t:{for(var ot=P.key;V!==null;){if(V.key===ot){if(ot=P.type,ot===Y){if(V.tag===7){r(j,V.sibling),K=c(V,P.props.children),K.return=j,j=K;break t}}else if(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&py(ot)===V.type){r(j,V.sibling),K=c(V,P.props),Nl(K,P),K.return=j,j=K;break t}r(j,V);break}else n(j,V);V=V.sibling}P.type===Y?(K=pr(P.props.children,j.mode,K,P.key),K.return=j,j=K):(K=Jo(P.type,P.key,P.props,null,j.mode,K),Nl(K,P),K.return=j,j=K)}return _(j);case L:t:{for(ot=P.key;V!==null;){if(V.key===ot)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(j,V.sibling),K=c(V,P.children||[]),K.return=j,j=K;break t}else{r(j,V);break}else n(j,V);V=V.sibling}K=yh(P,j.mode,K),K.return=j,j=K}return _(j);case b:return ot=P._init,P=ot(P._payload),te(j,V,P,K)}if(ae(P))return Tt(j,V,P,K);if(x(P)){if(ot=x(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),pt(j,V,P,K)}if(typeof P.then=="function")return te(j,V,yu(P),K);if(P.$$typeof===at)return te(j,V,iu(j,P),K);pu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(j,V.sibling),K=c(V,P),K.return=j,j=K):(r(j,V),K=gh(P,j.mode,K),K.return=j,j=K),_(j)):r(j,V)}return function(j,V,P,K){try{xl=0;var ot=te(j,V,P,K);return ys=null,ot}catch(ft){if(ft===Al||ft===ru)throw ft;var Vt=Sn(29,ft,null,j.mode);return Vt.lanes=K,Vt.return=j,Vt}finally{}}}var ps=vy(!0),_y=vy(!1),Yn=$(null),Ti=null;function Ea(e){var n=e.alternate;tt(ke,ke.current&1),tt(Yn,e),Ti===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(Ti=e)}function Ey(e){if(e.tag===22){if(tt(ke,ke.current),tt(Yn,e),Ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Ti=e)}}else Ta()}function Ta(){tt(ke,ke.current),tt(Yn,Yn.current)}function Zi(e){nt(Yn),Ti===e&&(Ti=null),nt(ke)}var ke=$(0);function vu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Pf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xh(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $h={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Cn(),c=pa(l);c.payload=n,r!=null&&(c.callback=r),n=va(e,c,l),n!==null&&(On(n,e,l),Sl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Cn(),c=pa(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=va(e,c,l),n!==null&&(On(n,e,l),Sl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),l=pa(r);l.tag=2,n!=null&&(l.callback=n),n=va(e,l,r),n!==null&&(On(n,e,r),Sl(n,e,r))}};function Ty(e,n,r,l,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!ml(r,l)||!ml(c,f):!0}function Ay(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&$h.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=E({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function by(e){_u(e)}function Sy(e){console.error(e)}function wy(e){_u(e)}function Eu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Zh(e,n,r){return r=pa(r),r.tag=3,r.payload={element:null},r.callback=function(){Eu(e,n)},r}function Dy(e){return e=pa(e),e.tag=3,e}function Cy(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Ry(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ry(n,r,l),typeof c!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IT(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_l(n,r,c,!0),r=Yn.current,r!==null){switch(r.tag){case 13:return Ti===null?Af():r.alternate===null&&_e===0&&(_e=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Sf(e,l,c)),!1;case 22:return r.flags|=65536,l===Rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Sf(e,l,c)),!1}throw Error(s(435,r.tag))}return Sf(e,l,c),Af(),!1}if(Ft)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==_h&&(e=Error(s(422),{cause:l}),vl(Bn(e,r)))):(l!==_h&&(n=Error(s(423),{cause:l}),vl(Bn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Bn(l,r),c=Zh(e.stateNode,l,c),Oh(e,c),_e!==4&&(_e=2)),!1;var f=Error(s(520),{cause:l});if(f=Bn(f,r),Pl===null?Pl=[f]:Pl.push(f),_e!==4&&(_e=2),n===null)return!0;l=Bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Zh(r.stateNode,l,e),Oh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Da===null||!Da.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Dy(c),Cy(c,e,r,l),Oh(r,c),!1}r=r.return}while(r!==null);return!1}var Oy=Error(s(461)),Pe=!1;function $e(e,n,r,l){n.child=e===null?_y(n,null,r,l):ps(n,e.child,r,l)}function Iy(e,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return br(n),l=kh(e,n,r,_,f,c),T=Mh(),e!==null&&!Pe?(jh(e,n,c),Wi(e,n,c)):(Ft&&T&&ph(n),n.flags|=1,$e(e,n,l,c),n.child)}function xy(e,n,r,l,c){if(e===null){var f=r.type;return typeof f=="function"&&!mh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ny(e,n,f,l,c)):(e=Jo(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!sf(e,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:ml,r(_,l)&&e.ref===n.ref)return Wi(e,n,c)}return n.flags|=1,e=Yi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Ny(e,n,r,l,c){if(e!==null){var f=e.memoizedProps;if(ml(f,l)&&e.ref===n.ref)if(Pe=!1,n.pendingProps=l=f,sf(e,c))(e.flags&131072)!==0&&(Pe=!0);else return n.lanes=e.lanes,Wi(e,n,c)}return Wh(e,n,r,l,c)}function Vy(e,n,r){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ky(e,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&au(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):xh(),Ey(n);else return n.lanes=n.childLanes=536870912,ky(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(au(n,f.cachePool),Ng(n,f),Ta(),n.memoizedState=null):(e!==null&&au(n,null),xh(),Ta());return $e(e,n,c,r),n.child}function ky(e,n,r,l){var c=wh();return c=c===null?null:{parent:Ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&au(n,null),xh(),Ey(n),e!==null&&_l(e,n,l,!0),null}function Tu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Wh(e,n,r,l,c){return br(n),r=kh(e,n,r,l,void 0,c),l=Mh(),e!==null&&!Pe?(jh(e,n,c),Wi(e,n,c)):(Ft&&l&&ph(n),n.flags|=1,$e(e,n,r,c),n.child)}function My(e,n,r,l,c,f){return br(n),n.updateQueue=null,r=kg(n,l,r,c),Vg(e),l=Mh(),e!==null&&!Pe?(jh(e,n,f),Wi(e,n,f)):(Ft&&l&&ph(n),n.flags|=1,$e(e,n,r,f),n.child)}function jy(e,n,r,l,c){if(br(n),n.stateNode===null){var f=ls,_=r.contextType;typeof _=="object"&&_!==null&&(f=rn(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Dh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?rn(_):ls,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Xh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&$h.enqueueReplaceState(f,f.state,null),Rl(n,l,f,c),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Rr(r,T);f.props=R;var z=f.context,Q=r.contextType;_=ls,typeof Q=="object"&&Q!==null&&(_=rn(Q));var Z=r.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&Ay(n,f,l,_),ya=!1;var B=n.memoizedState;f.state=B,Rl(n,l,f,c),wl(),z=n.memoizedState,T||B!==z||ya?(typeof Z=="function"&&(Xh(n,r,Z,l),z=n.memoizedState),(R=ya||Ty(n,r,R,l,B,z,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(e,n),_=n.memoizedProps,Q=Rr(r,_),f.props=Q,Z=n.pendingProps,B=f.context,z=r.contextType,R=ls,typeof z=="object"&&z!==null&&(R=rn(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||B!==R)&&Ay(n,f,l,R),ya=!1,B=n.memoizedState,f.state=B,Rl(n,l,f,c),wl();var q=n.memoizedState;_!==Z||B!==q||ya||e!==null&&e.dependencies!==null&&nu(e.dependencies)?(typeof T=="function"&&(Xh(n,r,T,l),q=n.memoizedState),(Q=ya||Ty(n,r,Q,l,B,q,R)||e!==null&&e.dependencies!==null&&nu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Tu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ps(n,e.child,null,c),n.child=ps(n,null,r,c)):$e(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Wi(e,n,c),e}function Uy(e,n,r,l){return pl(),n.flags|=256,$e(e,n,r,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:Sg()}}function ef(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Fn),e}function Ly(e,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(c?Ea(n):Ta(),Ft){var T=ve,R;if(R=T){t:{for(R=T,T=Ei;R.nodeType!==8;){if(!T){T=null;break t}if(R=ri(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:vr!==null?{id:Fi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},R=Sn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,mn=n,ve=null,R=!0):R=!1}R||Tr(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Pf(T)?n.lanes=32:n.lanes=536870912,null;Zi(n)}return T=l.children,l=l.fallback,c?(Ta(),c=n.mode,T=Au({mode:"hidden",children:T},c),l=pr(l,c,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=tf(r),c.childLanes=ef(e,_,r),n.memoizedState=Jh,l):(Ea(n),nf(n,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ea(n),n.flags&=-257,n=af(e,n,r)):n.memoizedState!==null?(Ta(),n.child=e.child,n.flags|=128,n=null):(Ta(),c=l.fallback,T=n.mode,l=Au({mode:"visible",children:l.children},T),c=pr(c,T,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ps(n,e.child,null,r),l=n.child,l.memoizedState=tf(r),l.childLanes=ef(e,_,r),n.memoizedState=Jh,n=c);else if(Ea(n),Pf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),n=af(e,n,r)}else if(Pe||_l(e,n,r,!1),_=(r&e.childLanes)!==0,Pe||_){if(_=re,_!==null&&(l=r&-r,l=(l&42)!==0?1:Ht(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ss(e,l),On(_,e,l),Oy;T.data==="$?"||Af(),n=af(e,n,r)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ve=ri(T.nextSibling),mn=n,Ft=!0,Er=null,Ei=!1,e!==null&&(Hn[Gn++]=Fi,Hn[Gn++]=Qi,Hn[Gn++]=vr,Fi=e.id,Qi=e.overflow,vr=n),n=nf(n,l.children),n.flags|=4096);return n}return c?(Ta(),c=l.fallback,T=n.mode,R=e.child,z=R.sibling,l=Yi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Yi(z,c):(c=pr(c,T,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=e.child.memoizedState,T===null?T=tf(r):(R=T.cachePool,R!==null?(z=Ve._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Sg(),T={baseLanes:T.baseLanes|r,cachePool:R}),c.memoizedState=T,c.childLanes=ef(e,_,r),n.memoizedState=Jh,l):(Ea(n),r=e.child,e=r.sibling,r=Yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function nf(e,n){return n=Au({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Au(e,n){return e=Sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function af(e,n,r){return ps(n,e.child,null,r),e=nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Py(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Th(e.return,n,r)}function rf(e,n,r,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function zy(e,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if($e(e,n,l.children,r),l=ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Py(e,r,n);else if(e.tag===19)Py(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(tt(ke,l),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&vu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),rf(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&vu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}rf(n,!0,r,null,f);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ra|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(_l(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Yi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Yi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function sf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nu(e)))}function xT(e,n,r){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),ga(n,Ve,e.memoizedState.cache),pl();break;case 27:case 5:xn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ea(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ly(e,n,r):(Ea(n),e=Wi(e,n,r),e!==null?e.sibling:null);Ea(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_l(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return zy(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,Vy(e,n,r);case 24:ga(n,Ve,e.memoizedState.cache)}return Wi(e,n,r)}function By(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pe=!0;else{if(!sf(e,r)&&(n.flags&128)===0)return Pe=!1,xT(e,n,r);Pe=(e.flags&131072)!==0}else Pe=!1,Ft&&(n.flags&1048576)!==0&&pg(n,eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")mh(l)?(e=Rr(l,e),n.tag=1,n=jy(null,n,l,e,r)):(n.tag=0,n=Wh(null,n,l,e,r));else{if(l!=null){if(c=l.$$typeof,c===mt){n.tag=11,n=Iy(null,n,l,e,r);break t}else if(c===k){n.tag=14,n=xy(null,n,l,e,r);break t}}throw n=oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Wh(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Rr(l,n.pendingProps),jy(e,n,l,c,r);case 3:t:{if(qt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ch(e,n),Rl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,ga(n,Ve,l),l!==f.cache&&Ah(n,[Ve],r,!0),wl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Uy(e,n,l,r);break t}else if(l!==c){c=Bn(Error(s(424)),n),vl(c),n=Uy(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=ri(e.firstChild),mn=n,Ft=!0,Er=null,Ei=!0,r=_y(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(pl(),l===c){n=Wi(e,n,r);break t}$e(e,n,l,r)}n=n.child}return n;case 26:return Tu(e,n),e===null?(r=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,e=n.pendingProps,l=ju(yt.current).createElement(r),l[pe]=n,l[he]=e,We(l,r,e),Dt(l),n.stateNode=l):n.memoizedState=Yp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return xn(n),e===null&&Ft&&(l=n.stateNode=qp(n.type,n.pendingProps,yt.current),mn=n,Ei=!0,c=ve,Ia(n.type)?(zf=c,ve=ri(l.firstChild)):ve=c),$e(e,n,n.pendingProps.children,r),Tu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((c=l=ve)&&(l=rA(l,n.type,n.pendingProps,Ei),l!==null?(n.stateNode=l,mn=n,ve=ri(l.firstChild),Ei=!1,c=!0):c=!1),c||Tr(n)),xn(n),c=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,jf(c,f)?l=null:_!==null&&jf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=kh(e,n,bT,null,null,r),Kl._currentValue=c),Tu(e,n),$e(e,n,l,r),n.child;case 6:return e===null&&Ft&&((e=r=ve)&&(r=sA(r,n.pendingProps,Ei),r!==null?(n.stateNode=r,mn=n,ve=null,e=!0):e=!1),e||Tr(n)),null;case 13:return Ly(e,n,r);case 4:return qt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ps(n,null,l,r):$e(e,n,l,r),n.child;case 11:return Iy(e,n,n.type,n.pendingProps,r);case 7:return $e(e,n,n.pendingProps,r),n.child;case 8:return $e(e,n,n.pendingProps.children,r),n.child;case 12:return $e(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),$e(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,br(n),c=rn(c),l=l(c),n.flags|=1,$e(e,n,l,r),n.child;case 14:return xy(e,n,n.type,n.pendingProps,r);case 15:return Ny(e,n,n.type,n.pendingProps,r);case 19:return zy(e,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},e===null?(r=Au(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Yi(e.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Vy(e,n,r);case 24:return br(n),l=rn(Ve),e===null?(c=wh(),c===null&&(c=re,f=bh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Dh(n),ga(n,Ve,c)):((e.lanes&r)!==0&&(Ch(e,n),Rl(n,null,null,r),wl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ga(n,Ve,l)):(l=f.cache,ga(n,Ve,l),l!==c.cache&&Ah(n,[Ve],r,!0))),$e(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ji(e){e.flags|=4}function qy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(n)){if(n=Yn.current,n!==null&&((Pt&4194048)===Pt?Ti!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Ti))throw bl=Rh,wg;e.flags|=8192}}function bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ca():536870912,e.lanes|=n,Ts|=n)}function Vl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function NT(e,n,r){var l=n.pendingProps;switch(vh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xi(Ve),Ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yl(n)?Ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Eg())),ge(n),null;case 26:return r=n.memoizedState,e===null?(Ji(n),r!==null?(ge(n),qy(n,r)):(ge(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Ji(n),ge(n),qy(n,r)):(ge(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ji(n),ge(n),n.flags&=-16777217),null;case 27:En(n),r=yt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=ht.current,yl(n)?vg(n):(e=qp(c,l,r),n.stateNode=e,Ji(n))}return ge(n),null;case 5:if(En(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(e=ht.current,yl(n))vg(n);else{switch(c=ju(yt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}e[pe]=n,e[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(We(e,r,l),r){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ji(n)}}return ge(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=yt.current,yl(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=mn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Mp(e.nodeValue,r)),e||Tr(n)}else e=ju(e).createTextNode(l),e[pe]=n,n.stateNode=e}return ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else pl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),c=!1}else c=Eg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Zi(n),n):(Zi(n),null)}if(Zi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,e=e!==null&&e.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),bu(n,n.updateQueue),ge(n),null;case 4:return Ie(),e===null&&xf(n.stateNode.containerInfo),ge(n),null;case 10:return Xi(n.type),ge(n),null;case 19:if(nt(ke),c=n.memoizedState,c===null)return ge(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Vl(c,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=vu(e),f!==null){for(n.flags|=128,Vl(c,!1),e=f.updateQueue,n.updateQueue=e,bu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)yg(r,e),r=r.sibling;return tt(ke,ke.current&1|2),n.child}e=e.sibling}c.tail!==null&&Ge()>Ru&&(n.flags|=128,l=!0,Vl(c,!1),n.lanes=4194304)}else{if(!l)if(e=vu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,bu(n,e),Vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ft)return ge(n),null}else 2*Ge()-c.renderingStartTime>Ru&&r!==536870912&&(n.flags|=128,l=!0,Vl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ge(),n.sibling=null,e=ke.current,tt(ke,l?e&1|2:e&1),n):(ge(n),null);case 22:case 23:return Zi(n),Nh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),r=n.updateQueue,r!==null&&bu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&nt(Sr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Ve),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function VT(e,n){switch(vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ve),Ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return En(n),null;case 13:if(Zi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(ke),null;case 4:return Ie(),null;case 10:return Xi(n.type),null;case 22:case 23:return Zi(n),Nh(),e!==null&&nt(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ve),null;case 25:return null;default:return null}}function Hy(e,n){switch(vh(n),n.tag){case 3:Xi(Ve),Ie();break;case 26:case 27:case 5:En(n);break;case 4:Ie();break;case 13:Zi(n);break;case 19:nt(ke);break;case 10:Xi(n.type);break;case 22:case 23:Zi(n),Nh(),e!==null&&nt(Sr);break;case 24:Xi(Ve)}}function kl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(T){ie(n,n.return,T)}}function Aa(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=n;var R=r,z=T;try{z()}catch(Q){ie(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){ie(n,n.return,Q)}}function Gy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{xg(n,r)}catch(l){ie(e,e.return,l)}}}function Yy(e,n,r){r.props=Rr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){ie(e,n,l)}}function Ml(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){ie(e,n,c)}}function Ai(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ie(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ie(e,n,c)}else r.current=null}function Fy(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ie(e,e.return,c)}}function lf(e,n,r){try{var l=e.stateNode;tA(l,e.type,r,n),l[he]=n}catch(c){ie(e,e.return,c)}}function Qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&Ia(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(uf(e,n,r),e=e.sibling;e!==null;)uf(e,n,r),e=e.sibling}function Su(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Ia(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Su(e,n,r),e=e.sibling;e!==null;)Su(e,n,r),e=e.sibling}function Ky(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);We(n,l,r),n[pe]=e,n[he]=r}catch(f){ie(e,e.return,f)}}var ta=!1,Te=!1,cf=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function kT(e,n){if(e=e.containerInfo,kf=qu,e=sg(e),lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,T=-1,R=-1,z=0,Q=0,Z=e,B=null;e:for(;;){for(var q;Z!==r||c!==0&&Z.nodeType!==3||(T=_+c),Z!==f||l!==0&&Z.nodeType!==3||(R=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===e)break e;if(B===r&&++z===c&&(T=_),B===f&&++Q===l&&(R=_),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mf={focusedElem:e,selectionRange:r},qu=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Tt=Rr(r.type,c,r.elementType===r.type);e=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ie(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Lf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}}function $y(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ba(e,r),l&4&&kl(5,r);break;case 1:if(ba(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){ie(r,r.return,_)}else{var c=Rr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ie(r,r.return,_)}}l&64&&Gy(r),l&512&&Ml(r,r.return);break;case 3:if(ba(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xg(e,n)}catch(_){ie(r,r.return,_)}}break;case 27:n===null&&l&4&&Ky(r);case 26:case 5:ba(e,r),n===null&&l&4&&Fy(r),l&512&&Ml(r,r.return);break;case 12:ba(e,r);break;case 13:ba(e,r),l&4&&Jy(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=HT.bind(null,r),lA(e,r))));break;case 22:if(l=r.memoizedState!==null||ta,!l){n=n!==null&&n.memoizedState!==null||Te,c=ta;var f=Te;ta=l,(Te=n)&&!f?Sa(e,r,(r.subtreeFlags&8772)!==0):ba(e,r),ta=c,Te=f}break;case 30:break;default:ba(e,r)}}function Zy(e){var n=e.alternate;n!==null&&(e.alternate=null,Zy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,yn=!1;function ea(e,n,r){for(r=r.child;r!==null;)Wy(e,n,r),r=r.sibling}function Wy(e,n,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ce,r)}catch{}switch(r.tag){case 26:Te||Ai(r,n),ea(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Te||Ai(r,n);var l=fe,c=yn;Ia(r.type)&&(fe=r.stateNode,yn=!1),ea(e,n,r),Gl(r.stateNode),fe=l,yn=c;break;case 5:Te||Ai(r,n);case 6:if(l=fe,c=yn,fe=null,ea(e,n,r),fe=l,yn=c,fe!==null)if(yn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(r.stateNode)}catch(f){ie(r,n,f)}else try{fe.removeChild(r.stateNode)}catch(f){ie(r,n,f)}break;case 18:fe!==null&&(yn?(e=fe,zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Wl(e)):zp(fe,r.stateNode));break;case 4:l=fe,c=yn,fe=r.stateNode.containerInfo,yn=!0,ea(e,n,r),fe=l,yn=c;break;case 0:case 11:case 14:case 15:Te||Aa(2,r,n),Te||Aa(4,r,n),ea(e,n,r);break;case 1:Te||(Ai(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Yy(r,n,l)),ea(e,n,r);break;case 21:ea(e,n,r);break;case 22:Te=(l=Te)||r.memoizedState!==null,ea(e,n,r),Te=l;break;default:ea(e,n,r)}}function Jy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(r){ie(n,n.return,r)}}function MT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xy),n;default:throw Error(s(435,e.tag))}}function hf(e,n){var r=MT(e);n.forEach(function(l){var c=GT.bind(null,e,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Ia(T.type)){fe=T.stateNode,yn=!1;break t}break;case 5:fe=T.stateNode,yn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(fe===null)throw Error(s(160));Wy(f,_,c),fe=null,yn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)tp(n,e),n=n.sibling}var ai=null;function tp(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(n,e),Rn(e),l&4&&(Aa(3,e,e.return),kl(3,e),Aa(5,e,e.return));break;case 1:wn(n,e),Rn(e),l&512&&(Te||r===null||Ai(r,r.return)),l&64&&ta&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=ai;if(wn(n,e),Rn(e),l&512&&(Te||r===null||Ai(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),We(f,l,r),f[pe]=e,Dt(f),l=f;break t;case"link":var _=Kp("link","href",c).get(l+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break e}}f=c.createElement(l),We(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Kp("meta","content",c).get(l+(r.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break e}}f=c.createElement(l),We(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=e,Dt(f),l=f}e.stateNode=l}else Xp(c,e.type,e.stateNode);else e.stateNode=Qp(c,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Xp(c,e.type,e.stateNode):Qp(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lf(e,e.memoizedProps,r.memoizedProps)}break;case 27:wn(n,e),Rn(e),l&512&&(Te||r===null||Ai(r,r.return)),r!==null&&l&4&&lf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(wn(n,e),Rn(e),l&512&&(Te||r===null||Ai(r,r.return)),e.flags&32){c=e.stateNode;try{Un(c,"")}catch(q){ie(e,e.return,q)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,lf(e,c,r!==null?r.memoizedProps:c)),l&1024&&(cf=!0);break;case 6:if(wn(n,e),Rn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(q){ie(e,e.return,q)}}break;case 3:if(Pu=null,c=ai,ai=Uu(n.containerInfo),wn(n,e),ai=c,Rn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(q){ie(e,e.return,q)}cf&&(cf=!1,ep(e));break;case 4:l=ai,ai=Uu(e.stateNode.containerInfo),wn(n,e),Rn(e),ai=l;break;case 12:wn(n,e),Rn(e);break;case 13:wn(n,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pf=Ge()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hf(e,l)));break;case 22:c=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=ta,Q=Te;if(ta=z||c,Te=Q||R,wn(n,e),Te=Q,ta=z,Rn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||ta||Te||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var Z=R.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){ie(R,R.return,q)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){ie(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,hf(e,r))));break;case 19:wn(n,e),Rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hf(e,l)));break;case 30:break;case 21:break;default:wn(n,e),Rn(e)}}function Rn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Qy(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=of(e);Su(e,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(Un(_,""),r.flags&=-33);var T=of(e);Su(e,T,_);break;case 3:case 4:var R=r.stateNode.containerInfo,z=of(e);uf(e,z,R);break;default:throw Error(s(161))}}catch(Q){ie(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ba(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$y(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Aa(4,n,n.return),Dr(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Yy(n,n.return,r),Dr(n);break;case 27:Gl(n.stateNode);case 26:case 5:Ai(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Sa(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Sa(c,f,r),kl(4,f);break;case 1:if(Sa(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){ie(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Ig(R[c],T)}catch(z){ie(l,l.return,z)}}r&&_&64&&Gy(f),Ml(f,f.return);break;case 27:Ky(f);case 26:case 5:Sa(c,f,r),r&&l===null&&_&4&&Fy(f),Ml(f,f.return);break;case 12:Sa(c,f,r);break;case 13:Sa(c,f,r),r&&_&4&&Jy(c,f);break;case 22:f.memoizedState===null&&Sa(c,f,r),Ml(f,f.return);break;case 30:break;default:Sa(c,f,r)}n=n.sibling}}function ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&El(r))}function df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function bi(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,r,l),n=n.sibling}function np(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:bi(e,n,r,l),c&2048&&kl(9,n);break;case 1:bi(e,n,r,l);break;case 3:bi(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(c&2048){bi(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ie(n,n.return,R)}}else bi(e,n,r,l);break;case 13:bi(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?bi(e,n,r,l):jl(e,n):f._visibility&2?bi(e,n,r,l):(f._visibility|=2,vs(e,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&ff(_,n);break;case 24:bi(e,n,r,l),c&2048&&df(n.alternate,n);break;default:bi(e,n,r,l)}}function vs(e,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,T=r,R=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:vs(f,_,T,R,c),kl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?vs(f,_,T,R,c):jl(f,_):(Q._visibility|=2,vs(f,_,T,R,c)),c&&z&2048&&ff(_.alternate,_);break;case 24:vs(f,_,T,R,c),c&&z&2048&&df(_.alternate,_);break;default:vs(f,_,T,R,c)}n=n.sibling}}function jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:jl(r,l),c&2048&&ff(l.alternate,l);break;case 24:jl(r,l),c&2048&&df(l.alternate,l);break;default:jl(r,l)}n=n.sibling}}var Ul=8192;function _s(e){if(e.subtreeFlags&Ul)for(e=e.child;e!==null;)ip(e),e=e.sibling}function ip(e){switch(e.tag){case 26:_s(e),e.flags&Ul&&e.memoizedState!==null&&EA(ai,e.memoizedState,e.memoizedProps);break;case 5:_s(e);break;case 3:case 4:var n=ai;ai=Uu(e.stateNode.containerInfo),_s(e),ai=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,_s(e),Ul=n):_s(e));break;default:_s(e)}}function ap(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ze=l,sp(l,e)}ap(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,wu(e)):Ll(e);break;default:Ll(e)}}function wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ze=l,sp(l,e)}ap(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Aa(8,n,n.return),wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,wu(n));break;default:wu(n)}e=e.sibling}}function sp(e,n){for(;ze!==null;){var r=ze;switch(r.tag){case 0:case 11:case 15:Aa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ze=l;else t:for(r=e;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Zy(l),l===r){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var jT={getCacheForType:function(e){var n=rn(Ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},UT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,re=null,kt=null,Pt=0,$t=0,Dn=null,wa=!1,Es=!1,mf=!1,na=0,_e=0,Ra=0,Cr=0,gf=0,Fn=0,Ts=0,Pl=null,pn=null,yf=!1,pf=0,Ru=1/0,Du=null,Da=null,Ze=0,Ca=null,As=null,bs=0,vf=0,_f=null,lp=null,zl=0,Ef=null;function Cn(){if((Xt&2)!==0&&Pt!==0)return Pt&-Pt;if(G.T!==null){var e=cs;return e!==0?e:Df()}return hi()}function op(){Fn===0&&(Fn=(Pt&536870912)===0||Ft?tr():536870912);var e=Yn.current;return e!==null&&(e.flags|=32),Fn}function On(e,n,r){(e===re&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),Oa(e,Pt,Fn,!1)),kn(e,r),((Xt&2)===0||e!==re)&&(e===re&&((Xt&2)===0&&(Cr|=r),_e===4&&Oa(e,Pt,Fn,!1)),Si(e))}function up(e,n,r){if((Xt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&e.expiredLanes)===0||ui(e,n),c=l?zT(e,n):bf(e,n,!0),f=l;do{if(c===0){Es&&!l&&Oa(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!LT(r)){c=bf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;c=Pl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ss(T,_).flags|=256),_=bf(T,_,!1),_!==2){if(mf&&!R){T.errorRecoveryDisabledLanes|=f,Cr|=f,c=4;break t}f=pn,pn=c,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){Ss(e,0),Oa(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Oa(l,n,Fn,!wa);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=pf+300-Ge(),10<c)){if(Oa(l,n,Fn,!wa),ki(l,0,!0)!==0)break t;l.timeoutHandle=Lp(cp.bind(null,l,r,pn,Du,yf,n,Fn,Cr,Ts,wa,f,2,-0,0),c);break t}cp(l,r,pn,Du,yf,n,Fn,Cr,Ts,wa,f,0,-0,0)}}break}while(!0);Si(e)}function cp(e,n,r,l,c,f,_,T,R,z,Q,Z,B,q){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:_A},ip(n),Z=TA(),Z!==null)){e.cancelPendingCommit=Z(pp.bind(null,e,n,f,r,l,c,_,T,R,Q,1,B,q)),Oa(e,f,_,!z);return}pp(e,n,f,r,l,c,_,T,R)}function LT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!bn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oa(e,n,r,l){n&=~gf,n&=~Cr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-be(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&se(e,r,n)}function Cu(){return(Xt&6)===0?(Bl(0),!1):!0}function Tf(){if(kt!==null){if($t===0)var e=kt.return;else e=kt,Ki=Ar=null,Uh(e),ys=null,xl=0,e=kt;for(;e!==null;)Hy(e.alternate,e),e=e.return;kt=null}}function Ss(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,nA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Tf(),re=e,kt=r=Yi(e.current,null),Pt=n,$t=0,Dn=null,wa=!1,Es=ui(e,n),mf=!1,Ts=Fn=gf=Cr=Ra=_e=0,pn=Pl=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-be(l),f=1<<c;n|=e[c],l&=~f}return na=n,$o(),r}function hp(e,n){It=null,G.H=gu,n===Al||n===ru?(n=Cg(),$t=3):n===wg?(n=Cg(),$t=4):$t=n===Oy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,kt===null&&(_e=1,Eu(e,Bn(n,e.current)))}function fp(){var e=G.H;return G.H=gu,e===null?gu:e}function dp(){var e=G.A;return G.A=jT,e}function Af(){_e=4,wa||(Pt&4194048)!==Pt&&Yn.current!==null||(Es=!0),(Ra&134217727)===0&&(Cr&134217727)===0||re===null||Oa(re,Pt,Fn,!1)}function bf(e,n,r){var l=Xt;Xt|=2;var c=fp(),f=dp();(re!==e||Pt!==n)&&(Du=null,Ss(e,n)),n=!1;var _=_e;t:do try{if($t!==0&&kt!==null){var T=kt,R=Dn;switch($t){case 8:Tf(),_=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(n=!0);var z=$t;if($t=0,Dn=null,ws(e,T,R,z),r&&Es){_=0;break t}break;default:z=$t,$t=0,Dn=null,ws(e,T,R,z)}}PT(),_=_e;break}catch(Q){hp(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Ki=Ar=null,Xt=l,G.H=c,G.A=f,kt===null&&(re=null,Pt=0,$o()),_}function PT(){for(;kt!==null;)mp(kt)}function zT(e,n){var r=Xt;Xt|=2;var l=fp(),c=dp();re!==e||Pt!==n?(Du=null,Ru=Ge()+500,Ss(e,n)):Es=ui(e,n);t:do try{if($t!==0&&kt!==null){n=kt;var f=Dn;e:switch($t){case 1:$t=0,Dn=null,ws(e,n,f,1);break;case 2:case 9:if(Rg(f)){$t=0,Dn=null,gp(n);break}n=function(){$t!==2&&$t!==9||re!==e||($t=7),Si(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Rg(f)?($t=0,Dn=null,gp(n)):($t=0,Dn=null,ws(e,n,f,7));break;case 5:var _=null;switch(kt.tag){case 26:_=kt.memoizedState;case 5:case 27:var T=kt;if(!_||$p(_)){$t=0,Dn=null;var R=T.sibling;if(R!==null)kt=R;else{var z=T.return;z!==null?(kt=z,Ou(z)):kt=null}break e}}$t=0,Dn=null,ws(e,n,f,5);break;case 6:$t=0,Dn=null,ws(e,n,f,6);break;case 8:Tf(),_e=6;break t;default:throw Error(s(462))}}BT();break}catch(Q){hp(e,Q)}while(!0);return Ki=Ar=null,G.H=l,G.A=c,Xt=r,kt!==null?0:(re=null,Pt=0,$o(),_e)}function BT(){for(;kt!==null&&!$n();)mp(kt)}function mp(e){var n=By(e.alternate,e,na);e.memoizedProps=e.pendingProps,n===null?Ou(e):kt=n}function gp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=My(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=My(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Uh(n);default:Hy(r,n),n=kt=yg(n,na),n=By(r,n,na)}e.memoizedProps=e.pendingProps,n===null?Ou(e):kt=n}function ws(e,n,r,l){Ki=Ar=null,Uh(n),ys=null,xl=0;var c=n.return;try{if(IT(e,c,n,r,Pt)){_e=1,Eu(e,Bn(r,e.current)),kt=null;return}}catch(f){if(c!==null)throw kt=c,f;_e=1,Eu(e,Bn(r,e.current)),kt=null;return}n.flags&32768?(Ft||l===1?e=!0:Es||(Pt&536870912)!==0?e=!1:(wa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,e)):Ou(n)}function Ou(e){var n=e;do{if((n.flags&32768)!==0){yp(n,wa);return}e=n.return;var r=NT(n.alternate,n,na);if(r!==null){kt=r;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=e}while(n!==null);_e===0&&(_e=5)}function yp(e,n){do{var r=VT(e.alternate,e);if(r!==null){r.flags&=32767,kt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){kt=e;return}kt=e=r}while(e!==null);_e=6,kt=null}function pp(e,n,r,l,c,f,_,T,R){e.cancelPendingCommit=null;do Iu();while(Ze!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=fh,Se(e,r,f,_,T,R),e===re&&(kt=re=null,Pt=0),As=n,Ca=e,bs=r,vf=f,_f=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YT(xi,function(){return Ap(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,_=Xt,Xt|=4;try{kT(e,n,r)}finally{Xt=_,it.p=c,G.T=l}}Ze=1,vp(),_p(),Ep()}}function vp(){if(Ze===1){Ze=0;var e=Ca,n=As,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Xt;Xt|=4;try{tp(n,e);var f=Mf,_=sg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&rg(T.ownerDocument.documentElement,T)){if(R!==null&&lh(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),Tt=T.textContent.length,pt=Math.min(R.start,Tt),te=R.end===void 0?pt:Math.min(R.end,Tt);!q.extend&&pt>te&&(_=te,te=pt,pt=_);var j=ag(T,pt),V=ag(T,te);if(j&&V&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var P=Z.createRange();P.setStart(j.node,j.offset),q.removeAllRanges(),pt>te?(q.addRange(P),q.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),q.addRange(P))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var K=Z[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}qu=!!kf,Mf=kf=null}finally{Xt=c,it.p=l,G.T=r}}e.current=n,Ze=2}}function _p(){if(Ze===2){Ze=0;var e=Ca,n=As,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Xt;Xt|=4;try{$y(e,n.alternate,n)}finally{Xt=c,it.p=l,G.T=r}}Ze=3}}function Ep(){if(Ze===4||Ze===3){Ze=0,He();var e=Ca,n=As,r=bs,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,As=Ca=null,Tp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Da=null),Ye(r),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{G.T=n,it.p=c}}(bs&3)!==0&&Iu(),Si(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===Ef?zl++:(zl=0,Ef=e):zl=0,Bl(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Iu(e){return vp(),_p(),Ep(),Ap()}function Ap(){if(Ze!==5)return!1;var e=Ca,n=vf;vf=0;var r=Ye(bs),l=G.T,c=it.p;try{it.p=32>r?32:r,G.T=null,r=_f,_f=null;var f=Ca,_=bs;if(Ze=0,As=Ca=null,bs=0,(Xt&6)!==0)throw Error(s(331));var T=Xt;if(Xt|=4,rp(f.current),np(f,f.current,_,r),Xt=T,Bl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ce,f)}catch{}return!0}finally{it.p=c,G.T=l,Tp(e,n)}}function bp(e,n,r){n=Bn(r,n),n=Zh(e.stateNode,n,2),e=va(e,n,2),e!==null&&(kn(e,2),Si(e))}function ie(e,n,r){if(e.tag===3)bp(e,e,r);else for(;n!==null;){if(n.tag===3){bp(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Da===null||!Da.has(l))){e=Bn(r,e),r=Dy(2),l=va(n,r,2),l!==null&&(Cy(r,l,n,e),kn(l,2),Si(l));break}}n=n.return}}function Sf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new UT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(mf=!0,c.add(r),e=qT.bind(null,e,n,r),n.then(e,e))}function qT(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,re===e&&(Pt&r)===r&&(_e===4||_e===3&&(Pt&62914560)===Pt&&300>Ge()-pf?(Xt&2)===0&&Ss(e,0):gf|=r,Ts===Pt&&(Ts=0)),Si(e)}function Sp(e,n){n===0&&(n=ca()),e=ss(e,n),e!==null&&(kn(e,n),Si(e))}function HT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Sp(e,r)}function GT(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sp(e,r)}function YT(e,n){return Xn(e,n)}var xu=null,Rs=null,wf=!1,Nu=!1,Rf=!1,Or=0;function Si(e){e!==Rs&&e.next===null&&(Rs===null?xu=Rs=e:Rs=Rs.next=e),Nu=!0,wf||(wf=!0,QT())}function Bl(e,n){if(!Rf&&Nu){Rf=!0;do for(var r=!1,l=xu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=c&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cp(l,f))}else f=Pt,f=ki(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ui(l,f)||(r=!0,Cp(l,f));l=l.next}while(r);Rf=!1}}function FT(){wp()}function wp(){Nu=wf=!1;var e=0;Or!==0&&(eA()&&(e=Or),Or=0);for(var n=Ge(),r=null,l=xu;l!==null;){var c=l.next,f=Rp(l,n);f===0?(l.next=null,r===null?xu=c:r.next=c,c===null&&(Rs=r)):(r=l,(e!==0||(f&3)!==0)&&(Nu=!0)),l=c}Bl(e)}function Rp(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-be(f),T=1<<_,R=c[_];R===-1?((T&r)===0||(T&l)!==0)&&(c[_]=Mi(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=re,r=Pt,r=ki(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ee(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ui(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ee(l),Ye(r)){case 2:case 8:r=ua;break;case 32:r=xi;break;case 268435456:r=Ni;break;default:r=xi}return l=Dp.bind(null,e),r=Xn(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ee(l),e.callbackPriority=2,e.callbackNode=null,2}function Dp(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Iu()&&e.callbackNode!==r)return null;var l=Pt;return l=ki(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(up(e,l,n),Rp(e,Ge()),e.callbackNode!=null&&e.callbackNode===r?Dp.bind(null,e):null)}function Cp(e,n){if(Iu())return null;up(e,n,!0)}function QT(){iA(function(){(Xt&6)!==0?Xn(oa,FT):wp()})}function Df(){return Or===0&&(Or=tr()),Or}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kr(""+e)}function Ip(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function KT(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Op((c[he]||null).action),_=l.submitter;_&&(n=(n=_[he]||null)?Op(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Xr("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Or!==0){var R=_?Ip(c,_):new FormData(c);Fh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=_?Ip(c,_):new FormData(c),Fh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Cf=0;Cf<hh.length;Cf++){var Of=hh[Cf],XT=Of.toLowerCase(),$T=Of[0].toUpperCase()+Of.slice(1);ii(XT,"on"+$T)}ii(ug,"onAnimationEnd"),ii(cg,"onAnimationIteration"),ii(hg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(dT,"onTransitionRun"),ii(mT,"onTransitionStart"),ii(gT,"onTransitionCancel"),ii(fg,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function xp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(Q){_u(Q)}c.currentTarget=null,f=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(Q){_u(Q)}c.currentTarget=null,f=R}}}}function Mt(e,n){var r=n[ji];r===void 0&&(r=n[ji]=new Set);var l=e+"__bubble";r.has(l)||(Np(n,e,2,!1),r.add(l))}function If(e,n,r){var l=0;n&&(l|=4),Np(r,e,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[Vu]){e[Vu]=!0,Qe.forEach(function(r){r!=="selectionchange"&&(ZT.has(r)||If(r,!1,e),If(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,If("selectionchange",!1,n))}}function Np(e,n,r,l){switch(nv(n)){case 2:var c=SA;break;case 8:c=wA;break;default:c=Yf}r=c.bind(null,n,r,e),c=void 0,!Pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Nf(e,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=ti(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=f=_;continue t}T=T.parentNode}}l=l.return}Mo(function(){var z=f,Q=Ln(r),Z=[];t:{var B=dg.get(e);if(B!==void 0){var q=Xr,Tt=e;switch(e){case"keypress":if(gi(r)===0)break t;case"keydown":case"keyup":q=es;break;case"focusin":Tt="focus",q=Wr;break;case"focusout":Tt="blur",q=Wr;break;case"beforeblur":case"afterblur":q=Wr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ho;break;case ug:case cg:case hg:q=Jr;break;case fg:q=Yo;break;case"scroll":case"scrollend":q=jo;break;case"wheel":q=ns;break;case"copy":case"cut":case"paste":q=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=Qo}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),j=pt?B!==null?B+"Capture":null:B;pt=[];for(var V=z,P;V!==null;){var K=V;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||j===null||(K=or(V,j),K!=null&&pt.push(Hl(V,K,P))),te)break;V=V.return}0<pt.length&&(B=new q(B,Tt,null,r,Q),Z.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&r!==Pi&&(Tt=r.relatedTarget||r.fromElement)&&(ti(Tt)||Tt[Fe]))break t;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Tt=r.relatedTarget||r.toElement,q=z,Tt=Tt?ti(Tt):null,Tt!==null&&(te=h(Tt),pt=Tt.tag,Tt!==te||pt!==5&&pt!==27&&pt!==6)&&(Tt=null)):(q=null,Tt=z),q!==Tt)){if(pt=zn,K="onMouseLeave",j="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(pt=fl,K="onPointerLeave",j="onPointerEnter",V="pointer"),te=q==null?B:At(q),P=Tt==null?B:At(Tt),B=new pt(K,V+"leave",q,r,Q),B.target=te,B.relatedTarget=P,K=null,ti(Q)===z&&(pt=new pt(j,V+"enter",Tt,r,Q),pt.target=P,pt.relatedTarget=te,K=pt),te=K,q&&Tt)e:{for(pt=q,j=Tt,V=0,P=pt;P;P=Ds(P))V++;for(P=0,K=j;K;K=Ds(K))P++;for(;0<V-P;)pt=Ds(pt),V--;for(;0<P-V;)j=Ds(j),P--;for(;V--;){if(pt===j||j!==null&&pt===j.alternate)break e;pt=Ds(pt),j=Ds(j)}pt=null}else pt=null;q!==null&&Vp(Z,B,q,pt,!1),Tt!==null&&te!==null&&Vp(Z,te,Tt,pt,!0)}}t:{if(B=z?At(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ot=Wm;else if(Ne(B))if(Jm)ot=cT;else{ot=oT;var Vt=lT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&rl(z.elementType)&&(ot=Wm):ot=uT;if(ot&&(ot=ot(e,z))){Gi(Z,ot,r,Q);break t}Vt&&Vt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&da(B,"number",B.value)}switch(Vt=z?At(z):window,e){case"focusin":(Ne(Vt)||Vt.contentEditable==="true")&&(is=Vt,oh=z,gl=null);break;case"focusout":gl=oh=is=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,lg(Z,r,Q);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":lg(Z,r,Q)}var ft;if(vi)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Ut?H(e,r)&&(vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(Ut||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ut&&(ft=ll()):(mi=Q,ma="value"in mi?mi.value:mi.textContent,Ut=!0)),Vt=ku(z,vt),0<Vt.length&&(vt=new cl(vt,e,null,r,Q),Z.push({event:vt,listeners:Vt}),ft?vt.data=ft:(ft=et(r),ft!==null&&(vt.data=ft)))),(ft=m?xe(e,r):Lt(e,r))&&(vt=ku(z,"onBeforeInput"),0<vt.length&&(Vt=new cl("onBeforeInput","beforeinput",null,r,Q),Z.push({event:Vt,listeners:vt}),Vt.data=ft)),KT(Z,e,z,r,Q)}xp(Z,n)})}function Hl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ku(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=or(e,r),c!=null&&l.unshift(Hl(e,c,f)),c=or(e,n),c!=null&&l.push(Hl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vp(e,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var T=r,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,c?(z=or(r,f),z!=null&&_.unshift(Hl(r,z,R))):c||(z=or(r,f),z!=null&&_.push(Hl(r,z,R)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var WT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(JT,"")}function Mp(e,n){return n=kp(n),kp(e)===n}function Mu(){}function Jt(e,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Un(e,""+l);break;case"className":fi(e,"class",l);break;case"tabIndex":fi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(e,r,l);break;case"style":al(e,l,f);break;case"data":if(n!=="object"){fi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Kr(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Kr(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Kr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eh.get(r)||r,fa(e,r,l))}}function Vf(e,n,r,l,c,f){switch(r){case"style":al(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Un(e,l):(typeof l=="number"||typeof l=="bigint")&&Un(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!je.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):fa(e,r,l)}}}function We(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,f,_,r,null)}}c&&Jt(e,n,"srcSet",r.srcSet,r,null),l&&Jt(e,n,"src",r.src,r,null);return;case"input":Mt("invalid",e);var T=f=_=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":_=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Jt(e,n,l,Q,r,null)}}rr(e,f,T,R,z,_,c,!1),Qr(e);return;case"select":Mt("invalid",e),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(T=r[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,n,c,T,r,null)}n=f,r=_,e.multiple=!!l,n!=null?Li(e,!!l,n,!1):r!=null&&Li(e,!!l,r,!0);return;case"textarea":Mt("invalid",e),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,n,_,T,r,null)}sr(e,l,c,f),Qr(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,n,R,l,r,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)Mt(ql[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,l,r,null)}return;default:if(rl(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Vf(e,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Jt(e,n,T,l,r,null))}function tA(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,T=null,R=null,z=null,Q=null;for(q in r){var Z=r[q];if(r.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(q)||Jt(e,n,q,null,l,Z)}}for(var B in l){var q=l[B];if(Z=r[B],l.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Z&&Jt(e,n,B,q,l,Z)}}An(e,_,T,R,z,Q,f,c);return;case"select":q=_=T=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==R&&Jt(e,n,c,f,l,R)}n=T,r=_,l=q,B!=null?Li(e,!!r,B,!1):!!l!=!!r&&(n!=null?Li(e,!!r,n,!0):Li(e,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(T in r)if(c=r[T],r.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,n,T,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(e,n,_,c,l,f)}Zt(e,B,q);return;case"option":for(var Tt in r)if(B=r[Tt],r.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:Jt(e,n,Tt,null,l,B)}for(R in l)if(B=l[R],q=r[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Jt(e,n,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)B=r[pt],r.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,n,pt,null,l,B);for(z in l)if(B=l[z],q=r[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Jt(e,n,z,B,l,q)}return;default:if(rl(n)){for(var te in r)B=r[te],r.hasOwnProperty(te)&&B!==void 0&&!l.hasOwnProperty(te)&&Vf(e,n,te,void 0,l,B);for(Q in l)B=l[Q],q=r[Q],!l.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||Vf(e,n,Q,B,l,q);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Jt(e,n,j,null,l,B);for(Z in l)B=l[Z],q=r[Z],!l.hasOwnProperty(Z)||B===q||B==null&&q==null||Jt(e,n,Z,B,l,q)}var kf=null,Mf=null;function ju(e){return e.nodeType===9?e:e.ownerDocument}function jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=null;function eA(){var e=window.event;return e&&e.type==="popstate"?e===Uf?!1:(Uf=e,!0):(Uf=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(aA)}:Lp;function aA(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function zp(e,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=e.ownerDocument;if(r&1&&Gl(_.documentElement),r&2&&Gl(_.body),r&4)for(r=_.head,Gl(r),_=r.firstChild;_;){var T=_.nextSibling,R=_.nodeName;_[Wn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=T}}if(c===0){e.removeChild(f),Wl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Wl(n)}function Lf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Lf(r),Jn(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function rA(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ri(e.nextSibling),e===null)break}return null}function sA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ri(e.nextSibling),e===null))return null;return e}function Pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lA(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ri(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var zf=null;function Bp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function qp(e,n,r){switch(n=ju(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jn(e)}var Qn=new Map,Hp=new Set;function Uu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=it.d;it.d={f:oA,r:uA,D:cA,C:hA,L:fA,m:dA,X:gA,S:mA,M:yA};function oA(){var e=ia.f(),n=Cu();return e||n}function uA(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?uy(n):ia.r(e)}var Cs=typeof document>"u"?null:document;function Gp(e,n,r){var l=Cs;if(l&&typeof n=="string"&&n){var c=we(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Hp.has(c)||(Hp.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),We(n,"link",e),Dt(n),l.head.appendChild(n)))}}function cA(e){ia.D(e),Gp("dns-prefetch",e,null)}function hA(e,n){ia.C(e,n),Gp("preconnect",e,n)}function fA(e,n,r){ia.L(e,n,r);var l=Cs;if(l&&e&&n){var c='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+we(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+we(r.imageSizes)+'"]')):c+='[href="'+we(e)+'"]';var f=c;switch(n){case"style":f=Os(e);break;case"script":f=Is(e)}Qn.has(f)||(e=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Qn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Yl(f))||n==="script"&&l.querySelector(Fl(f))||(n=l.createElement("link"),We(n,"link",e),Dt(n),l.head.appendChild(n)))}}function dA(e,n){ia.m(e,n);var r=Cs;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Is(e)}if(!Qn.has(f)&&(e=E({rel:"modulepreload",href:e},n),Qn.set(f,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Fl(f)))return}l=r.createElement("link"),We(l,"link",e),Dt(l),r.head.appendChild(l)}}}function mA(e,n,r){ia.S(e,n,r);var l=Cs;if(l&&e){var c=Nt(l).hoistableStyles,f=Os(e);n=n||"default";var _=c.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Yl(f)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Qn.get(f))&&Bf(e,r);var R=_=l.createElement("link");Dt(R),We(R,"link",e),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(f,_)}}}function gA(e,n){ia.X(e,n);var r=Cs;if(r&&e){var l=Nt(r).hoistableScripts,c=Is(e),f=l.get(c);f||(f=r.querySelector(Fl(c)),f||(e=E({src:e,async:!0},n),(n=Qn.get(c))&&qf(e,n),f=r.createElement("script"),Dt(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yA(e,n){ia.M(e,n);var r=Cs;if(r&&e){var l=Nt(r).hoistableScripts,c=Is(e),f=l.get(c);f||(f=r.querySelector(Fl(c)),f||(e=E({src:e,async:!0,type:"module"},n),(n=Qn.get(c))&&qf(e,n),f=r.createElement("script"),Dt(f),We(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Yp(e,n,r,l){var c=(c=yt.current)?Uu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Os(r.href),r=Nt(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Os(r.href);var f=Nt(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(Yl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(e,r),f||pA(c,e,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(r),r=Nt(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Os(e){return'href="'+we(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function Fp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function pA(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),We(n,"link",r),Dt(n),e.head.appendChild(n))}function Is(e){return'[src="'+we(e)+'"]'}function Fl(e){return"script[async]"+e}function Qp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+we(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var c=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Dt(l),We(l,"style",c),Lu(l,r.precedence,e),n.instance=l;case"stylesheet":c=Os(r.href);var f=e.querySelector(Yl(c));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;l=Fp(r),(c=Qn.get(c))&&Bf(l,c),f=(e.ownerDocument||e).createElement("link"),Dt(f);var _=f;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),We(f,"link",l),n.state.loading|=4,Lu(f,r.precedence,e),n.instance=f;case"script":return f=Is(r.src),(c=e.querySelector(Fl(f)))?(n.instance=c,Dt(c),c):(l=r,(c=Qn.get(f))&&(l=E({},r),qf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Dt(c),We(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,r.precedence,e));return n.instance}function Lu(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Bf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Pu=null;function Kp(e,n,r){if(Pu===null){var l=new Map,c=Pu=new Map;c.set(r,l)}else c=Pu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Wn]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Xp(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function vA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function _A(){}function EA(e,n,r){if(Ql===null)throw Error(s(475));var l=Ql;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Os(r.href),f=e.querySelector(Yl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Dt(f);return}f=e.ownerDocument||e,r=Fp(r),(c=Qn.get(c))&&Bf(r,c),f=f.createElement("link"),Dt(f);var _=f;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),We(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function TA(){if(Ql===null)throw Error(s(475));var e=Ql;return e.stylesheets&&e.count===0&&Hf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Hf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bu=null;function Hf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bu=new Map,n.forEach(AA,e),Bu=null,zu.call(e))}function AA(e,n){if(!(n.state.loading&4)){var r=Bu.get(e);if(r)var l=r.get(null);else{r=new Map,Bu.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=zu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Kl={$$typeof:at,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function bA(e,n,r,l,c,f,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zp(e,n,r,l,c,f,_,T,R,z,Q,Z){return e=new bA(e,n,r,_,T,R,z,Z),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Dh(f),e}function Wp(e){return e?(e=ls,e):ls}function Jp(e,n,r,l,c,f){c=Wp(c),l.context===null?l.context=c:l.pendingContext=c,l=pa(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=va(e,l,n),r!==null&&(On(r,e,n),Sl(r,e,n))}function tv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Gf(e,n){tv(e,n),(e=e.alternate)&&tv(e,n)}function ev(e){if(e.tag===13){var n=ss(e,67108864);n!==null&&On(n,e,67108864),Gf(e,67108864)}}var qu=!0;function SA(e,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,Yf(e,n,r,l)}finally{it.p=f,G.T=c}}function wA(e,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,Yf(e,n,r,l)}finally{it.p=f,G.T=c}}function Yf(e,n,r,l){if(qu){var c=Ff(l);if(c===null)Nf(e,n,l,Hu,r),iv(e,l);else if(DA(c,e,n,r,l))l.stopPropagation();else if(iv(e,l),n&4&&-1<RA.indexOf(e)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Tn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-be(_);T.entanglements[1]|=R,_&=~R}Si(f),(Xt&6)===0&&(Ru=Ge()+500,Bl(0))}}break;case 13:T=ss(f,2),T!==null&&On(T,f,2),Cu(),Gf(f,2)}if(f=Ff(l),f===null&&Nf(e,n,l,Hu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Nf(e,n,l,null,r)}}function Ff(e){return e=Ln(e),Qf(e)}var Hu=null;function Qf(e){if(Hu=null,e=ti(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Hu=e,null}function nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case oa:return 2;case ua:return 8;case xi:case tl:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Kf=!1,xa=null,Na=null,Va=null,Xl=new Map,$l=new Map,ka=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(e,n){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(e,n,r,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&ev(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function DA(e,n,r,l,c){switch(n){case"focusin":return xa=Zl(xa,e,n,r,l,c),!0;case"dragenter":return Na=Zl(Na,e,n,r,l,c),!0;case"mouseover":return Va=Zl(Va,e,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,e,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,$l.set(f,Zl($l.get(f)||null,e,n,r,l,c)),!0}return!1}function av(e){var n=ti(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ha(e.priority,function(){if(r.tag===13){var l=Cn();l=Ht(l);var c=ss(r,l);c!==null&&On(c,r,l),Gf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ff(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Pi=l,r.target.dispatchEvent(l),Pi=null}else return n=jn(r),n!==null&&ev(n),e.blockedOn=r,!1;n.shift()}return!0}function rv(e,n,r){Gu(e)&&r.delete(n)}function CA(){Kf=!1,xa!==null&&Gu(xa)&&(xa=null),Na!==null&&Gu(Na)&&(Na=null),Va!==null&&Gu(Va)&&(Va=null),Xl.forEach(rv),$l.forEach(rv)}function Yu(e,n){e.blockedOn===n&&(e.blockedOn=null,Kf||(Kf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,CA)))}var Fu=null;function sv(e){Fu!==e&&(Fu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fu===e&&(Fu=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Qf(l||r)===null)continue;break}var f=jn(r);f!==null&&(e.splice(n,3),n-=3,Fh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Wl(e){function n(R){return Yu(R,e)}xa!==null&&Yu(xa,e),Na!==null&&Yu(Na,e),Va!==null&&Yu(Va,e),Xl.forEach(n),$l.forEach(n);for(var r=0;r<ka.length;r++){var l=ka[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ka.length&&(r=ka[0],r.blockedOn===null);)av(r),r.blockedOn===null&&ka.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[he]||null;if(typeof f=="function")_||sv(r);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[he]||null)T=_.formAction;else if(Qf(c)!==null)continue}else T=_.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),sv(r)}}}function Xf(e){this._internalRoot=e}Qu.prototype.render=Xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Cn();Jp(r,l,e,n,null,null)},Qu.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jp(e.current,2,null,e,null,null),Cu(),n[Fe]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=hi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ka.length&&n!==0&&n<ka[r].priority;r++);ka.splice(r,0,e),r===0&&av(e)}};var lv=t.version;if(lv!=="19.1.0")throw Error(s(527,lv,"19.1.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var OA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ce=Ku.inject(OA),Yt=Ku}catch{}}return to.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",c=by,f=Sy,_=wy,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Zp(e,1,!1,null,null,r,l,c,f,_,T,null),e[Fe]=n.current,xf(e),new Xf(n)},to.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,c="",f=by,_=Sy,T=wy,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=Zp(e,1,!0,n,r??null,l,c,f,_,T,R,z),n.context=Wp(null),r=n.current,l=Cn(),l=Ht(l),c=pa(l),c.callback=null,va(r,c,l),r=l,n.current.lanes=r,kn(n,r),Si(n),e[Fe]=n.current,xf(e),new Qu(n)},to.version="19.1.0",to}var pv;function zA(){if(pv)return Wf.exports;pv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Wf.exports=PA(),Wf.exports}var BA=zA();function Q_(a){var t,i,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var o=a.length;for(t=0;t<o;t++)a[t]&&(i=Q_(a[t]))&&(s&&(s+=" "),s+=i)}else for(i in a)a[i]&&(s&&(s+=" "),s+=i);return s}function Ic(){for(var a,t,i=0,s="",o=arguments.length;i<o;i++)(a=arguments[i])&&(t=Q_(a))&&(s&&(s+=" "),s+=t);return s}var nd,vv;function qA(){if(vv)return nd;vv=1;const a=(y,p,E,w)=>{if(E==="length"||E==="prototype"||E==="arguments"||E==="caller")return;const O=Object.getOwnPropertyDescriptor(y,E),L=Object.getOwnPropertyDescriptor(p,E);!t(O,L)&&w||Object.defineProperty(y,E,L)},t=function(y,p){return y===void 0||y.configurable||y.writable===p.writable&&y.enumerable===p.enumerable&&y.configurable===p.configurable&&(y.writable||y.value===p.value)},i=(y,p)=>{const E=Object.getPrototypeOf(p);E!==Object.getPrototypeOf(y)&&Object.setPrototypeOf(y,E)},s=(y,p)=>`/* Wrapped ${y}*/
${p}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),h=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=(y,p,E)=>{const w=E===""?"":`with ${E.trim()}() `,O=s.bind(null,w,p.toString());Object.defineProperty(O,"name",h),Object.defineProperty(y,"toString",{...o,value:O})};return nd=(y,p,{ignoreNonConfigurable:E=!1}={})=>{const{name:w}=y;for(const O of Reflect.ownKeys(p))a(y,p,O,E);return i(y,p),d(y,p,w),y},nd}var eo={exports:{}},id,_v;function HA(){return _v||(_v=1,id=()=>{const a={};return a.promise=new Promise((t,i)=>{a.resolve=t,a.reject=i}),a}),id}var Xu=eo.exports,Ev;function GA(){return Ev||(Ev=1,function(a,t){var i=Xu&&Xu.__awaiter||function(d,g,y,p){return new(y||(y=Promise))(function(E,w){function O(X){try{Y(p.next(X))}catch(F){w(F)}}function L(X){try{Y(p.throw(X))}catch(F){w(F)}}function Y(X){X.done?E(X.value):new y(function(F){F(X.value)}).then(O,L)}Y((p=p.apply(d,g||[])).next())})},s=Xu&&Xu.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(HA());function h(d,g="maxAge"){let y,p,E;const w=()=>i(this,void 0,void 0,function*(){if(y!==void 0)return;const Y=X=>i(this,void 0,void 0,function*(){E=o.default();const F=X[1][g]-Date.now();if(F<=0){d.delete(X[0]),E.resolve();return}return y=X[0],p=setTimeout(()=>{d.delete(X[0]),E&&E.resolve()},F),typeof p.unref=="function"&&p.unref(),E.promise});try{for(const X of d)yield Y(X)}catch{}y=void 0}),O=()=>{y=void 0,p!==void 0&&(clearTimeout(p),p=void 0),E!==void 0&&(E.reject(void 0),E=void 0)},L=d.set.bind(d);return d.set=(Y,X)=>{d.has(Y)&&d.delete(Y);const F=L(Y,X);return y&&y===Y&&O(),w(),F},w(),d}t.default=h,a.exports=h,a.exports.default=h}(eo,eo.exports)),eo.exports}var ad,Tv;function YA(){if(Tv)return ad;Tv=1;const a=qA(),t=GA(),i=new WeakMap,s=new WeakMap,o=(h,{cacheKey:d,cache:g=new Map,maxAge:y}={})=>{typeof y=="number"&&t(g);const p=function(...E){const w=d?d(E):E[0],O=g.get(w);if(O)return O.data;const L=h.apply(this,E);return g.set(w,{data:L,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),L};return a(p,h,{ignoreNonConfigurable:!0}),s.set(p,g),p};return o.decorator=(h={})=>(d,g,y)=>{const p=d[g];if(typeof p!="function")throw new TypeError("The decorated value must be a function");delete y.value,delete y.writable,y.get=function(){if(!i.has(this)){const E=o(p,h);return i.set(this,E),E}return i.get(this)}},o.clear=h=>{const d=s.get(h);if(!d)throw new TypeError("Can't clear a function that was not memoized!");if(typeof d.clear!="function")throw new TypeError("The cache Map can't be cleared!");d.clear()},ad=o,ad}var FA=YA();const K_=xA(FA);function QA(a){return typeof a=="string"}function KA(a,t,i){return i.indexOf(a)===t}function XA(a){return a.toLowerCase()===a}function Av(a){return a.indexOf(",")===-1?a:a.split(",")}function _d(a){if(!a)return a;if(a==="C"||a==="posix"||a==="POSIX")return"en-US";if(a.indexOf(".")!==-1){var t=a.split(".")[0],i=t===void 0?"":t;return _d(i)}if(a.indexOf("@")!==-1){var s=a.split("@")[0],i=s===void 0?"":s;return _d(i)}if(a.indexOf("-")===-1||!XA(a))return a;var o=a.split("-"),h=o[0],d=o[1],g=d===void 0?"":d;return"".concat(h,"-").concat(g.toUpperCase())}function $A(a){var t=a===void 0?{}:a,i=t.useFallbackLocale,s=i===void 0?!0:i,o=t.fallbackLocale,h=o===void 0?"en-US":o,d=[];if(typeof navigator<"u"){for(var g=navigator.languages||[],y=[],p=0,E=g;p<E.length;p++){var w=E[p];y=y.concat(Av(w))}var O=navigator.language,L=O&&Av(O);d=d.concat(y,L)}return s&&d.push(h),d.filter(QA).map(_d).filter(KA)}var ZA=K_($A,{cacheKey:JSON.stringify});function WA(a){return ZA(a)[0]||null}var X_=K_(WA,{cacheKey:JSON.stringify});function la(a,t,i){return function(o,h){h===void 0&&(h=i);var d=a(o)+h;return t(d)}}function To(a){return function(i){return new Date(a(i).getTime()-1)}}function Ao(a,t){return function(s){return[a(s),t(s)]}}function me(a){if(a instanceof Date)return a.getFullYear();if(typeof a=="number")return a;var t=parseInt(a,10);if(typeof a=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(a,"."))}function Ka(a){if(a instanceof Date)return a.getMonth();throw new Error("Failed to get month from date: ".concat(a,"."))}function xc(a){if(a instanceof Date)return a.getDate();throw new Error("Failed to get year from date: ".concat(a,"."))}function Fs(a){var t=me(a),i=t+(-t+1)%100,s=new Date;return s.setFullYear(i,0,1),s.setHours(0,0,0,0),s}var JA=la(me,Fs,-100),$_=la(me,Fs,100),im=To($_),tb=la(me,im,-100),Z_=Ao(Fs,im);function Xa(a){var t=me(a),i=t+(-t+1)%10,s=new Date;return s.setFullYear(i,0,1),s.setHours(0,0,0,0),s}var W_=la(me,Xa,-10),am=la(me,Xa,10),Nc=To(am),J_=la(me,Nc,-10),t0=Ao(Xa,Nc);function Qs(a){var t=me(a),i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}var e0=la(me,Qs,-1),rm=la(me,Qs,1),Vc=To(rm),n0=la(me,Vc,-1),eb=Ao(Qs,Vc);function sm(a,t){return function(s,o){o===void 0&&(o=t);var h=me(s),d=Ka(s)+o,g=new Date;return g.setFullYear(h,d,1),g.setHours(0,0,0,0),a(g)}}function Mr(a){var t=me(a),i=Ka(a),s=new Date;return s.setFullYear(t,i,1),s.setHours(0,0,0,0),s}var i0=sm(Mr,-1),lm=sm(Mr,1),bo=To(lm),a0=sm(bo,-1),nb=Ao(Mr,bo);function ib(a,t){return function(s,o){o===void 0&&(o=t);var h=me(s),d=Ka(s),g=xc(s)+o,y=new Date;return y.setFullYear(h,d,g),y.setHours(0,0,0,0),a(y)}}function So(a){var t=me(a),i=Ka(a),s=xc(a),o=new Date;return o.setFullYear(t,i,s),o.setHours(0,0,0,0),o}var ab=ib(So,1),om=To(ab),rb=Ao(So,om);function r0(a){return xc(bo(a))}var en={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},sb={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},um=[0,1,2,3,4,5,6],rd=new Map;function lb(a){return function(i,s){var o=i||X_();rd.has(o)||rd.set(o,new Map);var h=rd.get(o);return h.has(a)||h.set(a,new Intl.DateTimeFormat(o||void 0,a).format),h.get(a)(s)}}function ob(a){var t=new Date(a);return new Date(t.setHours(12))}function jr(a){return function(t,i){return lb(a)(t,ob(i))}}var ub={day:"numeric"},cb={day:"numeric",month:"long",year:"numeric"},hb={month:"long"},fb={month:"long",year:"numeric"},db={weekday:"short"},mb={weekday:"long"},gb={year:"numeric"},yb=jr(ub),pb=jr(cb),vb=jr(hb),s0=jr(fb),_b=jr(db),Eb=jr(mb),kc=jr(gb),Tb=um[0],Ab=um[5],bv=um[6];function co(a,t){t===void 0&&(t=en.ISO_8601);var i=a.getDay();switch(t){case en.ISO_8601:return(i+6)%7;case en.ISLAMIC:return(i+1)%7;case en.HEBREW:case en.GREGORY:return i;default:throw new Error("Unsupported calendar type.")}}function bb(a){var t=Fs(a);return me(t)}function Sb(a){var t=Xa(a);return me(t)}function Ed(a,t){t===void 0&&(t=en.ISO_8601);var i=me(a),s=Ka(a),o=a.getDate()-co(a,t);return new Date(i,s,o)}function wb(a,t){t===void 0&&(t=en.ISO_8601);var i=t===en.GREGORY?en.GREGORY:en.ISO_8601,s=Ed(a,t),o=me(a)+1,h,d;do h=new Date(o,0,i===en.ISO_8601?4:1),d=Ed(h,t),o-=1;while(a<d);return Math.round((s.getTime()-d.getTime())/(864e5*7))+1}function Nr(a,t){switch(a){case"century":return Fs(t);case"decade":return Xa(t);case"year":return Qs(t);case"month":return Mr(t);case"day":return So(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function Rb(a,t){switch(a){case"century":return JA(t);case"decade":return W_(t);case"year":return e0(t);case"month":return i0(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function l0(a,t){switch(a){case"century":return $_(t);case"decade":return am(t);case"year":return rm(t);case"month":return lm(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function Db(a,t){switch(a){case"decade":return W_(t,-100);case"year":return e0(t,-10);case"month":return i0(t,-12);default:throw new Error("Invalid rangeType: ".concat(a))}}function Cb(a,t){switch(a){case"decade":return am(t,100);case"year":return rm(t,10);case"month":return lm(t,12);default:throw new Error("Invalid rangeType: ".concat(a))}}function o0(a,t){switch(a){case"century":return im(t);case"decade":return Nc(t);case"year":return Vc(t);case"month":return bo(t);case"day":return om(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function Ob(a,t){switch(a){case"century":return tb(t);case"decade":return J_(t);case"year":return n0(t);case"month":return a0(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function Ib(a,t){switch(a){case"decade":return J_(t,-100);case"year":return n0(t,-10);case"month":return a0(t,-12);default:throw new Error("Invalid rangeType: ".concat(a))}}function Sv(a,t){switch(a){case"century":return Z_(t);case"decade":return t0(t);case"year":return eb(t);case"month":return nb(t);case"day":return rb(t);default:throw new Error("Invalid rangeType: ".concat(a))}}function xb(a,t,i){var s=[t,i].sort(function(o,h){return o.getTime()-h.getTime()});return[Nr(a,s[0]),o0(a,s[1])]}function u0(a,t,i){return i.map(function(s){return(t||kc)(a,s)}).join("  ")}function Nb(a,t,i){return u0(a,t,Z_(i))}function c0(a,t,i){return u0(a,t,t0(i))}function Vb(a){return a.getDay()===new Date().getDay()}function h0(a,t){t===void 0&&(t=en.ISO_8601);var i=a.getDay();switch(t){case en.ISLAMIC:case en.HEBREW:return i===Ab||i===bv;case en.ISO_8601:case en.GREGORY:return i===bv||i===Tb;default:throw new Error("Unsupported calendar type.")}}var wi="react-calendar__navigation";function kb(a){var t=a.activeStartDate,i=a.drillUp,s=a.formatMonthYear,o=s===void 0?s0:s,h=a.formatYear,d=h===void 0?kc:h,g=a.locale,y=a.maxDate,p=a.minDate,E=a.navigationAriaLabel,w=E===void 0?"":E,O=a.navigationAriaLive,L=a.navigationLabel,Y=a.next2AriaLabel,X=Y===void 0?"":Y,F=a.next2Label,st=F===void 0?"":F,ut=a.nextAriaLabel,at=ut===void 0?"":ut,mt=a.nextLabel,dt=mt===void 0?"":mt,_t=a.prev2AriaLabel,k=_t===void 0?"":_t,b=a.prev2Label,D=b===void 0?"":b,N=a.prevAriaLabel,M=N===void 0?"":N,x=a.prevLabel,C=x===void 0?"":x,oe=a.setActiveStartDate,ae=a.showDoubleView,G=a.view,it=a.views,ct=it.indexOf(G)>0,Ot=G!=="century",I=Rb(G,t),$=Ot?Db(G,t):void 0,nt=l0(G,t),tt=Ot?Cb(G,t):void 0,ht=function(){if(I.getFullYear()<0)return!0;var ee=Ob(G,t);return p&&p>=ee}(),Rt=Ot&&function(){if($.getFullYear()<0)return!0;var ee=Ib(G,t);return p&&p>=ee}(),yt=y&&y<nt,ue=Ot&&y&&y<tt;function qt(){oe(I,"prev")}function Ie(){oe($,"prev2")}function xn(){oe(nt,"next")}function En(){oe(tt,"next2")}function Nn(ee){var $n=function(){switch(G){case"century":return Nb(g,d,ee);case"decade":return c0(g,d,ee);case"year":return d(g,ee);case"month":return o(g,ee);default:throw new Error("Invalid view: ".concat(G,"."))}}();return L?L({date:ee,label:$n,locale:g||X_()||void 0,view:G}):$n}function Xn(){var ee="".concat(wi,"__label");return S.jsxs("button",{"aria-label":w,"aria-live":O,className:ee,disabled:!ct,onClick:i,style:{flexGrow:1},type:"button",children:[S.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--from"),children:Nn(t)}),ae?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"".concat(ee,"__divider"),children:"  "}),S.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--to"),children:Nn(nt)})]}):null]})}return S.jsxs("div",{className:wi,children:[D!==null&&Ot?S.jsx("button",{"aria-label":k,className:"".concat(wi,"__arrow ").concat(wi,"__prev2-button"),disabled:Rt,onClick:Ie,type:"button",children:D}):null,C!==null&&S.jsx("button",{"aria-label":M,className:"".concat(wi,"__arrow ").concat(wi,"__prev-button"),disabled:ht,onClick:qt,type:"button",children:C}),Xn(),dt!==null&&S.jsx("button",{"aria-label":at,className:"".concat(wi,"__arrow ").concat(wi,"__next-button"),disabled:yt,onClick:xn,type:"button",children:dt}),st!==null&&Ot?S.jsx("button",{"aria-label":X,className:"".concat(wi,"__arrow ").concat(wi,"__next2-button"),disabled:ue,onClick:En,type:"button",children:st}):null]})}var Ms=function(){return Ms=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Ms.apply(this,arguments)},Mb=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function wv(a){return"".concat(a,"%")}function cm(a){var t=a.children,i=a.className,s=a.count,o=a.direction,h=a.offset,d=a.style,g=a.wrap,y=Mb(a,["children","className","count","direction","offset","style","wrap"]);return S.jsx("div",Ms({className:i,style:Ms({display:"flex",flexDirection:o,flexWrap:g?"wrap":"nowrap"},d)},y,{children:bt.Children.map(t,function(p,E){var w=h&&E===0?wv(100*h/s):null;return bt.cloneElement(p,Ms(Ms({},p.props),{style:{flexBasis:wv(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:w,marginInlineStart:w,marginInlineEnd:0}}))})}))}function jb(a,t,i){return t&&t>a?t:i&&i<a?i:a}function ho(a,t){return t[0]<=a&&t[1]>=a}function Ub(a,t){return a[0]<=t[0]&&a[1]>=t[1]}function f0(a,t){return ho(a[0],t)||ho(a[1],t)}function Rv(a,t,i){var s=f0(t,a),o=[];if(s){o.push(i);var h=ho(a[0],t),d=ho(a[1],t);h&&o.push("".concat(i,"Start")),d&&o.push("".concat(i,"End")),h&&d&&o.push("".concat(i,"BothEnds"))}return o}function Lb(a){return Array.isArray(a)?a[0]!==null&&a[1]!==null:a!==null}function Pb(a){if(!a)throw new Error("args is required");var t=a.value,i=a.date,s=a.hover,o="react-calendar__tile",h=[o];if(!i)return h;var d=new Date,g=function(){if(Array.isArray(i))return i;var L=a.dateType;if(!L)throw new Error("dateType is required when date is not an array of two dates");return Sv(L,i)}();if(ho(d,g)&&h.push("".concat(o,"--now")),!t||!Lb(t))return h;var y=function(){if(Array.isArray(t))return t;var L=a.valueType;if(!L)throw new Error("valueType is required when value is not an array of two dates");return Sv(L,t)}();Ub(y,g)?h.push("".concat(o,"--active")):f0(y,g)&&h.push("".concat(o,"--hasActive"));var p=Rv(y,g,"".concat(o,"--range"));h.push.apply(h,p);var E=Array.isArray(t)?t:[t];if(s&&E.length===1){var w=s>y[0]?[y[0],s]:[s,y[0]],O=Rv(w,g,"".concat(o,"--hover"));h.push.apply(h,O)}return h}function Mc(a){for(var t=a.className,i=a.count,s=i===void 0?3:i,o=a.dateTransform,h=a.dateType,d=a.end,g=a.hover,y=a.offset,p=a.renderTile,E=a.start,w=a.step,O=w===void 0?1:w,L=a.value,Y=a.valueType,X=[],F=E;F<=d;F+=O){var st=o(F);X.push(p({classes:Pb({date:st,dateType:h,hover:g,value:L,valueType:Y}),date:st}))}return S.jsx(cm,{className:t,count:s,offset:y,wrap:!0,children:X})}function jc(a){var t=a.activeStartDate,i=a.children,s=a.classes,o=a.date,h=a.formatAbbr,d=a.locale,g=a.maxDate,y=a.maxDateTransform,p=a.minDate,E=a.minDateTransform,w=a.onClick,O=a.onMouseOver,L=a.style,Y=a.tileClassName,X=a.tileContent,F=a.tileDisabled,st=a.view,ut=bt.useMemo(function(){var mt={activeStartDate:t,date:o,view:st};return typeof Y=="function"?Y(mt):Y},[t,o,Y,st]),at=bt.useMemo(function(){var mt={activeStartDate:t,date:o,view:st};return typeof X=="function"?X(mt):X},[t,o,X,st]);return S.jsxs("button",{className:Ic(s,ut),disabled:p&&E(p)>o||g&&y(g)<o||(F==null?void 0:F({activeStartDate:t,date:o,view:st})),onClick:w?function(mt){return w(o,mt)}:void 0,onFocus:O?function(){return O(o)}:void 0,onMouseOver:O?function(){return O(o)}:void 0,style:L,type:"button",children:[h?S.jsx("abbr",{"aria-label":h(d,o),children:i}):i,at]})}var Td=function(){return Td=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Td.apply(this,arguments)},zb=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i},Dv="react-calendar__century-view__decades__decade";function Bb(a){var t=a.classes,i=t===void 0?[]:t,s=a.currentCentury,o=a.formatYear,h=o===void 0?kc:o,d=zb(a,["classes","currentCentury","formatYear"]),g=d.date,y=d.locale,p=[];return i&&p.push.apply(p,i),p.push(Dv),Fs(g).getFullYear()!==s&&p.push("".concat(Dv,"--neighboringCentury")),S.jsx(jc,Td({},d,{classes:p,maxDateTransform:Nc,minDateTransform:Xa,view:"century",children:c0(y,h,g)}))}var Ad=function(){return Ad=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Ad.apply(this,arguments)},Cv=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function qb(a){var t=a.activeStartDate,i=a.hover,s=a.showNeighboringCentury,o=a.value,h=a.valueType,d=Cv(a,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),g=bb(t),y=g+(s?119:99);return S.jsx(Mc,{className:"react-calendar__century-view__decades",dateTransform:Xa,dateType:"decade",end:y,hover:i,renderTile:function(p){var E=p.date,w=Cv(p,["date"]);return S.jsx(Bb,Ad({},d,w,{activeStartDate:t,currentCentury:g,date:E}),E.getTime())},start:g,step:10,value:o,valueType:h})}var bd=function(){return bd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},bd.apply(this,arguments)};function Hb(a){function t(){return S.jsx(qb,bd({},a))}return S.jsx("div",{className:"react-calendar__century-view",children:t()})}var Sd=function(){return Sd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Sd.apply(this,arguments)},Gb=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i},Ov="react-calendar__decade-view__years__year";function Yb(a){var t=a.classes,i=t===void 0?[]:t,s=a.currentDecade,o=a.formatYear,h=o===void 0?kc:o,d=Gb(a,["classes","currentDecade","formatYear"]),g=d.date,y=d.locale,p=[];return i&&p.push.apply(p,i),p.push(Ov),Xa(g).getFullYear()!==s&&p.push("".concat(Ov,"--neighboringDecade")),S.jsx(jc,Sd({},d,{classes:p,maxDateTransform:Vc,minDateTransform:Qs,view:"decade",children:h(y,g)}))}var wd=function(){return wd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},wd.apply(this,arguments)},Iv=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function Fb(a){var t=a.activeStartDate,i=a.hover,s=a.showNeighboringDecade,o=a.value,h=a.valueType,d=Iv(a,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),g=Sb(t),y=g+(s?11:9);return S.jsx(Mc,{className:"react-calendar__decade-view__years",dateTransform:Qs,dateType:"year",end:y,hover:i,renderTile:function(p){var E=p.date,w=Iv(p,["date"]);return S.jsx(Yb,wd({},d,w,{activeStartDate:t,currentDecade:g,date:E}),E.getTime())},start:g,value:o,valueType:h})}var Rd=function(){return Rd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Rd.apply(this,arguments)};function Qb(a){function t(){return S.jsx(Fb,Rd({},a))}return S.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Dd=function(){return Dd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Dd.apply(this,arguments)},Kb=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i},xv=function(a,t,i){if(i||arguments.length===2)for(var s=0,o=t.length,h;s<o;s++)(h||!(s in t))&&(h||(h=Array.prototype.slice.call(t,0,s)),h[s]=t[s]);return a.concat(h||Array.prototype.slice.call(t))},Xb="react-calendar__year-view__months__month";function $b(a){var t=a.classes,i=t===void 0?[]:t,s=a.formatMonth,o=s===void 0?vb:s,h=a.formatMonthYear,d=h===void 0?s0:h,g=Kb(a,["classes","formatMonth","formatMonthYear"]),y=g.date,p=g.locale;return S.jsx(jc,Dd({},g,{classes:xv(xv([],i,!0),[Xb],!1),formatAbbr:d,maxDateTransform:bo,minDateTransform:Mr,view:"year",children:o(p,y)}))}var Cd=function(){return Cd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Cd.apply(this,arguments)},Nv=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function Zb(a){var t=a.activeStartDate,i=a.hover,s=a.value,o=a.valueType,h=Nv(a,["activeStartDate","hover","value","valueType"]),d=0,g=11,y=me(t);return S.jsx(Mc,{className:"react-calendar__year-view__months",dateTransform:function(p){var E=new Date;return E.setFullYear(y,p,1),Mr(E)},dateType:"month",end:g,hover:i,renderTile:function(p){var E=p.date,w=Nv(p,["date"]);return S.jsx($b,Cd({},h,w,{activeStartDate:t,date:E}),E.getTime())},start:d,value:s,valueType:o})}var Od=function(){return Od=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Od.apply(this,arguments)};function Wb(a){function t(){return S.jsx(Zb,Od({},a))}return S.jsx("div",{className:"react-calendar__year-view",children:t()})}var Id=function(){return Id=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Id.apply(this,arguments)},Jb=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i},sd="react-calendar__month-view__days__day";function tS(a){var t=a.calendarType,i=a.classes,s=i===void 0?[]:i,o=a.currentMonthIndex,h=a.formatDay,d=h===void 0?yb:h,g=a.formatLongDate,y=g===void 0?pb:g,p=Jb(a,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=p.date,w=p.locale,O=[];return s&&O.push.apply(O,s),O.push(sd),h0(E,t)&&O.push("".concat(sd,"--weekend")),E.getMonth()!==o&&O.push("".concat(sd,"--neighboringMonth")),S.jsx(jc,Id({},p,{classes:O,formatAbbr:y,maxDateTransform:om,minDateTransform:So,view:"month",children:d(w,E)}))}var xd=function(){return xd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},xd.apply(this,arguments)},Vv=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function eS(a){var t=a.activeStartDate,i=a.calendarType,s=a.hover,o=a.showFixedNumberOfWeeks,h=a.showNeighboringMonth,d=a.value,g=a.valueType,y=Vv(a,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=me(t),E=Ka(t),w=o||h,O=co(t,i),L=w?0:O,Y=(w?-O:0)+1,X=function(){if(o)return Y+6*7-1;var F=r0(t);if(h){var st=new Date;st.setFullYear(p,E,F),st.setHours(0,0,0,0);var ut=7-co(st,i)-1;return F+ut}return F}();return S.jsx(Mc,{className:"react-calendar__month-view__days",count:7,dateTransform:function(F){var st=new Date;return st.setFullYear(p,E,F),So(st)},dateType:"day",hover:s,end:X,renderTile:function(F){var st=F.date,ut=Vv(F,["date"]);return S.jsx(tS,xd({},y,ut,{activeStartDate:t,calendarType:i,currentMonthIndex:E,date:st}),st.getTime())},offset:L,start:Y,value:d,valueType:g})}var d0="react-calendar__month-view__weekdays",ld="".concat(d0,"__weekday");function nS(a){for(var t=a.calendarType,i=a.formatShortWeekday,s=i===void 0?_b:i,o=a.formatWeekday,h=o===void 0?Eb:o,d=a.locale,g=a.onMouseLeave,y=new Date,p=Mr(y),E=me(p),w=Ka(p),O=[],L=1;L<=7;L+=1){var Y=new Date(E,w,L-co(p,t)),X=h(d,Y);O.push(S.jsx("div",{className:Ic(ld,Vb(Y)&&"".concat(ld,"--current"),h0(Y,t)&&"".concat(ld,"--weekend")),children:S.jsx("abbr",{"aria-label":X,title:X,children:s(d,Y).replace(".","")})},L))}return S.jsx(cm,{className:d0,count:7,onFocus:g,onMouseOver:g,children:O})}var hc=function(){return hc=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},hc.apply(this,arguments)},kv=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i},Mv="react-calendar__tile";function iS(a){var t=a.onClickWeekNumber,i=a.weekNumber,s=S.jsx("span",{children:i});if(t){var o=a.date,h=a.onClickWeekNumber,d=a.weekNumber,g=kv(a,["date","onClickWeekNumber","weekNumber"]);return S.jsx("button",hc({},g,{className:Mv,onClick:function(y){return h(d,o,y)},type:"button",children:s}))}else{a.date,a.onClickWeekNumber,a.weekNumber;var g=kv(a,["date","onClickWeekNumber","weekNumber"]);return S.jsx("div",hc({},g,{className:Mv,children:s}))}}function aS(a){var t=a.activeStartDate,i=a.calendarType,s=a.onClickWeekNumber,o=a.onMouseLeave,h=a.showFixedNumberOfWeeks,d=function(){if(h)return 6;var p=r0(t),E=co(t,i),w=p-(7-E);return 1+Math.ceil(w/7)}(),g=function(){for(var p=me(t),E=Ka(t),w=xc(t),O=[],L=0;L<d;L+=1)O.push(Ed(new Date(p,E,w+L*7),i));return O}(),y=g.map(function(p){return wb(p,i)});return S.jsx(cm,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:y.map(function(p,E){var w=g[E];if(!w)throw new Error("date is not defined");return S.jsx(iS,{date:w,onClickWeekNumber:s,weekNumber:p},p)})})}var Nd=function(){return Nd=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Nd.apply(this,arguments)},rS=function(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i};function sS(a){if(a)for(var t=0,i=Object.entries(sb);t<i.length;t++){var s=i[t],o=s[0],h=s[1];if(h.includes(a))return o}return en.ISO_8601}function lS(a){var t=a.activeStartDate,i=a.locale,s=a.onMouseLeave,o=a.showFixedNumberOfWeeks,h=a.calendarType,d=h===void 0?sS(i):h,g=a.formatShortWeekday,y=a.formatWeekday,p=a.onClickWeekNumber,E=a.showWeekNumbers,w=rS(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function O(){return S.jsx(nS,{calendarType:d,formatShortWeekday:g,formatWeekday:y,locale:i,onMouseLeave:s})}function L(){return E?S.jsx(aS,{activeStartDate:t,calendarType:d,onClickWeekNumber:p,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function Y(){return S.jsx(eS,Nd({calendarType:d},w))}var X="react-calendar__month-view";return S.jsx("div",{className:Ic(X,E?"".concat(X,"--weekNumbers"):""),children:S.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[L(),S.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[O(),Y()]})]})})}var js=function(){return js=Object.assign||function(a){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},js.apply(this,arguments)},$u="react-calendar",ac=["century","decade","year","month"],oS=["decade","year","month","day"],hm=new Date;hm.setFullYear(1,0,1);hm.setHours(0,0,0,0);var uS=new Date(864e13);function no(a){return a instanceof Date?a:new Date(a)}function m0(a,t){return ac.slice(ac.indexOf(a),ac.indexOf(t)+1)}function cS(a,t,i){var s=m0(t,i);return s.indexOf(a)!==-1}function fm(a,t,i){return a&&cS(a,t,i)?a:i}function g0(a){var t=ac.indexOf(a);return oS[t]}function hS(a,t){var i=Array.isArray(a)?a[t]:a;if(!i)return null;var s=no(i);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(a));return s}function y0(a,t){var i=a.value,s=a.minDate,o=a.maxDate,h=a.maxDetail,d=hS(i,t);if(!d)return null;var g=g0(h),y=function(){switch(t){case 0:return Nr(g,d);case 1:return o0(g,d);default:throw new Error("Invalid index value: ".concat(t))}}();return jb(y,s,o)}var dm=function(a){return y0(a,0)},p0=function(a){return y0(a,1)},fS=function(a){return[dm,p0].map(function(t){return t(a)})};function v0(a){var t=a.maxDate,i=a.maxDetail,s=a.minDate,o=a.minDetail,h=a.value,d=a.view,g=fm(d,o,i),y=dm({value:h,minDate:s,maxDate:t,maxDetail:i})||new Date;return Nr(g,y)}function dS(a){var t=a.activeStartDate,i=a.defaultActiveStartDate,s=a.defaultValue,o=a.defaultView,h=a.maxDate,d=a.maxDetail,g=a.minDate,y=a.minDetail,p=a.value,E=a.view,w=fm(E,y,d),O=t||i;return O?Nr(w,O):v0({maxDate:h,maxDetail:d,minDate:g,minDetail:y,value:p||s,view:E||o})}function od(a){return a&&(!Array.isArray(a)||a.length===1)}function Zu(a,t){return a instanceof Date&&t instanceof Date&&a.getTime()===t.getTime()}var mS=bt.forwardRef(function(t,i){var s=t.activeStartDate,o=t.allowPartialRange,h=t.calendarType,d=t.className,g=t.defaultActiveStartDate,y=t.defaultValue,p=t.defaultView,E=t.formatDay,w=t.formatLongDate,O=t.formatMonth,L=t.formatMonthYear,Y=t.formatShortWeekday,X=t.formatWeekday,F=t.formatYear,st=t.goToRangeStartOnSelect,ut=st===void 0?!0:st,at=t.inputRef,mt=t.locale,dt=t.maxDate,_t=dt===void 0?uS:dt,k=t.maxDetail,b=k===void 0?"month":k,D=t.minDate,N=D===void 0?hm:D,M=t.minDetail,x=M===void 0?"century":M,C=t.navigationAriaLabel,oe=t.navigationAriaLive,ae=t.navigationLabel,G=t.next2AriaLabel,it=t.next2Label,ct=t.nextAriaLabel,Ot=t.nextLabel,I=t.onActiveStartDateChange,$=t.onChange,nt=t.onClickDay,tt=t.onClickDecade,ht=t.onClickMonth,Rt=t.onClickWeekNumber,yt=t.onClickYear,ue=t.onDrillDown,qt=t.onDrillUp,Ie=t.onViewChange,xn=t.prev2AriaLabel,En=t.prev2Label,Nn=t.prevAriaLabel,Xn=t.prevLabel,ee=t.returnValue,$n=ee===void 0?"start":ee,He=t.selectRange,Ge=t.showDoubleView,Pr=t.showFixedNumberOfWeeks,oa=t.showNavigation,ua=oa===void 0?!0:oa,xi=t.showNeighboringCentury,tl=t.showNeighboringDecade,Ni=t.showNeighboringMonth,Wa=Ni===void 0?!0:Ni,zr=t.showWeekNumbers,ce=t.tileClassName,Yt=t.tileContent,cn=t.tileDisabled,be=t.value,Ja=t.view,Br=bt.useState(g),Vi=Br[0],Vn=Br[1],oi=bt.useState(null),Tn=oi[0],ki=oi[1],ui=bt.useState(Array.isArray(y)?y.map(function(At){return At!==null?no(At):null}):y!=null?no(y):null),Mi=ui[0],tr=ui[1],ca=bt.useState(p),Zn=ca[0],kn=ca[1],Se=s||Vi||dS({activeStartDate:s,defaultActiveStartDate:g,defaultValue:y,defaultView:p,maxDate:_t,maxDetail:b,minDate:N,minDetail:x,value:be,view:Ja}),se=function(){var At=function(){return He&&od(Mi)?Mi:be!==void 0?be:Mi}();return At?Array.isArray(At)?At.map(function(Nt){return Nt!==null?no(Nt):null}):At!==null?no(At):null:null}(),ci=g0(b),Ht=fm(Ja||Zn,x,b),Ye=m0(x,b),hi=He?Tn:null,ha=Ye.indexOf(Ht)<Ye.length-1,ne=Ye.indexOf(Ht)>0,pe=bt.useCallback(function(At){var Nt=function(){switch($n){case"start":return dm;case"end":return p0;case"range":return fS;default:throw new Error("Invalid returnValue.")}}();return Nt({maxDate:_t,maxDetail:b,minDate:N,value:At})},[_t,b,N,$n]),he=bt.useCallback(function(At,Nt){Vn(At);var Dt={action:Nt,activeStartDate:At,value:se,view:Ht};I&&!Zu(Se,At)&&I(Dt)},[Se,I,se,Ht]),Fe=bt.useCallback(function(At,Nt){var Dt=function(){switch(Ht){case"century":return tt;case"decade":return yt;case"year":return ht;case"month":return nt;default:throw new Error("Invalid view: ".concat(Ht,"."))}}();Dt&&Dt(At,Nt)},[nt,tt,ht,yt,Ht]),ji=bt.useCallback(function(At,Nt){if(ha){Fe(At,Nt);var Dt=Ye[Ye.indexOf(Ht)+1];if(!Dt)throw new Error("Attempted to drill down from the lowest view.");Vn(At),kn(Dt);var Qe={action:"drillDown",activeStartDate:At,value:se,view:Dt};I&&!Zu(Se,At)&&I(Qe),Ie&&Ht!==Dt&&Ie(Qe),ue&&ue(Qe)}},[Se,ha,I,Fe,ue,Ie,se,Ht,Ye]),er=bt.useCallback(function(){if(ne){var At=Ye[Ye.indexOf(Ht)-1];if(!At)throw new Error("Attempted to drill up from the highest view.");var Nt=Nr(At,Se);Vn(Nt),kn(At);var Dt={action:"drillUp",activeStartDate:Nt,value:se,view:At};I&&!Zu(Se,Nt)&&I(Dt),Ie&&Ht!==At&&Ie(Dt),qt&&qt(Dt)}},[Se,ne,I,qt,Ie,se,Ht,Ye]),Mn=bt.useCallback(function(At,Nt){var Dt=se;Fe(At,Nt);var Qe=He&&!od(Dt),je;if(He)if(Qe)je=Nr(ci,At);else{if(!Dt)throw new Error("previousValue is required");if(Array.isArray(Dt))throw new Error("previousValue must not be an array");je=xb(ci,Dt,At)}else je=pe(At);var hn=!He||Qe||ut?v0({maxDate:_t,maxDetail:b,minDate:N,minDetail:x,value:je,view:Ht}):null;Nt.persist(),Vn(hn),tr(je);var ei={action:"onChange",activeStartDate:hn,value:je,view:Ht};if(I&&!Zu(Se,hn)&&I(ei),$)if(He){var Hr=od(je);if(!Hr)$(je||null,Nt);else if(o){if(Array.isArray(je))throw new Error("value must not be an array");$([je||null,null],Nt)}}else $(je||null,Nt)},[Se,o,pe,ut,_t,b,N,x,I,$,Fe,He,se,ci,Ht]);function qr(At){ki(At)}function Wn(){ki(null)}bt.useImperativeHandle(i,function(){return{activeStartDate:Se,drillDown:ji,drillUp:er,onChange:Mn,setActiveStartDate:he,value:se,view:Ht}},[Se,ji,er,Mn,he,se,Ht]);function Jn(At){var Nt=At?l0(Ht,Se):Nr(Ht,Se),Dt=ha?ji:Mn,Qe={activeStartDate:Nt,hover:hi,locale:mt,maxDate:_t,minDate:N,onClick:Dt,onMouseOver:He?qr:void 0,tileClassName:ce,tileContent:Yt,tileDisabled:cn,value:se,valueType:ci};switch(Ht){case"century":return S.jsx(Hb,js({formatYear:F,showNeighboringCentury:xi},Qe));case"decade":return S.jsx(Qb,js({formatYear:F,showNeighboringDecade:tl},Qe));case"year":return S.jsx(Wb,js({formatMonth:O,formatMonthYear:L},Qe));case"month":return S.jsx(lS,js({calendarType:h,formatDay:E,formatLongDate:w,formatShortWeekday:Y,formatWeekday:X,onClickWeekNumber:Rt,onMouseLeave:He?Wn:void 0,showFixedNumberOfWeeks:typeof Pr<"u"?Pr:Ge,showNeighboringMonth:Wa,showWeekNumbers:zr},Qe));default:throw new Error("Invalid view: ".concat(Ht,"."))}}function ti(){return ua?S.jsx(kb,{activeStartDate:Se,drillUp:er,formatMonthYear:L,formatYear:F,locale:mt,maxDate:_t,minDate:N,navigationAriaLabel:C,navigationAriaLive:oe,navigationLabel:ae,next2AriaLabel:G,next2Label:it,nextAriaLabel:ct,nextLabel:Ot,prev2AriaLabel:xn,prev2Label:En,prevAriaLabel:Nn,prevLabel:Xn,setActiveStartDate:he,showDoubleView:Ge,view:Ht,views:Ye}):null}var jn=Array.isArray(se)?se:[se];return S.jsxs("div",{className:Ic($u,He&&jn.length===1&&"".concat($u,"--selectRange"),Ge&&"".concat($u,"--doubleView"),d),ref:at,children:[ti(),S.jsxs("div",{className:"".concat($u,"__viewContainer"),onBlur:He?Wn:void 0,onMouseLeave:He?Wn:void 0,children:[Jn(),Ge?Jn(!0):null]})]})});function gS({isOpen:a,onClose:t}){return a?S.jsx("div",{className:"terms-modal-overlay",onClick:t,children:S.jsxs("div",{className:"terms-modal-content",onClick:i=>i.stopPropagation(),children:[S.jsx("div",{className:"terms-modal-close-btn",onClick:t,children:""}),S.jsx("h2",{children:"Rekisteri- ja tietosuojaseloste"}),S.jsx("p",{children:"Tm on LO&K Oy:n EU:n yleisen tietosuoja-asetuksen (GDPR) mukainen rekisteri- ja tietosuojaseloste. Laadittu 6.5.2025. Viimeisin muutos 6.5.2025."}),S.jsx("h3",{children:"1. Rekisterinpitj"}),S.jsxs("p",{children:["LO&K Oy",S.jsx("br",{}),"Y-tunnus: 3522024-9",S.jsx("br",{}),"Shkposti: huttulajo@gmail.com"]}),S.jsx("h3",{children:"2. Rekisterist vastaava yhteyshenkil"}),S.jsxs("p",{children:["Lauri Huttunen",S.jsx("br",{}),"huttulajo@gmail.com"]}),S.jsx("h3",{children:"3. Rekisterin nimi"}),S.jsx("p",{children:"iisakintekstiilipesuri.fi-palvelun asiakasrekisteri"}),S.jsx("h3",{children:"4. Oikeusperuste ja henkiltietojen ksittelyn tarkoitus"}),S.jsx("p",{children:"Henkiltietojen ksittelyn perusteena on asiakassuhde, sopimuksen tytntnpano (pesurin vuokrauspalvelu) ja lakisteiset velvoitteet (esim. kirjanpito)."}),S.jsx("p",{children:"Henkiltietojen ksittelyn tarkoitus on:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Asiakassuhteen hoitaminen ja yllpito"}),S.jsx("li",{children:"Tilausten ksittely, toimitus ja arkistointi"}),S.jsx("li",{children:"Palvelun kehittminen"}),S.jsx("li",{children:"Laskutus ja perint"}),S.jsx("li",{children:"Lakisteisten velvoitteiden noudattaminen"})]}),S.jsx("h3",{children:"5. Rekisterin tietosislt"}),S.jsx("p",{children:"Rekisteriin tallennettavia tietoja voivat olla:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Henkiln nimi"}),S.jsx("li",{children:"Yhteystiedot (puhelinnumero, shkpostiosoite, katuosoite, postinumero, postitoimipaikka)"}),S.jsx("li",{children:"Tiedot tilatuista palveluista ja niiden muutoksista"}),S.jsx("li",{children:"Muut asiakassuhteen hoitamiseen ja/tai tilattuihin palveluihin liittyvt tiedot (esim. vuokra-aika, listiedot)"}),S.jsx("li",{children:"Yritysasiakkailta: Yrityksen nimi, Y-tunnus"})]}),S.jsx("h3",{children:"6. Snnnmukaiset tietolhteet"}),S.jsx("p",{children:"Rekisteriin tallennettavat tiedot saadaan asiakkaalta itseltn mm. verkkosivujen varauslomakkeen kautta, shkpostitse, puhelimitse tai muilla vastaavilla tavoilla."}),S.jsx("h3",{children:"7. Tietojen snnnmukaiset luovutukset ja tietojen siirto EU:n tai ETA:n ulkopuolelle"}),S.jsx("p",{children:"Tietoja ei luovuteta snnnmukaisesti muille tahoille. Tietoja voidaan julkaista silt osin kuin niin on sovittu asiakkaan kanssa."}),S.jsx("p",{children:"Tietoja voidaan siirt rekisterinpitjn toimesta mys EU:n tai ETA:n ulkopuolelle, jos se on palvelun teknisen toteuttamisen kannalta tarpeellista (esim. palvelin sijaitsee EU/ETA-alueen ulkopuolella), varmistaen riittvn tietosuojan tason."}),S.jsx("p",{children:"Maksutapahtumien yhteydess tietoja voidaan luovuttaa maksunvlityspalvelun tarjoajalle."}),S.jsx("h3",{children:"8. Rekisterin suojauksen periaatteet"}),S.jsx("p",{children:"Rekisterin ksittelyss noudatetaan huolellisuutta ja tietojrjestelmien avulla ksiteltvt tiedot suojataan asianmukaisesti. Kun rekisteritietoja silytetn Internet-palvelimilla, niiden laitteiston fyysisest ja digitaalisesta tietoturvasta huolehditaan asiaankuuluvasti. Rekisterinpitj huolehtii siit, ett tallennettuja tietoja sek palvelimien kyttoikeuksia ja muita henkiltietojen turvallisuuden kannalta kriittisi tietoja ksitelln luottamuksellisesti ja vain niiden tyntekijiden toimesta, joiden tynkuvaan se kuuluu."}),S.jsx("p",{children:"Manuaalinen aineisto silytetn lukitussa tilassa ja hvitetn tietoturvallisesti."}),S.jsx("h3",{children:"9. Tarkastusoikeus ja oikeus vaatia tiedon korjaamista"}),S.jsx("p",{children:"Jokaisella rekisteriss olevalla henkilll on oikeus tarkistaa rekisteriin tallennetut tietonsa ja vaatia mahdollisen virheellisen tiedon korjaamista tai puutteellisen tiedon tydentmist. Mikli henkil haluaa tarkistaa hnest tallennetut tiedot tai vaatia niihin oikaisua, pyynt tulee lhett kirjallisesti rekisterinpitjlle. Rekisterinpitj voi pyyt tarvittaessa pyynnn esittj todistamaan henkilllisyytens. Rekisterinpitj vastaa asiakkaalle EU:n tietosuoja-asetuksessa sdetyss ajassa."}),S.jsx("h3",{children:"10. Muut henkiltietojen ksittelyyn liittyvt oikeudet"}),S.jsx("p",{children:'Rekisteriss olevalla henkilll on oikeus pyyt hnt koskevien henkiltietojen poistamiseen rekisterist ("oikeus tulla unohdetuksi"). Niin ikn rekisteridyill on muut EU:n yleisen tietosuoja-asetuksen mukaiset oikeudet kuten henkiltietojen ksittelyn rajoittaminen tietyiss tilanteissa. Pyynnt tulee lhett kirjallisesti rekisterinpitjlle. Rekisterinpitj voi pyyt tarvittaessa pyynnn esittj todistamaan henkilllisyytens. Rekisterinpitj vastaa asiakkaalle EU:n tietosuoja-asetuksessa sdetyss ajassa (psntisesti kuukauden kuluessa).'}),S.jsx("p",{children:"Oikeutta tietojen poistamiseen ei ole, jos ksittely on tarpeen lakisteisen velvoitteen noudattamiseksi (esim. kirjanpitolaki) tai sopimukseen perustuvien velvoitteiden hoitamiseksi."})]})}):null}function yS({isOpen:a,onClose:t}){const[i,s]=bt.useState(!1);if(!a&&!i)return null;const o=d=>{d.preventDefault(),s(!0)},h=()=>{s(!1)};return a&&!i?S.jsx("div",{className:"terms-modal-overlay",onClick:t,children:S.jsxs("div",{className:"terms-modal-content",onClick:d=>d.stopPropagation(),children:[S.jsx("div",{className:"terms-modal-close-btn",onClick:t,children:""}),S.jsx("h2",{children:"Vuokraehdot"}),S.jsx("h3",{children:"1. VUOKRAAMINEN"}),S.jsx("p",{children:'Vuokratakseen tuotteita pesurivuokraus.fi -verkkokaupasta, asiakkaan (jljempn "Vuokraaja") on hyvksyttv nm vuokraehdot.'}),S.jsxs("p",{children:["Vuokranantajana toimii ",S.jsx("strong",{children:"LO&K Oy (Y-tunnus: 3522024-9)"}),". Vuokraaja on osapuoli, joka vuokraa tuotteet Vuokranantajalta. LO&K Oy vuokraa tekstiilipesureita tysi-ikisille yksityishenkilille sek yrityksille Suomessa. Vuokranantaja omistaa vuokrattavat tuotteet."]}),S.jsx("p",{children:"Tuotteet varataan ja maksetaan pesurivuokraus.fi-verkkopalvelussa. Tuotteet noudetaan valitulta toimipisteelt."}),S.jsx("h4",{children:"Vuokraajan vastuut ennen kytt:"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Laitteen toiminnan tarkistus:"})," Varmista laitteen moitteeton toiminta ennen kyttnottoa. Koska laitteessa kytetn vett, testaa se tilassa, jossa mahdollinen vesivuoto ei aiheuta vahinkoa (esim. kylpyhuone). Vuokranantaja ei korvaa vahinkoja, jos toimintatarkistusta ei ole tehty asianmukaisesti."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Laitteen puhtauden tarkistus:"})," Varmista laitteen puhtaus, jotta se ei vahingoita pestvi pintoja. Vuokranantaja ei korvaa vahinkoja, jos puhtaustarkistusta ei ole tehty asianmukaisesti."]})]}),S.jsxs("p",{children:["Tuotteiden lainaaminen kolmansille osapuolille on ",S.jsx("strong",{children:"kielletty"}),". Tuotteita ei saa vied Suomen rajojen ulkopuolelle."]}),S.jsx("h3",{children:"2. VARAUKSEN PERUUTTAMINEN"}),S.jsxs("ul",{children:[S.jsxs("li",{children:["Varaus voidaan perua ",S.jsx("strong",{children:"veloituksetta viimeistn 24 tuntia"})," ennen varausajan alkua."]}),S.jsx("li",{children:"Oikea-aikaisesta peruutuksesta hyvitetn maksettu summa seuraavan varauksen yhteydess."}),S.jsx("li",{children:"Myhemmin tehdyist peruutuksista tai kyttmtt jtetyist varauksista ei mynnet hyvityst."})]}),S.jsx("p",{children:"Ilmoita peruutuksesta shkpostitse (huttulajo@gmail.com) tai tekstiviestill (040 410 1920)."}),S.jsx("h3",{children:"3. TUOTTEIDEN PALAUTTAMINEN"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Tuotteet on palautettava noutopisteeseen varausajan pttymiseen menness."}),S.jsxs("li",{children:["Palautusajan noudattamatta jttmisest veloitetaan ",S.jsx("strong",{children:"50  myhstymismaksu"}),"."]}),S.jsx("li",{children:"Palautettavan tuotteen tulee sislt kaikki noudettaessa mukana olleet osat."}),S.jsx("li",{children:"Tuote on puhdistettava huolellisesti kyttohjeiden mukaisesti ennen palautusta."}),S.jsxs("li",{children:["Puhdistuksen laiminlynnist veloitetaan ",S.jsx("strong",{children:"50  puhdistusmaksu"}),"."]})]}),S.jsx("p",{children:"Varausaika on tyypillisesti vuorokausi (esim. klo 17.00 - seuraava piv klo 17.00). Tuotteen voi noutaa ja palauttaa joustavasti vuokra-ajan puitteissa. Lyhyemmst kyttajasta ei mynnet hyvityst."}),S.jsx("h3",{children:"4. TUOTTEEN RIKKOUTUMINEN TAI KATOAMINEN"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Normaali kuluminen:"})," Jos tuote rikkoutuu asianmukaisessa, kyttohjeiden mukaisessa kytss, Vuokranantaja vastaa korjauskustannuksista."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Vuokraajan vastuu:"})," Jos tuote rikkoutuu kyttohjeiden vastaisen tai muuten virheellisen kytn seurauksena, Vuokraaja on velvollinen korvaamaan Vuokranantajalle tuotteen uushankintahinnan."]}),S.jsx("li",{children:"Vuokraaja on vastaavasti korvausvelvollinen mys kadonneesta tai varastetusta tuotteesta."}),S.jsxs("li",{children:["Tuotteen vahingoittumisesta tai katoamisesta on ilmoitettava Vuokranantajalle ",S.jsx("strong",{children:"vlittmsti"}),"."]})]}),S.jsx("p",{children:"Vuokraaja sitoutuu huolehtimaan tuotteesta parhaalla mahdollisella tavalla ja varmistamaan, ett hnell on riittvt taidot laitteen turvalliseen kyttn. Vuokranantajalla on oikeus peri pantti vuokrattavista tuotteista."}),S.jsx("h3",{children:"5. HINNAT"}),S.jsx("p",{children:S.jsx("strong",{children:"Perusvuokraus:"})}),S.jsxs("ul",{children:[S.jsx("li",{children:"Tekstiilipesurin vuokra: 35  / vuorokausi."}),S.jsx("li",{children:"Lisvuorokaudet: 10  / vuorokausi."})]}),S.jsx("p",{children:S.jsx("strong",{children:"Pesuaine:"})}),S.jsx("ul",{children:S.jsx("li",{children:"Pesuainepaketti (4 tablettia, riitt 16 litraan vett): 6 ."})}),S.jsx("p",{children:"Kaikki ilmoitetut hinnat sisltvt arvonlisveron (25,5 %)."}),S.jsx("p",{children:"Tarkka vuokra-aika mritelln aina varauksen yhteydess."}),S.jsx("p",{children:"Huomioithan, ett noutamatta jtetty tai kesken jnytt vuokra-aikaa ei hyvitet."}),S.jsx("h3",{children:"6. MAKSUTAVAT"}),S.jsx("p",{children:"Vuokra maksetaan laskulla."}),S.jsx("p",{children:"Laskun erpiv on 7 piv pesurin ensimmisest vuokrapivst."}),S.jsx("p",{children:"Maksu suoritetaan LO&K Oy:n tilille."}),S.jsx("h3",{children:"7. ONGELMATILANTEET"}),S.jsx("p",{children:"Vuokranantaja voi irtisanoa sopimuksen vlittmsti ja vaatia tuotteen palauttamista, mikli Vuokraaja:"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Antaa virheellisi tietoja."}),S.jsx("li",{children:"Laiminly vuokranmaksun."}),S.jsx("li",{children:"Ksittelee tuotetta ehtojen vastaisesti."}),S.jsx("li",{children:"Rikkoo sopimusta muulla tavoin."})]}),S.jsx("p",{children:"Jos tuote vioittuu tai katoaa vuokra-aikana, Vuokraajan on ilmoitettava siit vlittmsti Vuokranantajalle. Varkaustapauksissa Vuokraajan tulee tehd rikosilmoitus poliisille ja toimittaa kopio ilmoituksesta Vuokranantajalle. Mahdollinen vakuutuskorvaus ohjataan ensisijaisesti Vuokranantajalle."}),S.jsx("p",{children:"Vuokranantajalla on oikeus peri Vuokraajalta kaikki kulut, jotka aiheutuvat Vuokraajan aiheuttamista vahingoista, korvaavien tuotteiden hankinnasta tai saatavien perinnst."}),S.jsx("h3",{children:"8. TIETOJEN KSITTELY"}),S.jsxs("p",{children:["Vuokraaja hyvksyy henkiltietojensa ksittelyn Vuokranantajan ",S.jsx("a",{href:"#",onClick:o,className:"terms-link",style:{color:"#ffbb00"},children:"Rekisteri- ja tietosuojaselosteen"})," mukaisesti."]}),S.jsx("h3",{children:"9. LISTIETOJA"}),S.jsx("p",{children:"Listietoja vuokraehdoista saat shkpostitse (huttulajo@gmail.com) tai puhelimitse (040 410 1920)."})]})}):i?S.jsx(gS,{isOpen:i,onClose:h}):null}function pS({selectedDate:a,onSubmit:t,numberOfDays:i,detergent:s,onNumberOfDaysChange:o,onDetergentChange:h}){const[d,g]=bt.useState(""),[y,p]=bt.useState(""),[E,w]=bt.useState(""),[O,L]=bt.useState(""),[Y,X]=bt.useState(""),[F,st]=bt.useState(""),[ut,at]=bt.useState(!1),[mt,dt]=bt.useState(!1),[_t,k]=bt.useState(!1),[b,D]=bt.useState(""),N=x=>{x.preventDefault(),k(!0)},M=x=>{if(x.preventDefault(),D(""),!a){D("Please select a start date first.");return}if(!d||!y||!E||!O||!Y){D("Please fill in all contact details.");return}if(i<1){D("Number of days must be at least 1.");return}if(!/^\S+@\S+\.\S+$/.test(y)){D("Please enter a valid email address.");return}if(!mt){D("Ole hyv ja hyvksy vuokrausehdot jatkaaksesi.");return}t({name:d,email:y,streetAddress:E,zipCode:O,phone:Y,extraInfo:F})};return S.jsxs("form",{onSubmit:M,className:"booking-form",children:[S.jsx("h3",{children:"Kirjoita yhteystiedot ja valitse piv"}),S.jsxs("p",{children:["Vuokraus alkaa: ",a.toLocaleDateString()," kello 17"]}),b&&S.jsx("p",{className:"error-message",style:{textAlign:"center"},children:b}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",children:"Nimi:"}),S.jsx("input",{type:"text",id:"name",value:d,onChange:x=>g(x.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",children:"Shkposti:"}),S.jsx("input",{type:"email",id:"email",value:y,onChange:x=>p(x.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"streetAddress",children:"Katuosoite:"}),S.jsx("input",{type:"text",id:"streetAddress",value:E,onChange:x=>w(x.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"zipCode",children:"Postinumero:"}),S.jsx("input",{type:"text",id:"zipCode",value:O,onChange:x=>L(x.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"phone",children:"Puhelinnumero:"}),S.jsx("input",{type:"tel",id:"phone",value:Y,onChange:x=>X(x.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{children:"Kuinka moneksi pivksi haluat varata:"}),S.jsx("div",{className:"days-buttons-container",children:[1,2,3,4,5].map(x=>S.jsx("button",{type:"button",className:`day-button ${i===x?"active":""}`,onClick:()=>o(x),children:x},x))})]}),S.jsxs("div",{className:"detergent-option toggle-option",children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[S.jsx("label",{htmlFor:"detergentToggle",style:{marginRight:"6px"},children:"Tarvitsetko pesuaineen?"}),S.jsxs("span",{onMouseEnter:()=>at(!0),onMouseLeave:()=>at(!1),style:{position:"relative",marginLeft:"4px",marginBottom:"10px",cursor:"pointer",border:"1px solid #aaa",borderRadius:"50%",width:"10px",height:"10px",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",color:"#555",backgroundColor:"#f0f0f0"},children:["i",ut&&S.jsx("span",{style:{position:"absolute",bottom:"135%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",lineHeight:"1.4",textAlign:"left",whiteSpace:"normal",width:"220px",zIndex:1001,boxShadow:"0 3px 8px rgba(0,0,0,0.3)",pointerEvents:"none"},children:"6 euron pesuaine sislt 16 litraa pesunestett, eli kaksi tytt astiallista. Mikli luulet tarvitsevasi enemmn, kirjoita se listietojen kenttn."})]})]}),S.jsxs("div",{children:[S.jsx("input",{type:"checkbox",id:"detergentToggle",className:"toggle-checkbox",checked:s,onChange:x=>h(x.target.checked)}),S.jsx("label",{htmlFor:"detergentToggle",className:"switch-label"})]})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"extraInfo",children:"Listietoja (valinnainen):"}),S.jsx("textarea",{id:"extraInfo",value:F,onChange:x=>st(x.target.value),rows:"3"})]}),S.jsxs("div",{className:"terms-checkbox-container",children:[S.jsx("input",{type:"checkbox",id:"termsAccepted",checked:mt,onChange:x=>dt(x.target.checked)}),S.jsxs("label",{htmlFor:"termsAccepted",children:["Olen lukenut ja hyvksyn ",S.jsx("a",{href:"#",onClick:N,className:"terms-link",children:"vuokrausehdot"})]})]}),S.jsx("button",{style:{backgroundColor:mt?"#ffbb00":"#C0C0C0",color:"#1a1a1a"},type:"submit",disabled:!mt,children:"Varaa nyt"}),S.jsx(yS,{isOpen:_t,onClose:()=>k(!1)})]})}const vS=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},_S=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];t[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,E=h>>2,w=(h&3)<<4|g>>4;let O=(g&15)<<2|p>>6,L=p&63;y||(L=64,d||(O=64)),s.push(i[E],i[w],i[O],i[L])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(_0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):_S(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||p==null||w==null)throw new ES;const O=h<<2|g>>4;if(s.push(O),p!==64){const L=g<<4&240|p>>2;if(s.push(L),w!==64){const Y=p<<6&192|w;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(a){const t=_0(a);return E0.encodeByteArray(t,!0)},fc=function(a){return TS(a).replace(/\./g,"")},AS=function(a){try{return E0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=()=>bS().__FIREBASE_DEFAULTS__,wS=()=>{if(typeof process>"u"||typeof jv>"u")return;const a=jv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},RS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&AS(a[1]);return t&&JSON.parse(t)},mm=()=>{try{return vS()||SS()||wS()||RS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},DS=a=>{var t,i;return(i=(t=mm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},CS=a=>{const t=DS(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},T0=()=>{var a;return(a=mm())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[fc(JSON.stringify(i)),fc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){var a;const t=(a=mm())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;t(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="FirebaseError";class Ks extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=jS,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A0.prototype.create)}}class A0{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?US(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ks(o,g,s)}}function US(a,t){return a.replace(LS,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function dc(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=t[o];if(Uv(h)&&Uv(d)){if(!dc(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Uv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(a){return a&&a._delegate?a._delegate:a}class fo{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new OS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BS(t))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(t=Ir){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ir){return this.instances.has(t)}getOptions(t=Ir){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&t(d,o),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ir){return this.component?this.component.multipleInstances?t:Ir:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(a){return a===Ir?void 0:a}function BS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const HS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},GS=Bt.INFO,YS={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},FS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),o=YS[t];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class b0{constructor(t){this.name=t,this._logLevel=GS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const QS=(a,t)=>t.some(i=>a instanceof i);let Lv,Pv;function KS(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XS(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Vd=new WeakMap,w0=new WeakMap,ud=new WeakMap,gm=new WeakMap;function $S(a){const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ua(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,a)}).catch(()=>{}),gm.set(t,a),t}function ZS(a){if(Vd.has(a))return;const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Vd.set(a,t)}let kd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Vd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||w0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ua(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function WS(a){kd=a(kd)}function JS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(cd(this),t,...i);return w0.set(s,t.sort?t.sort():[t]),Ua(s)}:XS().includes(a)?function(...t){return a.apply(cd(this),t),Ua(S0.get(this))}:function(...t){return Ua(a.apply(cd(this),t))}}function t1(a){return typeof a=="function"?JS(a):(a instanceof IDBTransaction&&ZS(a),QS(a,KS())?new Proxy(a,kd):a)}function Ua(a){if(a instanceof IDBRequest)return $S(a);if(ud.has(a))return ud.get(a);const t=t1(a);return t!==a&&(ud.set(a,t),gm.set(t,a)),t}const cd=a=>gm.get(a);function e1(a,t,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,t),g=Ua(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ua(d.result),y.oldVersion,y.newVersion,Ua(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const n1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],hd=new Map;function zv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=i1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n1.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return hd.set(t,h),h}WS(a=>({...a,get:(t,i,s)=>zv(t,i)||a.get(t,i,s),has:(t,i)=>!!zv(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(r1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function r1(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Md="@firebase/app",Bv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new b0("@firebase/app"),s1="@firebase/app-compat",l1="@firebase/analytics-compat",o1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",h1="@firebase/auth",f1="@firebase/auth-compat",d1="@firebase/database",m1="@firebase/data-connect",g1="@firebase/database-compat",y1="@firebase/functions",p1="@firebase/functions-compat",v1="@firebase/installations",_1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",A1="@firebase/performance",b1="@firebase/performance-compat",S1="@firebase/remote-config",w1="@firebase/remote-config-compat",R1="@firebase/storage",D1="@firebase/storage-compat",C1="@firebase/firestore",O1="@firebase/vertexai",I1="@firebase/firestore-compat",x1="firebase",N1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",V1={[Md]:"fire-core",[s1]:"fire-core-compat",[o1]:"fire-analytics",[l1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[h1]:"fire-auth",[f1]:"fire-auth-compat",[d1]:"fire-rtdb",[m1]:"fire-data-connect",[g1]:"fire-rtdb-compat",[y1]:"fire-fn",[p1]:"fire-fn-compat",[v1]:"fire-iid",[_1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[A1]:"fire-perf",[b1]:"fire-perf-compat",[S1]:"fire-rc",[w1]:"fire-rc-compat",[R1]:"fire-gcs",[D1]:"fire-gcs-compat",[C1]:"fire-fst",[I1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,k1=new Map,Ud=new Map;function qv(a,t){try{a.container.addComponent(t)}catch(i){aa.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function gc(a){const t=a.name;if(Ud.has(t))return aa.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,a);for(const i of mc.values())qv(i,a);for(const i of k1.values())qv(i,a);return!0}function M1(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function j1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new A0("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=N1;function R0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:jd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw La.create("bad-app-name",{appName:String(o)});if(i||(i=T0()),!i)throw La.create("no-options");const h=mc.get(o);if(h){if(dc(i,h.options)&&dc(s,h.config))return h;throw La.create("duplicate-app",{appName:o})}const d=new qS(o);for(const y of Ud.values())d.addComponent(y);const g=new L1(i,s,d);return mc.set(o,g),g}function z1(a=jd){const t=mc.get(a);if(!t&&a===jd&&T0())return R0();if(!t)throw La.create("no-app",{appName:a});return t}function Us(a,t,i){var s;let o=(s=V1[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${t}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),aa.warn(g.join(" "));return}gc(new fo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-heartbeat-database",q1=1,mo="firebase-heartbeat-store";let fd=null;function D0(){return fd||(fd=e1(B1,q1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(a=>{throw La.create("idb-open",{originalErrorMessage:a.message})})),fd}async function H1(a){try{const i=(await D0()).transaction(mo),s=await i.objectStore(mo).get(C0(a));return await i.done,s}catch(t){if(t instanceof Ks)aa.warn(t.message);else{const i=La.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});aa.warn(i.message)}}}async function Hv(a,t){try{const s=(await D0()).transaction(mo,"readwrite");await s.objectStore(mo).put(t,C0(a)),await s.done}catch(i){if(i instanceof Ks)aa.warn(i.message);else{const s=La.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});aa.warn(s.message)}}}function C0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1024,Y1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Gv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Y1){const d=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){aa.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gv(),{heartbeatsToSend:s,unsentEntries:o}=Q1(this._heartbeatsCache.heartbeats),h=fc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return aa.warn(i),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function Q1(a,t=G1){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Yv(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await H1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Yv(a){return fc(JSON.stringify({version:2,heartbeats:a})).length}function X1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(a){gc(new fo("platform-logger",t=>new a1(t),"PRIVATE")),gc(new fo("heartbeat",t=>new F1(t),"PRIVATE")),Us(Md,Bv,a),Us(Md,Bv,"esm2017"),Us("fire-js","")}$1("");var Z1="firebase",W1="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(Z1,W1,"app");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,O0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,b){function D(){}D.prototype=b.prototype,k.D=b.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(N,M,x){for(var C=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)C[oe-2]=arguments[oe];return b.prototype[M].apply(N,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,b,D){D||(D=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(M=0;16>M;++M)N[M]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=k.g[0],D=k.g[1],M=k.g[2];var x=k.g[3],C=b+(x^D&(M^x))+N[0]+3614090360&4294967295;b=D+(C<<7&4294967295|C>>>25),C=x+(M^b&(D^M))+N[1]+3905402710&4294967295,x=b+(C<<12&4294967295|C>>>20),C=M+(D^x&(b^D))+N[2]+606105819&4294967295,M=x+(C<<17&4294967295|C>>>15),C=D+(b^M&(x^b))+N[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(x^D&(M^x))+N[4]+4118548399&4294967295,b=D+(C<<7&4294967295|C>>>25),C=x+(M^b&(D^M))+N[5]+1200080426&4294967295,x=b+(C<<12&4294967295|C>>>20),C=M+(D^x&(b^D))+N[6]+2821735955&4294967295,M=x+(C<<17&4294967295|C>>>15),C=D+(b^M&(x^b))+N[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(x^D&(M^x))+N[8]+1770035416&4294967295,b=D+(C<<7&4294967295|C>>>25),C=x+(M^b&(D^M))+N[9]+2336552879&4294967295,x=b+(C<<12&4294967295|C>>>20),C=M+(D^x&(b^D))+N[10]+4294925233&4294967295,M=x+(C<<17&4294967295|C>>>15),C=D+(b^M&(x^b))+N[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(x^D&(M^x))+N[12]+1804603682&4294967295,b=D+(C<<7&4294967295|C>>>25),C=x+(M^b&(D^M))+N[13]+4254626195&4294967295,x=b+(C<<12&4294967295|C>>>20),C=M+(D^x&(b^D))+N[14]+2792965006&4294967295,M=x+(C<<17&4294967295|C>>>15),C=D+(b^M&(x^b))+N[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(M^x&(D^M))+N[1]+4129170786&4294967295,b=D+(C<<5&4294967295|C>>>27),C=x+(D^M&(b^D))+N[6]+3225465664&4294967295,x=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(x^b))+N[11]+643717713&4294967295,M=x+(C<<14&4294967295|C>>>18),C=D+(x^b&(M^x))+N[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^x&(D^M))+N[5]+3593408605&4294967295,b=D+(C<<5&4294967295|C>>>27),C=x+(D^M&(b^D))+N[10]+38016083&4294967295,x=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(x^b))+N[15]+3634488961&4294967295,M=x+(C<<14&4294967295|C>>>18),C=D+(x^b&(M^x))+N[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^x&(D^M))+N[9]+568446438&4294967295,b=D+(C<<5&4294967295|C>>>27),C=x+(D^M&(b^D))+N[14]+3275163606&4294967295,x=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(x^b))+N[3]+4107603335&4294967295,M=x+(C<<14&4294967295|C>>>18),C=D+(x^b&(M^x))+N[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^x&(D^M))+N[13]+2850285829&4294967295,b=D+(C<<5&4294967295|C>>>27),C=x+(D^M&(b^D))+N[2]+4243563512&4294967295,x=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(x^b))+N[7]+1735328473&4294967295,M=x+(C<<14&4294967295|C>>>18),C=D+(x^b&(M^x))+N[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(D^M^x)+N[5]+4294588738&4294967295,b=D+(C<<4&4294967295|C>>>28),C=x+(b^D^M)+N[8]+2272392833&4294967295,x=b+(C<<11&4294967295|C>>>21),C=M+(x^b^D)+N[11]+1839030562&4294967295,M=x+(C<<16&4294967295|C>>>16),C=D+(M^x^b)+N[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^x)+N[1]+2763975236&4294967295,b=D+(C<<4&4294967295|C>>>28),C=x+(b^D^M)+N[4]+1272893353&4294967295,x=b+(C<<11&4294967295|C>>>21),C=M+(x^b^D)+N[7]+4139469664&4294967295,M=x+(C<<16&4294967295|C>>>16),C=D+(M^x^b)+N[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^x)+N[13]+681279174&4294967295,b=D+(C<<4&4294967295|C>>>28),C=x+(b^D^M)+N[0]+3936430074&4294967295,x=b+(C<<11&4294967295|C>>>21),C=M+(x^b^D)+N[3]+3572445317&4294967295,M=x+(C<<16&4294967295|C>>>16),C=D+(M^x^b)+N[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^x)+N[9]+3654602809&4294967295,b=D+(C<<4&4294967295|C>>>28),C=x+(b^D^M)+N[12]+3873151461&4294967295,x=b+(C<<11&4294967295|C>>>21),C=M+(x^b^D)+N[15]+530742520&4294967295,M=x+(C<<16&4294967295|C>>>16),C=D+(M^x^b)+N[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(M^(D|~x))+N[0]+4096336452&4294967295,b=D+(C<<6&4294967295|C>>>26),C=x+(D^(b|~M))+N[7]+1126891415&4294967295,x=b+(C<<10&4294967295|C>>>22),C=M+(b^(x|~D))+N[14]+2878612391&4294967295,M=x+(C<<15&4294967295|C>>>17),C=D+(x^(M|~b))+N[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~x))+N[12]+1700485571&4294967295,b=D+(C<<6&4294967295|C>>>26),C=x+(D^(b|~M))+N[3]+2399980690&4294967295,x=b+(C<<10&4294967295|C>>>22),C=M+(b^(x|~D))+N[10]+4293915773&4294967295,M=x+(C<<15&4294967295|C>>>17),C=D+(x^(M|~b))+N[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~x))+N[8]+1873313359&4294967295,b=D+(C<<6&4294967295|C>>>26),C=x+(D^(b|~M))+N[15]+4264355552&4294967295,x=b+(C<<10&4294967295|C>>>22),C=M+(b^(x|~D))+N[6]+2734768916&4294967295,M=x+(C<<15&4294967295|C>>>17),C=D+(x^(M|~b))+N[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~x))+N[4]+4149444226&4294967295,b=D+(C<<6&4294967295|C>>>26),C=x+(D^(b|~M))+N[11]+3174756917&4294967295,x=b+(C<<10&4294967295|C>>>22),C=M+(b^(x|~D))+N[2]+718787259&4294967295,M=x+(C<<15&4294967295|C>>>17),C=D+(x^(M|~b))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var D=b-this.blockSize,N=this.B,M=this.h,x=0;x<b;){if(M==0)for(;x<=D;)o(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<b;)if(N[M++]=k.charCodeAt(x++),M==this.blockSize){o(this,N),M=0;break}}else for(;x<b;)if(N[M++]=k[x++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var D=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=D&255,D/=256;for(this.u(k),k=Array(16),b=D=0;4>b;++b)for(var N=0;32>N;N+=8)k[D++]=this.g[b]>>>N&255;return k};function h(k,b){var D=g;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=b(k)}function d(k,b){this.h=b;for(var D=[],N=!0,M=k.length-1;0<=M;M--){var x=k[M]|0;N&&x==b||(D[M]=x,N=!1)}this.g=D}var g={};function y(k){return-128<=k&&128>k?h(k,function(b){return new d([b|0],0>b?-1:0)}):new d([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return F(p(-k));for(var b=[],D=1,N=0;k>=D;N++)b[N]=k/D|0,D*=4294967296;return new d(b,0)}function E(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return F(E(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(b,8)),N=w,M=0;M<k.length;M+=8){var x=Math.min(8,k.length-M),C=parseInt(k.substring(M,M+x),b);8>x?(x=p(Math.pow(b,x)),N=N.j(x).add(p(C))):(N=N.j(D),N=N.add(p(C)))}return N}var w=y(0),O=y(1),L=y(16777216);a=d.prototype,a.m=function(){if(X(this))return-F(this).m();for(var k=0,b=1,D=0;D<this.g.length;D++){var N=this.i(D);k+=(0<=N?N:4294967296+N)*b,b*=4294967296}return k},a.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(X(this))return"-"+F(this).toString(k);for(var b=p(Math.pow(k,6)),D=this,N="";;){var M=mt(D,b).g;D=st(D,M.j(b));var x=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=M,Y(D))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},a.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function X(k){return k.h==-1}a.l=function(k){return k=st(this,k),X(k)?-1:Y(k)?0:1};function F(k){for(var b=k.g.length,D=[],N=0;N<b;N++)D[N]=~k.g[N];return new d(D,~k.h).add(O)}a.abs=function(){return X(this)?F(this):this},a.add=function(k){for(var b=Math.max(this.g.length,k.g.length),D=[],N=0,M=0;M<=b;M++){var x=N+(this.i(M)&65535)+(k.i(M)&65535),C=(x>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);N=C>>>16,x&=65535,C&=65535,D[M]=C<<16|x}return new d(D,D[D.length-1]&-2147483648?-1:0)};function st(k,b){return k.add(F(b))}a.j=function(k){if(Y(this)||Y(k))return w;if(X(this))return X(k)?F(this).j(F(k)):F(F(this).j(k));if(X(k))return F(this.j(F(k)));if(0>this.l(L)&&0>k.l(L))return p(this.m()*k.m());for(var b=this.g.length+k.g.length,D=[],N=0;N<2*b;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<k.g.length;M++){var x=this.i(N)>>>16,C=this.i(N)&65535,oe=k.i(M)>>>16,ae=k.i(M)&65535;D[2*N+2*M]+=C*ae,ut(D,2*N+2*M),D[2*N+2*M+1]+=x*ae,ut(D,2*N+2*M+1),D[2*N+2*M+1]+=C*oe,ut(D,2*N+2*M+1),D[2*N+2*M+2]+=x*oe,ut(D,2*N+2*M+2)}for(N=0;N<b;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=b;N<2*b;N++)D[N]=0;return new d(D,0)};function ut(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function at(k,b){this.g=k,this.h=b}function mt(k,b){if(Y(b))throw Error("division by zero");if(Y(k))return new at(w,w);if(X(k))return b=mt(F(k),b),new at(F(b.g),F(b.h));if(X(b))return b=mt(k,F(b)),new at(F(b.g),b.h);if(30<k.g.length){if(X(k)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var D=O,N=b;0>=N.l(k);)D=dt(D),N=dt(N);var M=_t(D,1),x=_t(N,1);for(N=_t(N,2),D=_t(D,2);!Y(N);){var C=x.add(N);0>=C.l(k)&&(M=M.add(D),x=C),N=_t(N,1),D=_t(D,1)}return b=st(k,M.j(b)),new at(M,b)}for(M=w;0<=k.l(b);){for(D=Math.max(1,Math.floor(k.m()/b.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=p(D),C=x.j(b);X(C)||0<C.l(k);)D-=N,x=p(D),C=x.j(b);Y(x)&&(x=O),M=M.add(x),k=st(k,C)}return new at(M,k)}a.A=function(k){return mt(this,k).h},a.and=function(k){for(var b=Math.max(this.g.length,k.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)&k.i(N);return new d(D,this.h&k.h)},a.or=function(k){for(var b=Math.max(this.g.length,k.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)|k.i(N);return new d(D,this.h|k.h)},a.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)^k.i(N);return new d(D,this.h^k.h)};function dt(k){for(var b=k.g.length+1,D=[],N=0;N<b;N++)D[N]=k.i(N)<<1|k.i(N-1)>>>31;return new d(D,k.h)}function _t(k,b){var D=b>>5;b%=32;for(var N=k.g.length-D,M=[],x=0;x<N;x++)M[x]=0<b?k.i(x+D)>>>b|k.i(x+D+1)<<32-b:k.i(x+D);return new d(M,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,O0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Pa=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I0,io,x0,rc,Ld,N0,V0,k0;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,A=!1,U={next:function(){if(!A&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function O(u,m,v){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,O.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,U,H){for(var et=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)et[Ut-2]=arguments[Ut];return m.prototype[U].apply(A,et)}}function X(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function F(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(y(A)){const U=u.length||0,H=A.length||0;u.length=U+H;for(let et=0;et<H;et++)u[U+et]=A[et]}else u.push(A)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var dt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function _t(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function b(u){const m={};for(const v in u)m[v]=u[v];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let H=0;H<D.length;H++)v=D[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function x(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ot;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const A=ae.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new st(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,Ot=new oe,I=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){x(v)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Rt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(dt){t:{try{mt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Y(Rt,tt);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ie(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++qt,this.da=this.fa=!1}function xn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function En(u){this.src=u,this.g={},this.h=0}En.prototype.add=function(u,m,v,A,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var et=Xn(u,m,A,U);return-1<et?(m=u[et],v||(m.fa=!1)):(m=new Ie(m,this.src,H,!!A,U),m.fa=v,u.push(m)),m};function Nn(u,m){var v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(A,U,1),H&&(xn(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Xn(u,m,v,A){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==A)return U}return-1}var ee="closure_lm_"+(1e6*Math.random()|0),$n={};function He(u,m,v,A,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)He(u,m[H],v,A,U);return null}return v=zr(v),u&&u[ue]?u.K(m,v,p(A)?!!A.capture:!1,U):Ge(u,m,v,!1,A,U)}function Ge(u,m,v,A,U,H){if(!m)throw Error("Invalid event type");var et=p(U)?!!U.capture:!!U,Ut=Ni(u);if(Ut||(u[ee]=Ut=new En(u)),v=Ut.add(m,v,A,et,H),v.proxy)return v;if(A=Pr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ht||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(xi(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pr(){function u(v){return m.call(u.src,u.listener,v)}const m=tl;return u}function oa(u,m,v,A,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)oa(u,m[H],v,A,U);else A=p(A)?!!A.capture:!!A,v=zr(v),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=Xn(H,v,A,U),-1<v&&(xn(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ni(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xn(m,v,A,U)),(v=-1<u?m[u]:null)&&ua(v))}function ua(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Nn(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(xi(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ni(m))?(Nn(v,u),v.h==0&&(v.src=null,m[ee]=null)):xn(u)}}}function xi(u){return u in $n?$n[u]:$n[u]="on"+u}function tl(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&ua(u),u=v.call(A,m)}return u}function Ni(u){return u=u[ee],u instanceof En?u:null}var Wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(u){return typeof u=="function"?u:(u[Wa]||(u[Wa]=function(m){return u.handleEvent(m)}),u[Wa])}function ce(){nt.call(this),this.i=new En(this),this.M=this,this.F=null}Y(ce,nt),ce.prototype[ue]=!0,ce.prototype.removeEventListener=function(u,m,v,A){oa(this,u,m,v,A)};function Yt(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var U=m;m=new tt(A,u),N(m,U)}if(U=!0,v)for(var H=v.length-1;0<=H;H--){var et=m.g=v[H];U=cn(et,A,!0,m)&&U}if(et=m.g=u,U=cn(et,A,!0,m)&&U,U=cn(et,A,!1,m)&&U,v)for(H=0;H<v.length;H++)et=m.g=v[H],U=cn(et,A,!1,m)&&U}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)xn(v[A]);delete u.g[m],u.h--}}this.F=null},ce.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ce.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function cn(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var et=m[H];if(et&&!et.da&&et.capture==v){var Ut=et.listener,xe=et.ha||et.src;et.fa&&Nn(u.i,et),U=Ut.call(xe,A)!==!1&&U}}return U&&!A.defaultPrevented}function be(u,m,v){if(typeof u=="function")v&&(u=O(u,v));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ja(u){u.g=be(()=>{u.g=null,u.i&&(u.i=!1,Ja(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Br extends nt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ja(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(u){nt.call(this),this.h=u,this.g={}}Y(Vi,nt);var Vn=[];function oi(u){_t(u.g,function(m,v){this.g.hasOwnProperty(v)&&ua(m)},u),u.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),oi(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=g.JSON.stringify,ki=g.JSON.parse,ui=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Mi(){}Mi.prototype.h=null;function tr(u){return u.h||(u.h=u.i())}function ca(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){tt.call(this,"d")}Y(kn,tt);function Se(){tt.call(this,"c")}Y(Se,tt);var se={},ci=null;function Ht(){return ci=ci||new ce}se.La="serverreachability";function Ye(u){tt.call(this,se.La,u)}Y(Ye,tt);function hi(u){const m=Ht();Yt(m,new Ye(m))}se.STAT_EVENT="statevent";function ha(u,m){tt.call(this,se.STAT_EVENT,u),this.stat=m}Y(ha,tt);function ne(u){const m=Ht();Yt(m,new ha(m,u))}se.Ma="timingevent";function pe(u,m){tt.call(this,se.Ma,u),this.size=m}Y(pe,tt);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function ji(u,m,v,A,U,H){u.info(function(){if(u.g)if(H)for(var et="",Ut=H.split("&"),xe=0;xe<Ut.length;xe++){var Lt=Ut[xe].split("=");if(1<Lt.length){var Le=Lt[0];Lt=Lt[1];var Ne=Le.split("_");et=2<=Ne.length&&Ne[1]=="type"?et+(Le+"="+Lt+"&"):et+(Le+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function er(u,m,v,A,U,H,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+et})}function Mn(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wn(u,v)+(A?" "+A:"")})}function qr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fe.prototype.info=function(){};function Wn(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return Tn(v)}catch{return m}}var Jn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function At(){}Y(At,Mi),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},jn=new At;function Nt(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var Qe={},je={};function hn(u,m,v){u.L=1,u.v=sr(An(m)),u.m=v,u.P=!0,ei(u,null)}function ei(u,m){u.F=Date.now(),nr(u),u.A=An(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),sl(v.i,"t",A),u.C=0,v=u.j.J,u.h=new Dt,u.g=Yo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Br(O(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Vn[0]=U.toString()),U=Vn);for(var H=0;H<U.length;H++){var et=He(v,U[H],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),hi(),ji(u.i,u.u,u.A,u.l,u.R,u.m)}Nt.prototype.ca=function(u){u=u.target;const m=this.M;m&&zn(u)==3?m.j():this.Y(u)},Nt.prototype.Y=function(u){try{if(u==this.g)t:{const Ne=zn(this.g);var m=this.g.Ba();const Gi=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Ne!=4||m==7||(m==8||0>=Gi?hi(3):hi(2)),fa(this);var v=this.g.Z();this.X=v;e:if(Hr(this)){var A=Uo(this.g);u="";var U=A.length,H=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),fi(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(H&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=v==200,er(this.i,this.u,this.A,this.l,this.R,Ne,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,xe=this.g;if((Ut=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ut)){var Lt=Ut;break e}}Lt=null}if(v=Lt)Mn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ir(this,v);else{this.o=!1,this.s=3,ne(12),Ke(this),fi(this);break t}}if(this.P){v=!0;let Xe;for(;!this.J&&this.C<et.length;)if(Xe=xo(this,et),Xe==je){Ne==4&&(this.s=4,ne(14),v=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Qe){this.s=4,ne(15),Mn(this.i,this.l,et,"[Invalid Chunk]"),v=!1;break}else Mn(this.i,this.l,Xe,null),ir(this,Xe);if(Hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||et.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)Mn(this.i,this.l,et,"[Invalid Chunked Response]"),Ke(this),fi(this);else if(0<et.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),mr(Le),Le.M=!0,ne(11))}}else Mn(this.i,this.l,et,null),ir(this,et);Ne==4&&Ke(this),this.o&&!this.J&&(Ne==4?qo(this.j,this):(this.o=!1,nr(this)))}else ih(this.g),v==400&&0<et.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ke(this),fi(this)}}}catch{}finally{}};function Hr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?je:(v=Number(m.substring(v,A)),isNaN(v)?Qe:(A+=1,A+v>m.length?je:(m=m.slice(A,A+v),u.C=A+v,m)))}Nt.prototype.cancel=function(){this.J=!0,Ke(this)};function nr(u){u.S=Date.now()+u.I,No(u,u.I)}function No(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(O(u.ba,u),m)}function fa(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Nt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qr(this.i,this.A),this.L!=2&&(hi(),ne(17)),Ke(this),this.s=2,fi(this)):No(this,this.S-u)};function fi(u){u.j.G==0||u.J||qo(u.j,u)}function Ke(u){fa(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,oi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ir(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||el(v.h,u))){if(!u.K&&el(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)es(v),Jr(v);else break t;hl(v),ne(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=he(O(v.Za,v),6e3));if(1>=Yr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Hi(v,11)}else if((u.K||v.g==u)&&es(v),!ut(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];if(v.T=Lt[0],Lt=Lt[1],v.G==2)if(Lt[0]=="c"){v.K=Lt[1],v.ia=Lt[2];const Le=Lt[3];Le!=null&&(v.la=Le,v.j.info("VER="+v.la));const Ne=Lt[4];Ne!=null&&(v.Aa=Ne,v.j.info("SVER="+v.Aa));const Gi=Lt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(A=1.5*Gi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xe=u.g;if(Xe){const _i=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var H=A.h;H.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fr(H,H.h),H.h=null))}if(A.D){const dl=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,Zt(A.I,A.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var et=u;if(A.qa=Go(A,A.J?A.ia:null,A.W),et.K){fn(A.h,et);var Ut=et,xe=A.L;xe&&(Ut.I=xe),Ut.B&&(fa(Ut),nr(Ut)),A.g=et}else zo(A);0<v.i.length&&ts(v)}else Lt[0]!="stop"&&Lt[0]!="close"||Hi(v,7);else v.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Hi(v,7):ul(v):Lt[0]!="noop"&&v.l&&v.l.ta(Lt),v.v=0)}}hi(4)}catch{}}var Vo=class{constructor(u,m){this.g=u,this.map=m}};function Ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yr(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fr(u,m){u.g?u.g.add(m):u.h=m}function fn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ui.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return X(u.i)}function Jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Qr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Qr(u),A=Jc(u),U=A.length,H=0;H<U;H++)m.call(void 0,A[H],v&&v[H],u)}var ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),U=null;if(0<=A){var H=u[v].substring(0,A);U=u[v].substring(A+1)}else H=u[v];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,da(this,u.s),this.l=u.l;var m=u.i,v=new Pi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Li(this,v),this.m=u.m}else u&&(m=String(u).match(ar))?(this.h=!1,rr(this,m[1]||"",!0),this.o=Un(m[2]||""),this.g=Un(m[3]||"",!0),da(this,m[4]),this.l=Un(m[5]||"",!0),Li(this,m[6]||"",!0),this.m=Un(m[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}we.prototype.toString=function(){var u=[],m=this.j;m&&u.push(lr(m,al,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,al,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?eh:rl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,Kr)),u.join("")};function An(u){return new we(u)}function rr(u,m,v){u.j=v?Un(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function da(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Li(u,m,v){m instanceof Pi?(u.i=m,Mo(u.i,u.h)):(v||(m=lr(m,nh)),u.i=new Pi(m,u.h))}function Zt(u,m,v){u.i.set(m,v)}function sr(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Un(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ko),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ko(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var al=/[#\/\?@]/g,rl=/[#\?:]/g,eh=/[#\?]/g,nh=/[#\?@]/g,Kr=/#/g;function Pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ln(u){u.g||(u.g=new Map,u.h=0,u.i&&th(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Pi.prototype,a.add=function(u,m){Ln(this),this.i=null,u=di(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function zi(u,m){Ln(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bi(u,m){return Ln(u),m=di(u,m),u.g.has(m)}a.forEach=function(u,m){Ln(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)},a.na=function(){Ln(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=u[A];for(let H=0;H<U.length;H++)v.push(m[A])}return v},a.V=function(u){Ln(this);let m=[];if(typeof u=="string")Bi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return Ln(this),this.i=null,u=di(this,u),Bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function sl(u,m,v){zi(u,m),0<v.length&&(u.i=null,u.g.set(di(u,m),X(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const H=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var U=H;et[A]!==""&&(U+="="+encodeURIComponent(String(et[A]))),u.push(U)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mo(u,m){m&&!u.j&&(Ln(u),u.i=null,u.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(zi(this,A),sl(this,U,v))},u)),u.j=m}function or(u,m){const v=new Fe;if(g.Image){const A=new Image;A.onload=L(Pn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=L(Pn,v,"TestLoadImage: error",!1,m,A),A.onabort=L(Pn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=L(Pn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ni(u,m){const v=new Fe,A=new AbortController,U=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function ur(){this.g=new ui}function mi(u,m,v){const A=v||"";try{il(u,function(U,H){let et=U;p(U)&&(et=Tn(U)),m.push(A+H+"="+encodeURIComponent(et))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function ma(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(ma,Mi),ma.prototype.g=function(){return new qi(this.l,this.j)},ma.prototype.i=function(u){return function(){return u}}({});function qi(u,m){ce.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(qi,ce),a=qi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,yi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gi(this):yi(this),this.readyState==3&&ll(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,gi(this))},a.Qa=function(u){this.g&&(this.response=u,gi(this))},a.ga=function(){this.g&&gi(this)};function gi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yi(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return _t(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ue(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=ol(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Zt(u,m,v))}function Qt(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Qt,ce);var Xr=/^https?$/i,cr=["POST","PUT"];a=Qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?tr(this.o):tr(jn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){jo(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(cr,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of v)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){jo(this,H)}};function jo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$r(u),pi(u)}function $r(u){u.A||(u.A=!0,Yt(u,"complete"),Yt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Yt(this,"complete"),Yt(this,"abort"),pi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Zr(this):this.bb())},a.bb=function(){Zr(this)};function Zr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)be(u.Ea,0,u);else if(Yt(u,"readystatechange"),zn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=et===0){var U=String(u.D).match(ar)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Xr.test(U?U.toLowerCase():"")}v=A}if(v)Yt(u,"complete"),Yt(u,"success");else{u.m=6;try{var H=2<zn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",$r(u)}}finally{pi(u)}}}}function pi(u,m){if(u.g){hr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Yt(u,"ready");try{v.onreadystatechange=A}catch{}}}function hr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ki(m)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(u){const m={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ut(u[A]))continue;var v=M(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}k(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Wr(u){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,u),this.cb=fr("retryDelaySeedMs",1e4,u),this.Wa=fr("forwardChannelMaxRetries",2,u),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(u&&u.concurrentRequestLimit),this.Da=new ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Wr.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,A){ne(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Go(this,null,this.W),ts(this)};function ul(u){if(Lo(u),u.G==3){var m=u.U++,v=An(u.I);if(Zt(v,"SID",u.K),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),dr(u,v),m=new Nt(u,u.j,m),m.L=2,m.v=sr(An(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),nr(m)}Ho(u)}function Jr(u){u.g&&(mr(u),u.g.cancel(),u.g=null)}function Lo(u){Jr(u),u.u&&(g.clearTimeout(u.u),u.u=null),es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ts(u){if(!Gr(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||I(),ct||(it(),ct=!0),Ot.add(m,u),u.B=0}}function ah(u,m){return Yr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(O(u.Ga,u,m),fl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Nt(this,this.j,u);let H=this.o;if(this.S&&(H?(H=b(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Po(this,U,m),v=An(this.I),Zt(v,"RID",u),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),dr(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(ol(H)))+"&"+m:this.m&&Ue(v,this.m,H)),Fr(this.h,U),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",m),Zt(v,"SID","null"),U.T=!0,hn(U,v,null)):hn(U,v,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||Gr(this.h)||cl(this))};function cl(u,m){var v;m?v=m.l:v=u.U++;const A=An(u.I);Zt(A,"SID",u.K),Zt(A,"RID",v),Zt(A,"AID",u.T),dr(u,A),u.m&&u.o&&Ue(A,u.m,u.o),v=new Nt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Po(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fr(u.h,v),hn(v,A,m)}function dr(u,m){u.H&&_t(u.H,function(v,A){Zt(m,A,v)}),u.l&&il({},function(v,A){Zt(m,A,v)})}function Po(u,m,v){v=Math.min(u.i.length,v);var A=u.l?O(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const et=["count="+v];H==-1?0<v?(H=U[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let Ut=!0;for(let xe=0;xe<v;xe++){let Lt=U[xe].g;const Le=U[xe].map;if(Lt-=H,0>Lt)H=Math.max(0,U[xe].g-100),Ut=!1;else try{mi(Le,et,"req"+Lt+"_")}catch{A&&A(Le)}}if(Ut){A=et.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function zo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||I(),ct||(it(),ct=!0),Ot.add(m,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(O(u.Fa,u),fl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(O(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Jr(this),Bo(this))};function mr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Bo(u){u.g=new Nt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=An(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),dr(u,m),u.m&&u.o&&Ue(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=sr(An(m)),v.m=null,v.P=!0,ei(v,u)}a.Za=function(){this.C!=null&&(this.C=null,Jr(this),hl(this),ne(19))};function es(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){es(u),mr(u),u.g=null;var A=2}else if(el(u.h,m))v=m.D,fn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Ht(),Yt(A,new pe(A,v)),ts(u)}else zo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&ah(u,m)||A==2&&hl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function fl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Hi(u,m){if(u.j.info("Error code "+m),m==2){var v=O(u.fb,u),A=u.Xa;const U=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||rr(A,"https"),sr(A),U?or(A.toString(),v):ni(A.toString(),v)}else ne(2);u.G=0,u.l&&u.l.sa(m),Ho(u),Lo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Ho(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Go(u,m,v){var A=v instanceof we?An(v):new we(v);if(A.g!="")m&&(A.g=m+"."+A.g),da(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new we(null);A&&rr(H,A),m&&(H.g=m),U&&da(H,U),v&&(H.l=v),A=H}return v=u.D,m=u.ya,v&&m&&Zt(A,v,m),Zt(A,"VER",u.la),dr(u,A),A}function Yo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qt(new ma({eb:v})):new Qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}a=Fo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ns(){}ns.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){ce.call(this),this.g=new Wr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new vi(this)}Y(dn,ce),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ul(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Tn(u),u=v);m.i.push(new Vo(m.Ya++,u)),m.G==3&&ts(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,dn.aa.N.call(this)};function Qo(u){kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Qo,kn);function Ko(){Se.call(this),this.status=1}Y(Ko,Se);function vi(u){this.g=u}Y(vi,Fo),vi.prototype.ua=function(){Yt(this.g,"a")},vi.prototype.ta=function(u){Yt(this.g,new Qo(u))},vi.prototype.sa=function(u){Yt(this.g,new Ko)},vi.prototype.ra=function(){Yt(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,k0=function(){return new ns},V0=function(){return Ht()},N0=se,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,rc=Jn,ti.COMPLETE="complete",x0=ti,ca.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",ce.prototype.listen=ce.prototype.K,io=ca,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,I0=Qt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Kv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new b0("@firebase/firestore");function xs(){return Vr.logLevel}function rt(a,...t){if(Vr.logLevel<=Bt.DEBUG){const i=t.map(ym);Vr.debug(`Firestore (${Xs}): ${a}`,...i)}}function ra(a,...t){if(Vr.logLevel<=Bt.ERROR){const i=t.map(ym);Vr.error(`Firestore (${Xs}): ${a}`,...i)}}function Ps(a,...t){if(Vr.logLevel<=Bt.WARN){const i=t.map(ym);Vr.warn(`Firestore (${Xs}): ${a}`,...i)}}function ym(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,M0(a,s,i)}function M0(a,t,i){let s=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ra(s),new Error(s)}function Kt(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||M0(t,o,s)}function wt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ks{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(on.UNAUTHENTICATED))}shutdown(){}}class tw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ew{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new za;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new za,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new za)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new j0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class nw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new nw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Xv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rw(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=t.charAt(o[h]%62))}return s}}function xt(a,t){return a<t?-1:a>t?1:0}function Pd(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return xt(s,o);{const h=U0(),d=sw(h.encode($v(a,i)),h.encode($v(t,i)));return d!==0?d:xt(s,o)}}i+=s>65535?2:1}return xt(a.length,t.length)}function $v(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function sw(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return xt(a[i],t[i]);return xt(a.length,t.length)}function zs(a,t,i){return a.length===t.length&&a.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Wv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Wv);return new de(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Zv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new de(0,0))}static max(){return new St(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class Ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Et(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const h=Ri.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return xt(t.length,i.length)}static compareSegments(t,i){const s=Ri.isNumericId(t),o=Ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):Pd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pa.fromString(t.substring(4,t.length-2))}}class le extends Ri{construct(t,i,s){return new le(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new le(i)}static emptyPath(){return new le([])}}const lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ri{construct(t,i,s){return new nn(t,i,s)}static isValidIdentifier(t){return lw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new nn([Jv])}static fromServerFormat(t){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function ow(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new de(i+1,0):new de(i,s));return new qa(o,gt.empty(),t)}function uw(a){return new qa(a.readTime,a.key,go)}class qa{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new qa(St.min(),gt.empty(),go)}static max(){return new qa(St.max(),gt.empty(),go)}}function cw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,t.documentKey),i!==0?i:xt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==hw)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,s)=>{i(t)})}static reject(t){return new W((i,s)=>{s(t)})}static waitFor(t){return new W((i,s)=>{let o=0,h=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>s(y))}),d=!0,h===o&&i()})}static or(t){let i=W.resolve(!1);for(const s of t)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(t,i){return new W((s,o)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(t[p]).next(E=>{d[p]=E,++g,g===h&&s(d)},E=>o(E))}})}static doWhile(t,i){return new W((s,o)=>{const h=()=>{t()===!0?i().next(()=>{h()},o):s()};h()})}}function dw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Zs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Uc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function Lc(a){return a==null}function yc(a){return a===0&&1/a==-1/0}function mw(a){return typeof a=="number"&&Number.isInteger(a)&&!yc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="";function gw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=t_(t)),t=yw(a.get(i),t);return t_(t)}function yw(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case P0:i+="";break;default:i+=h}}return i}function t_(a){return a+P0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function $a(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function z0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ju(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ju(this.root,t,this.comparator,!0)}}class Ju{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,s,o,h){this.key=t,this.value=i,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=h??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,h){return new tn(t??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const h=s(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,s,o,h){return this}insert(t,i,s){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(t){return new n_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class n_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new In([])}unionWith(t){let i=new Me(nn.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return zs(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new B0("Invalid base64 string: "+h):h}}(t);return new an(i)}static fromUint8Array(t){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(a){if(Kt(!!a,39018),typeof a=="string"){let t=0;const i=pw.exec(a);if(Kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(a.seconds),nanos:Ae(a.nanos)}}function Ae(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ga(a){return typeof a=="string"?an.fromBase64String(a):an.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="server_timestamp",H0="__type__",G0="__previous_value__",Y0="__local_write_time__";function vm(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[H0])===null||i===void 0?void 0:i.stringValue)===q0}function Pc(a){const t=a.mapValue.fields[G0];return vm(t)?Pc(t):t}function yo(a){const t=Ha(a.mapValue.fields[Y0].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,i,s,o,h,d,g,y,p){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p}}const pc="(default)";class po{constructor(t,i){this.projectId=t,this.database=i||pc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===pc}isEqual(t){return t instanceof po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",_w="__max__",tc={mapValue:{}},Q0="__vector__",vc="value";function Ya(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?vm(a)?4:Tw(a)?9007199254740991:Ew(a)?10:11:Et(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const i=Ya(a);if(i!==Ya(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return yo(a).isEqual(yo(t));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ha(o.timestampValue),g=Ha(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(o,h){return Ga(o.bytesValue).isEqual(Ga(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(o,h){return Ae(o.geoPointValue.latitude)===Ae(h.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(h.geoPointValue.longitude)}(a,t);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Ae(o.integerValue)===Ae(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ae(o.doubleValue),g=Ae(h.doubleValue);return d===g?yc(d)===yc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return zs(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ii(d[y],g[y])))return!1;return!0}(a,t);default:return Et(52216,{left:a})}}function vo(a,t){return(a.values||[]).find(i=>Ii(i,t))!==void 0}function Bs(a,t){if(a===t)return 0;const i=Ya(a),s=Ya(t);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=Ae(h.integerValue||h.doubleValue),y=Ae(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,t);case 3:return i_(a.timestampValue,t.timestampValue);case 4:return i_(yo(a),yo(t));case 5:return Pd(a.stringValue,t.stringValue);case 6:return function(h,d){const g=Ga(h),y=Ga(d);return g.compareTo(y)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=xt(g[p],y[p]);if(E!==0)return E}return xt(g.length,y.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=xt(Ae(h.latitude),Ae(d.latitude));return g!==0?g:xt(Ae(h.longitude),Ae(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return a_(a.arrayValue,t.arrayValue);case 10:return function(h,d){var g,y,p,E;const w=h.fields||{},O=d.fields||{},L=(g=w[vc])===null||g===void 0?void 0:g.arrayValue,Y=(y=O[vc])===null||y===void 0?void 0:y.arrayValue,X=xt(((p=L==null?void 0:L.values)===null||p===void 0?void 0:p.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:a_(L,Y)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===tc.mapValue&&d===tc.mapValue)return 0;if(h===tc.mapValue)return 1;if(d===tc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const O=Pd(y[w],E[w]);if(O!==0)return O;const L=Bs(g[y[w]],p[E[w]]);if(L!==0)return L}return xt(y.length,E.length)}(a.mapValue,t.mapValue);default:throw Et(23264,{Pe:i})}}function i_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return xt(a,t);const i=Ha(a),s=Ha(t),o=xt(i.seconds,s.seconds);return o!==0?o:xt(i.nanos,s.nanos)}function a_(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Bs(i[o],s[o]);if(h)return h}return xt(i.length,s.length)}function qs(a){return zd(a)}function zd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ha(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ga(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=zd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${zd(i.fields[d])}`;return o+"}"}(a.mapValue):Et(61005,{value:a})}function sc(a){switch(Ya(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pc(a);return t?16+sc(t):16;case 5:return 2*a.stringValue.length;case 6:return Ga(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+sc(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return $a(s.fields,(h,d)=>{o+=h.length+sc(d)}),o}(a.mapValue);default:throw Et(13486,{value:a})}}function r_(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Bd(a){return!!a&&"integerValue"in a}function _m(a){return!!a&&"arrayValue"in a}function s_(a){return!!a&&"nullValue"in a}function l_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function lc(a){return!!a&&"mapValue"in a}function Ew(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[F0])===null||i===void 0?void 0:i.stringValue)===Q0}function so(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return $a(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=so(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=so(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Tw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===_w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=so(i)}setAll(t){let i=nn.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=so(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(t){const i=this.field(t.popLast());lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){$a(i,(o,h)=>t[o]=h);for(const o of s)delete t[o]}clone(){return new _n(so(this.value))}}function K0(a){const t=[];return $a(a.fields,(i,s)=>{const o=new nn([i]);if(lc(s)){const h=K0(s.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,i,s,o,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,St.min(),St.min(),St.min(),_n.empty(),0)}static newFoundDocument(t,i,s,o){return new un(t,1,i,St.min(),s,o,0)}static newNoDocument(t,i){return new un(t,2,i,St.min(),St.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,St.min(),St.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.position=t,this.inclusive=i}}function o_(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const h=t[o],d=a.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ii(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i="asc"){this.field=t,this.dir=i}}function Aw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Oe extends X0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Sw(t,i,s):i==="array-contains"?new Dw(t,s):i==="in"?new Cw(t,s):i==="not-in"?new Ow(t,s):i==="array-contains-any"?new Iw(t,s):new Oe(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new ww(t,s):new Rw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bs(i,this.value)):i!==null&&Ya(this.value)===Ya(i)&&this.matchesComparison(Bs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends X0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new li(t,i)}matches(t){return $0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $0(a){return a.op==="and"}function Z0(a){return bw(a)&&$0(a)}function bw(a){for(const t of a.filters)if(t instanceof li)return!1;return!0}function qd(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+qs(a.value);if(Z0(a))return a.filters.map(t=>qd(t)).join(",");{const t=a.filters.map(i=>qd(i)).join(",");return`${a.op}(${t})`}}function W0(a,t){return a instanceof Oe?function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)}(a,t):a instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&W0(d,o.filters[g]),!0):!1}(a,t):void Et(19439)}function J0(a){return a instanceof Oe?function(i){return`${i.field.canonicalString()} ${i.op} ${qs(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(J0).join(" ,")+"}"}(a):"Filter"}class Sw extends Oe{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ww extends Oe{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Rw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function tE(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class Dw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return _m(i)&&vo(i.arrayValue,this.value)}}class Cw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class Ow extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class Iw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!_m(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,i=null,s=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function c_(a,t=null,i=[],s=[],o=null,h=null,d=null){return new xw(a,t,i,s,o,h,d)}function Em(a){const t=wt(a);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>qd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Lc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>qs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>qs(s)).join(",")),t.Ie=i}return t.Ie}function Tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Aw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!W0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!u_(a.startAt,t.startAt)&&u_(a.endAt,t.endAt)}function Hd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,i=null,s=[],o=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nw(a,t,i,s,o,h,d,g){return new wo(a,t,i,s,o,h,d,g)}function eE(a){return new wo(a)}function h_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nE(a){return a.collectionGroup!==null}function lo(a){const t=wt(a);if(t.Ee===null){t.Ee=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(nn.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Ec(h,s))}),i.has(nn.keyField().canonicalString())||t.Ee.push(new Ec(nn.keyField(),s))}return t.Ee}function Di(a){const t=wt(a);return t.de||(t.de=Vw(t,lo(a))),t.de}function Vw(a,t){if(a.limitType==="F")return c_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Ec(o.field,h)});const i=a.endAt?new _c(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new _c(a.startAt.position,a.startAt.inclusive):null;return c_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Gd(a,t){const i=a.filters.concat([t]);return new wo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Yd(a,t,i){return new wo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function zc(a,t){return Tm(Di(a),Di(t))&&a.limitType===t.limitType}function iE(a){return`${Em(Di(a))}|lt:${a.limitType}`}function Ns(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>J0(o)).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>qs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>qs(o)).join(",")),`Target(${s})`}(Di(a))}; limitType=${a.limitType})`}function Bc(a,t){return t.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,o){for(const h of lo(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,t)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=o_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,lo(s),o)||s.endAt&&!function(d,g,y){const p=o_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,lo(s),o))}(a,t)}function kw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function aE(a){return(t,i)=>{let s=!1;for(const o of lo(a)){const h=Mw(o,t,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Mw(a,t,i){const s=a.field.isKeyField()?gt.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?Bs(y,p):Et(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$a(this.inner,(i,s)=>{for(const[o,h]of s)t(o,h)})}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new ye(gt.comparator);function sa(){return jw}const rE=new ye(gt.comparator);function ao(...a){let t=rE;for(const i of a)t=t.insert(i.key,i);return t}function sE(a){let t=rE;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function xr(){return oo()}function lE(){return oo()}function oo(){return new Ur(a=>a.toString(),(a,t)=>a.isEqual(t))}const Uw=new ye(gt.comparator),Lw=new Me(gt.comparator);function jt(...a){let t=Lw;for(const i of a)t=t.add(i);return t}const Pw=new Me(xt);function zw(){return Pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function oE(a){return{integerValue:""+a}}function Bw(a,t){return mw(t)?oE(t):Am(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function qw(a,t,i){return a instanceof Tc?function(o,h){const d={fields:{[H0]:{stringValue:q0},[Y0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&vm(h)&&(h=Pc(h)),h&&(d.fields[G0]=h),{mapValue:d}}(i,t):a instanceof _o?cE(a,t):a instanceof Eo?hE(a,t):function(o,h){const d=uE(o,h),g=f_(d)+f_(o.Re);return Bd(d)&&Bd(o.Re)?oE(g):Am(o.serializer,g)}(a,t)}function Hw(a,t,i){return a instanceof _o?cE(a,t):a instanceof Eo?hE(a,t):i}function uE(a,t){return a instanceof Ac?function(s){return Bd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Tc extends qc{}class _o extends qc{constructor(t){super(),this.elements=t}}function cE(a,t){const i=fE(t);for(const s of a.elements)i.some(o=>Ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class Eo extends qc{constructor(t){super(),this.elements=t}}function hE(a,t){let i=fE(t);for(const s of a.elements)i=i.filter(o=>!Ii(o,s));return{arrayValue:{values:i}}}class Ac extends qc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function f_(a){return Ae(a.integerValue||a.doubleValue)}function fE(a){return _m(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Gw(a,t){return a.field.isEqual(t.field)&&function(s,o){return s instanceof _o&&o instanceof _o||s instanceof Eo&&o instanceof Eo?zs(s.elements,o.elements,Ii):s instanceof Ac&&o instanceof Ac?Ii(s.Re,o.Re):s instanceof Tc&&o instanceof Tc}(a.transform,t.transform)}class Yw{constructor(t,i){this.version=t,this.transformResults=i}}class si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Hc{}function dE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new bm(a.key,si.none()):new Ro(a.key,a.data,si.none());{const i=a.data,s=_n.empty();let o=new Me(nn.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Za(a.key,s,new In(o.toArray()),si.none())}}function Fw(a,t,i){a instanceof Ro?function(o,h,d){const g=o.value.clone(),y=m_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Za?function(o,h,d){if(!oc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=m_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(mE(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,t,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function uo(a,t,i,s){return a instanceof Ro?function(h,d,g,y){if(!oc(h.precondition,d))return g;const p=h.value.clone(),E=g_(h.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,t,i,s):a instanceof Za?function(h,d,g,y){if(!oc(h.precondition,d))return g;const p=g_(h.fieldTransforms,y,d),E=d.data;return E.setAll(mE(h)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(w=>w.field))}(a,t,i,s):function(h,d,g){return oc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function Qw(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),h=uE(s.transform,o||null);h!=null&&(i===null&&(i=_n.empty()),i.set(s.field,h))}return i||null}function d_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zs(s,o,(h,d)=>Gw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ro extends Hc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Za extends Hc{constructor(t,i,s,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function mE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function m_(a,t,i){const s=new Map;Kt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=t.data.field(h.field);s.set(h.field,Hw(d,g,i[o]))}return s}function g_(a,t,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,qw(h,d,t))}return s}class bm extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kw extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&Fw(h,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=lE();return this.mutations.forEach(o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=dE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),jt())}isEqual(t){return this.batchId===t.batchId&&zs(this.mutations,t.mutations,(i,s)=>d_(i,s))&&zs(this.baseMutations,t.baseMutations,(i,s)=>d_(i,s))}}class Sm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return Uw}();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Sm(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function Ww(a){switch(a){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function gE(a){if(a===void 0)return ra("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ce.OK:return J.OK;case Ce.CANCELLED:return J.CANCELLED;case Ce.UNKNOWN:return J.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return J.INTERNAL;case Ce.UNAVAILABLE:return J.UNAVAILABLE;case Ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ce.NOT_FOUND:return J.NOT_FOUND;case Ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ce.ABORTED:return J.ABORTED;case Ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ce.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:a})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Pa([4294967295,4294967295],0);function y_(a){const t=U0().encode(a),i=new O0;return i.update(t),new Uint8Array(i.digest())}function p_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Pa([i,s],0),new Pa([o,h],0)]}class wm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Pa.fromNumber(this.pe)}we(t,i,s){let o=t.add(i.multiply(Pa.fromNumber(s)));return o.compare(Jw)===1&&(o=new Pa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=y_(t),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.be(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new wm(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=y_(t),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i,s,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Do.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Gc(St.min(),o,new ye(xt),sa(),jt())}}class Do{constructor(t,i,s,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Do(s,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,i,s,o){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=o}}class yE{constructor(t,i){this.targetId=t,this.Ce=i}}class pE{constructor(t,i,s=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class v_{constructor(){this.Fe=0,this.Me=__(),this.xe=an.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=jt(),i=jt(),s=jt();return this.Me.forEach((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:h})}}),new Do(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=__()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tR{constructor(t){this.ze=t,this.je=new Map,this.He=sa(),this.Je=ec(),this.Ye=ec(),this.Ze=new ye(xt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,s=t.Ce.count,o=this._t(i);if(o){const h=o.target;if(Hd(h))if(s===0){const d=new gt(h.path);this.tt(i,d,un.newNoDocument(d,St.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(t),y=g?this.lt(g,t,d):1;if(y!==0){this.st(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ga(s).toUint8Array()}catch(y){if(y instanceof B0)return Ps("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new wm(d,o,h)}catch(y){return Ps(y instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(t){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Hd(g.target)){const y=new gt(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,un.newNoDocument(y,t))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=jt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const p=this._t(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(t));const o=new Gc(t,i,this.Ze,this.He,s);return this.He=sa(),this.Je=ec(),this.Ye=ec(),this.Ze=new ye(xt),o}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new v_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Me(xt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Me(xt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new v_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function ec(){return new ye(gt.comparator)}function __(){return new ye(gt.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class aR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fd(a,t){return a.useProto3Json||Lc(t)?t:{value:t}}function bc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function rR(a,t){return bc(a,t.toTimestamp())}function Ci(a){return Kt(!!a,49232),St.fromTimestamp(function(i){const s=Ha(i);return new de(s.seconds,s.nanos)}(a))}function Rm(a,t){return Qd(a,t).canonicalString()}function Qd(a,t){const i=function(o){return new le(["projects",o.projectId,"databases",o.database])}(a).child("documents");return t===void 0?i:i.child(t)}function _E(a){const t=le.fromString(a);return Kt(SE(t),10190,{key:t.toString()}),t}function Kd(a,t){return Rm(a.databaseId,t.path)}function dd(a,t){const i=_E(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(TE(i))}function EE(a,t){return Rm(a.databaseId,t)}function sR(a){const t=_E(a);return t.length===4?le.emptyPath():TE(t)}function Xd(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function TE(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function E_(a,t,i){return{name:Kd(a,t),fields:i.value.mapValue.fields}}function lR(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=function(p,E){return p.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(p){const E=p.code===void 0?J.UNKNOWN:gE(p.code);return new lt(E,p.message||"")}(d);i=new pE(s,o,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(a,s.document.name),h=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):St.min(),g=new _n({mapValue:{fields:s.document.fields}}),y=un.newFoundDocument(o,h,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new uc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dd(a,s.document),h=s.readTime?Ci(s.readTime):St.min(),d=un.newNoDocument(o,h),g=s.removedTargetIds||[];i=new uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dd(a,s.document),h=s.removedTargetIds||[];i=new uc([],h,o,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Zw(o,h),g=s.targetId;i=new yE(g,d)}}return i}function oR(a,t){let i;if(t instanceof Ro)i={update:E_(a,t.key,t.value)};else if(t instanceof bm)i={delete:Kd(a,t.key)};else if(t instanceof Za)i={update:E_(a,t.key,t.data),updateMask:pR(t.fieldMask)};else{if(!(t instanceof Kw))return Et(16599,{ft:t.type});i={verify:Kd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _o)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Et(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:rR(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)}(a,t.precondition)),i}function uR(a,t){return a&&a.length>0?(Kt(t!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?Ci(o.updateTime):Ci(h);return d.isEqual(St.min())&&(d=Ci(h)),new Yw(d,o.transformResults||[])}(i,t))):[]}function cR(a,t){return{documents:[EE(a,t.path)]}}function hR(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=EE(a,o);const h=function(p){if(p.length!==0)return bE(li.create(p,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(p){if(p.length!==0)return p.map(E=>function(O){return{field:Vs(O.field),direction:mR(O.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Fd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:i,parent:o}}function fR(a){let t=sR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let h=[];i.where&&(h=function(w){const O=AE(w);return O instanceof li&&Z0(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(w){return w.map(O=>function(Y){return new Ec(ks(Y.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(w){let O;return O=typeof w=="object"?w.value:w,Lc(O)?null:O}(i.limit));let y=null;i.startAt&&(y=function(w){const O=!!w.before,L=w.values||[];return new _c(L,O)}(i.startAt));let p=null;return i.endAt&&(p=function(w){const O=!w.before,L=w.values||[];return new _c(L,O)}(i.endAt)),Nw(t,o,d,h,g,"F",y,p)}function dR(a,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function AE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ks(i.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ks(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ks(i.unaryFilter.field);return Oe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ks(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(a):a.fieldFilter!==void 0?function(i){return Oe.create(ks(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>AE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(a):Et(30097,{filter:a})}function mR(a){return eR[a]}function gR(a){return nR[a]}function yR(a){return iR[a]}function Vs(a){return{fieldPath:a.canonicalString()}}function ks(a){return nn.fromServerFormat(a.fieldPath)}function bE(a){return a instanceof Oe?function(i){if(i.op==="=="){if(l_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:gR(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(o=>bE(o));return s.length===1?s[0]:{compositeFilter:{op:yR(i.op),filters:s}}}(a):Et(54877,{filter:a})}function pR(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function SE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,i,s,o,h=St.min(),d=St.min(),g=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.wt=t}}function _R(a){const t=fR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Yd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.yn=new TR}addToCollectionParentIndex(t,i){return this.yn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(qa.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(qa.min())}updateCollectionGroup(t,i,s){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class TR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Me(le.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(wE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Hs(0)}static ir(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",AR=1048576;function b_([a,t],[i,s]){const o=xt(a,i);return o===0?xt(t,s):o}class bR{constructor(t){this.cr=t,this.buffer=new Me(b_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();b_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){rt(A_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Zs(i)?rt(A_,"Ignoring IndexedDB error during garbage collection: ",i):await $s(i)}await this.Ir(3e5)})}}class wR{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Uc.le);const s=new bR(i);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Er.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(T_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let s,o,h,d,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,i))).next(w=>(h=w,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(p=Date.now(),xs()<=Bt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w})))}}function RR(a,t){return new wR(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.changes=new Ur(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&uo(s.mutation,o,In.empty(),de.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,jt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=jt()){const o=xr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(h=>{let d=ao();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=xr();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,jt()))}populateOverlays(t,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(t,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,o){let h=sa();const d=oo(),g=function(){return oo()}();return i.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Za)?h=h.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),uo(E.mutation,p,E.mutation.getFieldMask(),de.now())):d.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>{var w;return g.set(p,new CR(E,(w=d.get(p))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,i){const s=oo();let o=new ye((d,g)=>d-g),h=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||In.empty();E=g.applyToLocalView(p,E),s.set(y,E);const w=(o.get(g.batchId)||jt()).add(y);o=o.insert(g.batchId,w)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,w=lE();E.forEach(O=>{if(!h.has(O)){const L=dE(i.get(O),s.get(O));L!==null&&w.set(O,L),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,p,w))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-h.size):W.resolve(xr());let g=go,y=h;return d.next(p=>W.forEach(p,(E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),h.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(O=>{y=y.insert(E,O)}))).next(()=>this.populateOverlays(t,p,h)).next(()=>this.computeViews(t,y,p,jt())).next(E=>({batchId:g,changes:sE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const h=i.collectionGroup;let d=ao();return this.indexManager.getCollectionParents(t,h).next(g=>W.forEach(g,y=>{const p=function(w,O){return new wo(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next(E=>{E.forEach((w,O)=>{d=d.insert(w,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,o))).next(d=>{h.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,un.newInvalidDocument(E)))});let g=ao();return d.forEach((y,p)=>{const E=h.get(y);E!==void 0&&uo(E.mutation,p,In.empty(),de.now()),Bc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return W.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:_R(o.bundledQuery),readTime:Ci(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new ye(gt.comparator),this.Or=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const s=xr();return W.forEach(i,o=>this.getOverlay(t,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,h)=>{this.St(t,i,h)}),W.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),W.resolve()}getOverlaysForCollection(t,i,s){const o=xr(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let h=new ye((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=h.get(p.largestBatchId);E===null&&(E=xr(),h=h.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=xr(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return W.resolve(g)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new $w(i,s));let h=this.Or.get(i);h===void 0&&(h=jt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Nr=new Me(qe.Br),this.Lr=new Me(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const s=new qe(t,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Qr(new qe(t,i))}$r(t,i){t.forEach(s=>this.removeReference(s,i))}Ur(t){const i=new gt(new le([])),s=new qe(i,t),o=new qe(i,t+1),h=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new gt(new le([])),s=new qe(i,t),o=new qe(i,t+1);let h=jt();return this.Lr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new qe(t,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return gt.comparator(t.key,i.key)||xt(t.Gr,i.Gr)}static kr(t,i){return xt(t.Gr,i.Gr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Me(qe.Br)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Xw(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new qe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Hr(s),h=o<0?0:o;return W.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pm:this.Jn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,o],d=>{const g=this.jr(d.Gr);h.push(g)}),W.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(xt);return i.forEach(o=>{const h=new qe(o,0),d=new qe(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),W.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new qe(new gt(h),0);let g=new Me(xt);return this.zr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Gr)),!0)},d),W.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Kt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return W.forEach(i.mutations,o=>{const h=new qe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,i){const s=new qe(i,0),o=this.zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.Zr=t,this.docs=function(){return new ye(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let s=sa();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():un.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let h=sa();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||cw(uw(E),s)<=0||(o.has(E.key)||Bc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return W.resolve(h)}getAllFromCollectionGroup(t,i,s,o){Et(9500)}Xr(t,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new MR(this)}getSize(t){return W.resolve(this.size)}}class MR extends DR{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),W.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.persistence=t,this.ei=new Ur(i=>Em(i),Tm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ti=0,this.ni=new Dm,this.targetCount=0,this.ri=Hs.rr()}forEachTarget(t,i){return this.ei.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),W.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new Hs(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.ar(i),W.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,s){let o=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),W.waitFor(h).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const s=this.ei.get(i)||null;return W.resolve(s)}addMatchingKeys(t,i,s){return this.ni.qr(i,s),W.resolve()}removeMatchingKeys(t,i,s){this.ni.$r(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(t,d))}),W.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),W.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ni.Wr(i);return W.resolve(s)}containsKey(t,i){return W.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.ii={},this.overlays={},this.si=new Uc(0),this.oi=!1,this.oi=!0,this._i=new NR,this.referenceDelegate=t(this),this.ai=new jR(this),this.indexManager=new ER,this.remoteDocumentCache=function(o){return new kR(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new vR(i),this.ci=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ii[t.toKey()];return s||(s=new VR(i,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const o=new UR(this.si.next());return this.referenceDelegate.li(),s(o).next(h=>this.referenceDelegate.hi(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Pi(t,i){return W.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,i)))}}class UR extends fw{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ti=new Dm,this.Ii=null}static Ei(t){return new Cm(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),W.resolve()}removeReference(t,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,s=>{const o=gt.fromPath(s);return this.Ai(t,o).next(h=>{h||i.removeEntry(o,St.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return W.or([()=>W.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Sc{constructor(t,i){this.persistence=t,this.Ri=new Ur(s=>gw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=RR(this,i)}static Ei(t,i){return new Sc(t,i)}li(){}hi(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}Vr(t){let i=0;return this.Ar(t,s=>{i++}).next(()=>i)}Ar(t,i){return W.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(h=>h?W.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(s++,h.removeEntry(d,St.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),W.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=sc(t.data.value)),i}gr(t,i,s){return W.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.Ri.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.ls=s,this.hs=o}static Ps(t,i){let s=jt(),o=jt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Om(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return VS()?8:dw(xS())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,s,o){const h={result:null};return this.Rs(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(t,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new LR;return this.fs(t,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>h.result)}gs(t,i,s,o){return s.documentReadCount<this.Es?(xs()<=Bt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(xs()<=Bt.DEBUG&&rt("QueryEngine","Query:",Ns(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(xs()<=Bt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):W.resolve())}Rs(t,i){if(h_(i))return W.resolve(null);let s=Di(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Yd(i,null,"F"),s=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=jt(...h);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const p=this.ps(i,g);return this.ys(i,p,d,y.readTime)?this.Rs(t,Yd(i,null,"F")):this.ws(t,p,i,y)}))})))}Vs(t,i,s,o){return h_(i)||o.isEqual(St.min())?W.resolve(null):this.As.getDocuments(t,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,o)?W.resolve(null):(xs()<=Bt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ns(i)),this.ws(t,d,i,ow(o,go)).next(g=>g))})}ps(t,i){let s=new Me(aE(t));return i.forEach((o,h)=>{Bc(t,h)&&(s=s.add(h))}),s}ys(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}fs(t,i,s){return xs()<=Bt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ns(i)),this.As.getDocumentsMatchingQuery(t,i,qa.min(),s)}ws(t,i,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",zR=3e8;class BR{constructor(t,i,s,o){this.persistence=t,this.bs=i,this.serializer=o,this.Ss=new ye(xt),this.Ds=new Ur(h=>Em(h),Tm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function qR(a,t,i,s){return new BR(a,t,i,s)}async function DE(a,t){const i=wt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Fs(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=jt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of h){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Ms:p,removedBatchIds:d,addedBatchIds:g}))})})}function HR(a,t){const i=wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const w=p.batch,O=w.keys();let L=W.resolve();return O.forEach(Y=>{L=L.next(()=>E.getEntry(y,Y)).next(X=>{const F=p.docVersions.get(Y);Kt(F!==null,48541),X.version.compareTo(F)<0&&(w.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),E.addEntry(X)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(y,w))}(i,s,t,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=jt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function CE(a){const t=wt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function GR(a,t){const i=wt(a),s=t.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const g=[];t.targetChanges.forEach((E,w)=>{const O=o.get(w);if(!O)return;g.push(i.ai.removeMatchingKeys(h,E.removedDocuments,w).next(()=>i.ai.addMatchingKeys(h,E.addedDocuments,w)));let L=O.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(w)!==null?L=L.withResumeToken(an.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(w,L),function(X,F,st){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=zR?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(O,L,E)&&g.push(i.ai.updateTargetData(h,L))});let y=sa(),p=jt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))}),g.push(YR(h,d,t.documentUpdates).next(E=>{y=E.xs,p=E.Os})),!s.isEqual(St.min())){const E=i.ai.getLastRemoteSnapshotVersion(h).next(w=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(E)}return W.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,p)).next(()=>y)}).then(h=>(i.Ss=o,h))}function YR(a,t,i){let s=jt(),o=jt();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=sa();return i.forEach((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Im,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{xs:d,Os:o}})}function FR(a,t){const i=wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function QR(a,t){const i=wt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.ai.getTargetData(s,t).next(h=>h?(o=h,W.resolve(o)):i.ai.allocateTargetId(s).next(d=>(o=new ja(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(t,s.targetId)),s})}async function $d(a,t,i){const s=wt(a),o=s.Ss.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Zs(d))throw d;rt(Im,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function S_(a,t,i){const s=wt(a);let o=St.min(),h=jt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const w=wt(y),O=w.Ds.get(E);return O!==void 0?W.resolve(w.Ss.get(O)):w.ai.getTargetData(p,E)}(s,d,Di(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?h:jt())).next(g=>(KR(s,kw(t),g),{documents:g,Ns:h})))}function KR(a,t,i){let s=a.vs.get(t)||St.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.vs.set(t,s)}class w_{constructor(){this.activeTargetIds=zw()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XR{constructor(){this.So=new w_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,s){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new w_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class D_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){rt(R_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){rt(R_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Zd(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",ZR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,i,s,o,h){const d=Zd(),g=this.$o(t,i.toUriEncodedString());rt(md,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(y,o,h),this.Ko(t,g,y,s).then(p=>(rt(md,`Received RPC '${t}' ${d}: `,p),p),p=>{throw Ps(md,`RPC '${t}' ${d} failed with error: `,p,"url: ",g,"request:",s),p})}Wo(t,i,s,o,h,d){return this.Qo(t,i,s,o,h)}Uo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>t[h]=o),s&&s.headers.forEach((o,h)=>t[h]=o)}$o(t,i){const s=ZR[t];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class tD extends WR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,s,o){const h=Zd();return new Promise((d,g)=>{const y=new I0;y.setWithCredentials(!0),y.listenOnce(x0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case rc.NO_ERROR:const E=y.getResponseJson();rt(ln,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(E)),d(E);break;case rc.TIMEOUT:rt(ln,`RPC '${t}' ${h} timed out`),g(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const w=y.getStatus();if(rt(ln,`RPC '${t}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O==null?void 0:O.error;if(L&&L.status&&L.message){const Y=function(F){const st=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN}(L.status);g(new lt(Y,L.message))}else g(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new lt(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:h,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{rt(ln,`RPC '${t}' ${h} completed.`)}});const p=JSON.stringify(o);rt(ln,`RPC '${t}' ${h} sending request:`,o),y.send(i,"POST",p,s,15)})}a_(t,i,s){const o=Zd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=k0(),g=V0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Uo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=h.join("");rt(ln,`Creating RPC '${t}' stream ${o}: ${E}`,y);const w=d.createWebChannel(E,y);let O=!1,L=!1;const Y=new JR({Go:F=>{L?rt(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(O||(rt(ln,`Opening RPC '${t}' stream ${o} transport.`),w.open(),O=!0),rt(ln,`RPC '${t}' stream ${o} sending:`,F),w.send(F))},zo:()=>w.close()}),X=(F,st,ut)=>{F.listen(st,at=>{try{ut(at)}catch(mt){setTimeout(()=>{throw mt},0)}})};return X(w,io.EventType.OPEN,()=>{L||(rt(ln,`RPC '${t}' stream ${o} transport opened.`),Y.t_())}),X(w,io.EventType.CLOSE,()=>{L||(L=!0,rt(ln,`RPC '${t}' stream ${o} transport closed`),Y.r_())}),X(w,io.EventType.ERROR,F=>{L||(L=!0,Ps(ln,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Y.r_(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),X(w,io.EventType.MESSAGE,F=>{var st;if(!L){const ut=F.data[0];Kt(!!ut,16349);const at=ut,mt=(at==null?void 0:at.error)||((st=at[0])===null||st===void 0?void 0:st.error);if(mt){rt(ln,`RPC '${t}' stream ${o} received error:`,mt);const dt=mt.status;let _t=function(D){const N=Ce[D];if(N!==void 0)return gE(N)}(dt),k=mt.message;_t===void 0&&(_t=J.INTERNAL,k="Unknown error status: "+dt+" with message "+mt.message),L=!0,Y.r_(new lt(_t,k)),w.close()}else rt(ln,`RPC '${t}' stream ${o} received:`,ut),Y.i_(ut)}}),X(g,N0.STAT_EVENT,F=>{F.stat===Ld.PROXY?rt(ln,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Ld.NOPROXY&&rt(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.n_()},0),Y}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(a){return new aR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,i,s=1e3,o=1.5,h=6e4){this.bi=t,this.timerId=i,this.u_=s,this.c_=o,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class IE{constructor(t,i,s,o,h,d,g,y){this.bi=t,this.R_=s,this.V_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new OE(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ra(i.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===i&&this.B_(s,o)},s=>{t(()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,i){const s=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return rt(C_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(rt(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eD extends IE{constructor(t,i,s,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=lR(this.serializer,t),s=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ci(d.readTime):St.min()}(t);return this.listener.Q_(i,s)}U_(t){const i={};i.database=Xd(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Hd(y)?{documents:cR(h,y)}:{query:hR(h,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vE(h,d.resumeToken);const p=Fd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=bc(h,d.snapshotVersion.toTimestamp());const p=Fd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const s=dR(this.serializer,t);s&&(i.labels=s),this.F_(i)}K_(t){const i={};i.database=Xd(this.serializer),i.removeTarget=t,this.F_(i)}}class nD extends IE{constructor(t,i,s,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=uR(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.j_(s,i)}H_(){const t={};t.database=Xd(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>oR(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{}class aD extends iD{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(t,Qd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(J.UNKNOWN,h.toString())})}Wo(t,i,s,o,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Qd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ra(i),this.ea=!1):rt("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="RemoteStore";class sD{constructor(t,i,s,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{Lr(this)&&(rt(kr,"Restarting streams for network reachability change."),await async function(y){const p=wt(y);p.aa.add(4),await Co(p),p.la.set("Unknown"),p.aa.delete(4),await Fc(p)}(this))})}),this.la=new rD(s,o)}}async function Fc(a){if(Lr(a))for(const t of a.ua)await t(!0)}async function Co(a){for(const t of a.ua)await t(!1)}function xE(a,t){const i=wt(a);i._a.has(t.targetId)||(i._a.set(t.targetId,t),km(i)?Vm(i):Ws(i).b_()&&Nm(i,t))}function xm(a,t){const i=wt(a),s=Ws(i);i._a.delete(t),s.b_()&&NE(i,t),i._a.size===0&&(s.b_()?s.v_():Lr(i)&&i.la.set("Unknown"))}function Nm(a,t){if(a.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ws(a).U_(t)}function NE(a,t){a.ha.Ke(t),Ws(a).K_(t)}function Vm(a){a.ha=new tR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>a._a.get(t)||null,Pt:()=>a.datastore.serializer.databaseId}),Ws(a).start(),a.la.ta()}function km(a){return Lr(a)&&!Ws(a).w_()&&a._a.size>0}function Lr(a){return wt(a).aa.size===0}function VE(a){a.ha=void 0}async function lD(a){a.la.set("Online")}async function oD(a){a._a.forEach((t,i)=>{Nm(a,t)})}async function uD(a,t){VE(a),km(a)?(a.la.ia(t),Vm(a)):a.la.set("Unknown")}async function cD(a,t,i){if(a.la.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o._a.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o._a.delete(g),o.ha.removeTarget(g))}(a,t)}catch(s){rt(kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wc(a,s)}else if(t instanceof uc?a.ha.Xe(t):t instanceof yE?a.ha.ot(t):a.ha.nt(t),!i.isEqual(St.min()))try{const s=await CE(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=h._a.get(p);E&&h._a.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=h._a.get(y);if(!E)return;h._a.set(y,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),NE(h,y);const w=new ja(E.target,y,p,E.sequenceNumber);Nm(h,w)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){rt(kr,"Failed to raise snapshot:",s),await wc(a,s)}}async function wc(a,t,i){if(!Zs(t))throw t;a.aa.add(1),await Co(a),a.la.set("Offline"),i||(i=()=>CE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(kr,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await Fc(a)})}function kE(a,t){return t().catch(i=>wc(a,i,t))}async function Qc(a){const t=wt(a),i=Fa(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:pm;for(;hD(t);)try{const o=await FR(t.localStore,s);if(o===null){t.oa.length===0&&i.v_();break}s=o.batchId,fD(t,o)}catch(o){await wc(t,o)}ME(t)&&jE(t)}function hD(a){return Lr(a)&&a.oa.length<10}function fD(a,t){a.oa.push(t);const i=Fa(a);i.b_()&&i.W_&&i.G_(t.mutations)}function ME(a){return Lr(a)&&!Fa(a).w_()&&a.oa.length>0}function jE(a){Fa(a).start()}async function dD(a){Fa(a).H_()}async function mD(a){const t=Fa(a);for(const i of a.oa)t.G_(i.mutations)}async function gD(a,t,i){const s=a.oa.shift(),o=Sm.from(s,t,i);await kE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Qc(a)}async function yD(a,t){t&&Fa(a).W_&&await async function(s,o){if(function(d){return Ww(d)&&d!==J.ABORTED}(o.code)){const h=s.oa.shift();Fa(s).D_(),await kE(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Qc(s)}}(a,t),ME(a)&&jE(a)}async function O_(a,t){const i=wt(a);i.asyncQueue.verifyOperationInProgress(),rt(kr,"RemoteStore received new credentials");const s=Lr(i);i.aa.add(3),await Co(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Fc(i)}async function pD(a,t){const i=wt(a);t?(i.aa.delete(2),await Fc(i)):t||(i.aa.add(2),await Co(i),i.la.set("Unknown"))}function Ws(a){return a.Pa||(a.Pa=function(i,s,o){const h=wt(i);return h.Y_(),new eD(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{jo:lD.bind(null,a),Jo:oD.bind(null,a),Zo:uD.bind(null,a),Q_:cD.bind(null,a)}),a.ua.push(async t=>{t?(a.Pa.D_(),km(a)?Vm(a):a.la.set("Unknown")):(await a.Pa.stop(),VE(a))})),a.Pa}function Fa(a){return a.Ta||(a.Ta=function(i,s,o){const h=wt(i);return h.Y_(),new nD(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:dD.bind(null,a),Zo:yD.bind(null,a),z_:mD.bind(null,a),j_:gD.bind(null,a)}),a.ua.push(async t=>{t?(a.Ta.D_(),await Qc(a)):(await a.Ta.stop(),a.oa.length>0&&(rt(kr,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,i,s,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,h){const d=Date.now()+s,g=new Mm(t,i,d,o,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(a,t){if(ra("AsyncQueue",`${t}: ${a}`),Zs(a))return new lt(J.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(t){return new Ls(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ls)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ls;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.Ia=new ye(gt.comparator)}track(t){const i=t.doc.key,s=this.Ia.get(i);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(i):t.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,s)=>{t.push(s)}),t}}class Gs{constructor(t,i,s,o,h,d,g,y,p){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Gs(t,i,Ls.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class _D{constructor(){this.queries=x_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const o=wt(i),h=o.queries;o.queries=x_(),h.forEach((d,g)=>{for(const y of g.Ra)y.onError(s)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function x_(){return new Ur(a=>iE(a),zc)}async function ED(a,t){const i=wt(a);let s=3;const o=t.query;let h=i.queries.get(o);h?!h.Va()&&t.ma()&&(s=2):(h=new vD,s=t.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(o,!0);break;case 1:h.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=jm(d,`Initialization of query '${Ns(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,h),h.Ra.push(t),t.ga(i.onlineState),h.Aa&&t.pa(h.Aa)&&Um(i)}async function TD(a,t){const i=wt(a),s=t.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(t);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?o=t.ma()?0:1:!h.Va()&&t.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function AD(a,t){const i=wt(a);let s=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(o)&&(s=!0);d.Aa=o}}s&&Um(i)}function bD(a,t,i){const s=wt(a),o=s.queries.get(t);if(o)for(const h of o.Ra)h.onError(i);s.queries.delete(t)}function Um(a){a.fa.forEach(t=>{t.next()})}var Wd,N_;(N_=Wd||(Wd={})).ya="default",N_.Cache="cache";class SD{constructor(t,i,s){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Gs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=Gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class wD{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=jt(),this.mutatedKeys=jt(),this.Ua=aE(t),this.Ka=new Ls(this.Ua)}get Wa(){return this.qa}Ga(t,i){const s=i?i.za:new I_,o=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const O=o.get(E),L=Bc(this.query,w)?w:null,Y=!!O&&this.mutatedKeys.has(O.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;O&&L?O.data.isEqual(L.data)?Y!==X&&(s.track({type:3,doc:L}),F=!0):this.ja(O,L)||(s.track({type:2,doc:L}),F=!0,(y&&this.Ua(L,y)>0||p&&this.Ua(L,p)<0)&&(g=!0)):!O&&L?(s.track({type:0,doc:L}),F=!0):O&&!L&&(s.track({type:1,doc:O}),F=!0,(y||p)&&(g=!0)),F&&(L?(d=d.add(L),h=X?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const h=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((E,w)=>function(L,Y){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:F})}};return X(L)-X(Y)}(E.type,w.type)||this.Ua(E.doc,w.doc)),this.Ha(s),o=o!=null&&o;const g=i&&!o?this.Ja():[],y=this.$a.size===0&&this.current&&!o?1:0,p=y!==this.Qa;return this.Qa=y,d.length!==0||p?{snapshot:new Gs(this.query,t.Ka,h,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new I_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=jt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return t.forEach(s=>{this.$a.has(s)||i.push(new LE(s))}),this.$a.forEach(s=>{t.has(s)||i.push(new UE(s))}),i}Xa(t){this.qa=t.Ns,this.$a=jt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return Gs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Lm="SyncEngine";class RD{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class DD{constructor(t){this.key=t,this.tu=!1}}class CD{constructor(t,i,s,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Ur(g=>iE(g),zc),this.iu=new Map,this.su=new Set,this.ou=new ye(gt.comparator),this._u=new Map,this.au=new Dm,this.uu={},this.cu=new Map,this.lu=Hs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function OD(a,t,i=!0){const s=GE(a);let o;const h=s.ru.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.eu()):o=await PE(s,t,i,!0),o}async function ID(a,t){const i=GE(a);await PE(i,t,!0,!1)}async function PE(a,t,i,s){const o=await QR(a.localStore,Di(t)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await xD(a,t,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&xE(a.remoteStore,o),g}async function xD(a,t,i,s,o){a.Pu=(w,O,L)=>async function(X,F,st,ut){let at=F.view.Ga(st);at.ys&&(at=await S_(X.localStore,F.query,!1).then(({documents:k})=>F.view.Ga(k,at)));const mt=ut&&ut.targetChanges.get(F.targetId),dt=ut&&ut.targetMismatches.get(F.targetId)!=null,_t=F.view.applyChanges(at,X.isPrimaryClient,mt,dt);return k_(X,F.targetId,_t.Ya),_t.snapshot}(a,w,O,L);const h=await S_(a.localStore,t,!0),d=new wD(t,h.Ns),g=d.Ga(h.documents),y=Do.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);k_(a,i,p.Ya);const E=new RD(t,i,d);return a.ru.set(t,E),a.iu.has(i)?a.iu.get(i).push(t):a.iu.set(i,[t]),p.snapshot}async function ND(a,t,i){const s=wt(a),o=s.ru.get(t),h=s.iu.get(o.targetId);if(h.length>1)return s.iu.set(o.targetId,h.filter(d=>!zc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&xm(s.remoteStore,o.targetId),Jd(s,o.targetId)}).catch($s)):(Jd(s,o.targetId),await $d(s.localStore,o.targetId,!0))}async function VD(a,t){const i=wt(a),s=i.ru.get(t),o=i.iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xm(i.remoteStore,s.targetId))}async function kD(a,t,i){const s=BD(a);try{const o=await function(d,g){const y=wt(d),p=de.now(),E=g.reduce((L,Y)=>L.add(Y.key),jt());let w,O;return y.persistence.runTransaction("Locally write mutations","readwrite",L=>{let Y=sa(),X=jt();return y.Cs.getEntries(L,E).next(F=>{Y=F,Y.forEach((st,ut)=>{ut.isValidDocument()||(X=X.add(st))})}).next(()=>y.localDocuments.getOverlayedDocuments(L,Y)).next(F=>{w=F;const st=[];for(const ut of g){const at=Qw(ut,w.get(ut.key).overlayedDocument);at!=null&&st.push(new Za(ut.key,at,K0(at.value.mapValue),si.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,st,g)}).next(F=>{O=F;const st=F.applyToLocalDocumentSet(w,X);return y.documentOverlayCache.saveOverlays(L,F.batchId,st)})}).then(()=>({batchId:O.batchId,changes:sE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.uu[d.currentUser.toKey()];p||(p=new ye(xt)),p=p.insert(g,y),d.uu[d.currentUser.toKey()]=p}(s,o.batchId,i),await Oo(s,o.changes),await Qc(s.remoteStore)}catch(o){const h=jm(o,"Failed to persist write");i.reject(h)}}async function zE(a,t){const i=wt(a);try{const s=await GR(i.localStore,t);t.targetChanges.forEach((o,h)=>{const d=i._u.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?Kt(d.tu,14607):o.removedDocuments.size>0&&(Kt(d.tu,42227),d.tu=!1))}),await Oo(i,s,t)}catch(s){await $s(s)}}function V_(a,t,i){const s=wt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ru.forEach((h,d)=>{const g=d.view.ga(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=wt(d);y.onlineState=g;let p=!1;y.queries.forEach((E,w)=>{for(const O of w.Ra)O.ga(g)&&(p=!0)}),p&&Um(y)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MD(a,t,i){const s=wt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s._u.get(t),h=o&&o.key;if(h){let d=new ye(gt.comparator);d=d.insert(h,un.newNoDocument(h,St.min()));const g=jt().add(h),y=new Gc(St.min(),new Map,new ye(xt),d,g);await zE(s,y),s.ou=s.ou.remove(h),s._u.delete(t),Pm(s)}else await $d(s.localStore,t,!1).then(()=>Jd(s,t,i)).catch($s)}async function jD(a,t){const i=wt(a),s=t.batch.batchId;try{const o=await HR(i.localStore,t);qE(i,s,null),BE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Oo(i,o)}catch(o){await $s(o)}}async function UD(a,t,i){const s=wt(a);try{const o=await function(d,g){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(w=>(Kt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(p,w))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,t);qE(s,t,i),BE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Oo(s,o)}catch(o){await $s(o)}}function BE(a,t){(a.cu.get(t)||[]).forEach(i=>{i.resolve()}),a.cu.delete(t)}function qE(a,t,i){const s=wt(a);let o=s.uu[s.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function Jd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.iu.get(t))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(t),a.isPrimaryClient&&a.au.Ur(t).forEach(s=>{a.au.containsKey(s)||HE(a,s)})}function HE(a,t){a.su.delete(t.path.canonicalString());const i=a.ou.get(t);i!==null&&(xm(a.remoteStore,i),a.ou=a.ou.remove(t),a._u.delete(i),Pm(a))}function k_(a,t,i){for(const s of i)s instanceof UE?(a.au.addReference(s.key,t),LD(a,s)):s instanceof LE?(rt(Lm,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,t),a.au.containsKey(s.key)||HE(a,s.key)):Et(19791,{Iu:s})}function LD(a,t){const i=t.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(rt(Lm,"New document in limbo: "+i),a.su.add(s),Pm(a))}function Pm(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const t=a.su.values().next().value;a.su.delete(t);const i=new gt(le.fromString(t)),s=a.lu.next();a._u.set(s,new DD(i)),a.ou=a.ou.insert(i,s),xE(a.remoteStore,new ja(Di(eE(i.path)),s,"TargetPurposeLimboResolution",Uc.le))}}async function Oo(a,t,i){const s=wt(a),o=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,y)=>{d.push(s.Pu(y,t,i).then(p=>{var E;if((p||i)&&s.isPrimaryClient){const w=p?!p.fromCache:(E=i==null?void 0:i.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Om.Ps(y.targetId,p);h.push(w)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(y,p){const E=wt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(p,O=>W.forEach(O.ls,L=>E.persistence.referenceDelegate.addReference(w,O.targetId,L)).next(()=>W.forEach(O.hs,L=>E.persistence.referenceDelegate.removeReference(w,O.targetId,L)))))}catch(w){if(!Zs(w))throw w;rt(Im,"Failed to update sequence numbers: "+w)}for(const w of p){const O=w.targetId;if(!w.fromCache){const L=E.Ss.get(O),Y=L.snapshotVersion,X=L.withLastLimboFreeSnapshotVersion(Y);E.Ss=E.Ss.insert(O,X)}}}(s.localStore,h))}async function PD(a,t){const i=wt(a);if(!i.currentUser.isEqual(t)){rt(Lm,"User change. New user:",t.toKey());const s=await DE(i.localStore,t);i.currentUser=t,function(h,d){h.cu.forEach(g=>{g.forEach(y=>{y.reject(new lt(J.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Oo(i,s.Ms)}}function zD(a,t){const i=wt(a),s=i._u.get(t);if(s&&s.tu)return jt().add(s.key);{let o=jt();const h=i.iu.get(t);if(!h)return o;for(const d of h){const g=i.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function GE(a){const t=wt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MD.bind(null,t),t.nu.Q_=AD.bind(null,t.eventManager),t.nu.Tu=bD.bind(null,t.eventManager),t}function BD(a){const t=wt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UD.bind(null,t),t}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return qR(this.persistence,new PR,t.initialUser,this.serializer)}Ru(t){return new RE(Cm.Ei,this.serializer)}Au(t){return new XR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class qD extends Rc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){Kt(this.persistence.referenceDelegate instanceof Sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SR(s,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new RE(s=>Sc.Ei(s,i),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await pD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _D}()}createDatastore(t){const i=Yc(t.databaseInfo.databaseId),s=function(h){return new tD(h)}(t.databaseInfo);return function(h,d,g,y){return new aD(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,h,d,g){return new sD(s,o,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>V_(this.syncEngine,i,0),function(){return D_.C()?new D_:new $R}())}createSyncEngine(t,i){return function(o,h,d,g,y,p,E){const w=new CD(o,h,d,g,y,p);return E&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const h=wt(o);rt(kr,"RemoteStore shutting down."),h.aa.add(5),await Co(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ra("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class GD{constructor(t,i,s,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=L0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Qa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Qa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=jm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function yd(a,t){a.asyncQueue.verifyOperationInProgress(),rt(Qa,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await DE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function M_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await YD(a);rt(Qa,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>O_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>O_(t.remoteStore,o)),a._onlineComponents=t}async function YD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Qa,"Using user provided OfflineComponentProvider");try{await yd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ps("Error using user provided cache. Falling back to memory cache: "+i),await yd(a,new Rc)}}else rt(Qa,"Using default OfflineComponentProvider"),await yd(a,new qD(void 0));return a._offlineComponents}async function YE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Qa,"Using user provided OnlineComponentProvider"),await M_(a,a._uninitializedComponentsProvider._online)):(rt(Qa,"Using default OnlineComponentProvider"),await M_(a,new tm))),a._onlineComponents}function FD(a){return YE(a).then(t=>t.syncEngine)}async function QD(a){const t=await YE(a),i=t.eventManager;return i.onListen=OD.bind(null,t.syncEngine),i.onUnlisten=ND.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ID.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=VD.bind(null,t.syncEngine),i}function KD(a,t,i={}){const s=new za;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,p){const E=new HD({next:O=>{E.yu(),d.enqueueAndForget(()=>TD(h,w)),O.fromCache&&y.source==="server"?p.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(O)},error:O=>p.reject(O)}),w=new SD(g,E,{includeMetadataChanges:!0,Fa:!0});return ED(h,w)}(await QD(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(a,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function XD(a,t,i,s){if(t===!0&&s===!0)throw new lt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function U_(a){if(!gt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function L_(a){if(gt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Kc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Dc(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Kc(a);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firestore.googleapis.com",P_=!0;class z_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=P_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:P_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AR)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new J1;switch(s.type){case"firstParty":return new iw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=j_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),j_.delete(i),s.terminate())}(this),Promise.resolve()}}function $D(a,t,i,s={}){var o;const h=(a=Dc(a,Xc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${t}:${i}`;h.host!==KE&&h.host!==g&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!dc(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=on.MOCK_USER;else{p=IS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(w)}a._authCredentials=new tw(new j0(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Js(this.firestore,t,this._query)}}class Kn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kn(this.firestore,t,this._key)}}class Ba extends Js{constructor(t,i,s){super(t,i,eE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kn(this.firestore,null,new gt(t))}withConverter(t){return new Ba(this.firestore,t,this._path)}}function ZD(a,t,...i){if(a=Oi(a),QE("collection","path",t),a instanceof Xc){const s=le.fromString(t,...i);return L_(s),new Ba(a,null,s)}{if(!(a instanceof Kn||a instanceof Ba))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(t,...i));return L_(s),new Ba(a.firestore,null,s)}}function WD(a,t,...i){if(a=Oi(a),arguments.length===1&&(t=L0.newId()),QE("doc","path",t),a instanceof Xc){const s=le.fromString(t,...i);return U_(s),new Kn(a,null,new gt(s))}{if(!(a instanceof Kn||a instanceof Ba))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(t,...i));return U_(s),new Kn(a.firestore,a instanceof Ba?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class q_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OE(this,"async_queue_retry"),this.ju=()=>{const s=gd();s&&rt(B_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new za;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Zs(t))throw t;rt(B_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,ra("INTERNAL UNHANDLED ERROR: ",H_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(t,i,s){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const o=Mm.createAndSchedule(this,t,i,s,h=>this.Xu(h));return this.Uu.push(o),o}Ju(){this.Ku&&Et(47125,{ec:H_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function H_(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class zm extends Xc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new q_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new q_(t),this._firestoreClient=void 0,await t}}}function JD(a,t){const i=typeof a=="object"?a:z1(),s=typeof a=="string"?a:pc,o=M1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=CS("firestore");h&&$D(o,...h)}return o}function Bm(a){if(a._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||t2(a),a._firestoreClient}function t2(a){var t,i,s;const o=a._freezeSettings(),h=function(g,y,p,E){return new vw(g,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,FE(E.experimentalLongPollingOptions),E.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new GD(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ys(an.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ys(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class n2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Za(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(t,this.data,i,this.fieldTransforms)}}class XE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Za(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function $E(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:a})}}class Ym{constructor(t,i,s,o,h,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Cc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if($E(this.oc)&&e2.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class i2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Yc(t)}dc(t,i,s,o=!1){return new Ym({oc:t,methodName:i,Ec:s,path:nn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZE(a){const t=a._freezeSettings(),i=Yc(a._databaseId);return new i2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function a2(a,t,i,s,o,h={}){const d=a.dc(h.merge||h.mergeFields?2:0,t,i,o);Fm("Data must be an object, but it was:",d,s);const g=WE(s,d);let y,p;if(h.merge)y=new In(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const w of h.mergeFields){const O=em(t,w,i);if(!d.contains(O))throw new lt(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);tT(E,O)||E.push(O)}y=new In(E),p=d.fieldTransforms.filter(w=>y.covers(w.field))}else y=null,p=d.fieldTransforms;return new n2(new _n(g),y,p)}class Zc extends qm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zc}}function r2(a,t,i,s){const o=a.dc(1,t,i);Fm("Data must be an object, but it was:",o,s);const h=[],d=_n.empty();$a(s,(y,p)=>{const E=Qm(t,y,i);p=Oi(p);const w=o.hc(E);if(p instanceof Zc)h.push(E);else{const O=Io(p,w);O!=null&&(h.push(E),d.set(E,O))}});const g=new In(h);return new XE(d,g,o.fieldTransforms)}function s2(a,t,i,s,o,h){const d=a.dc(1,t,i),g=[em(t,s,i)],y=[o];if(h.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)g.push(em(t,h[O])),y.push(h[O+1]);const p=[],E=_n.empty();for(let O=g.length-1;O>=0;--O)if(!tT(p,g[O])){const L=g[O];let Y=y[O];Y=Oi(Y);const X=d.hc(L);if(Y instanceof Zc)p.push(L);else{const F=Io(Y,X);F!=null&&(p.push(L),E.set(L,F))}}const w=new In(p);return new XE(E,w,d.fieldTransforms)}function l2(a,t,i,s=!1){return Io(i,a.dc(s?4:3,t))}function Io(a,t){if(JE(a=Oi(a)))return Fm("Unsupported field value:",t,a),WE(a,t);if(a instanceof qm)return function(s,o){if(!$E(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let y=Io(g,o.Pc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,t)}return function(s,o){if((s=Oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Bw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=de.fromDate(s);return{timestampValue:bc(o.serializer,h)}}if(s instanceof de){const h=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bc(o.serializer,h)}}if(s instanceof Hm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ys)return{bytesValue:vE(o.serializer,s._byteString)};if(s instanceof Kn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gm)return function(d,g){return{mapValue:{fields:{[F0]:{stringValue:Q0},[vc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Tc("VectorValues must only contain numeric values.");return Am(g.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Kc(s)}`)}(a,t)}function WE(a,t){const i={};return z0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$a(a,(s,o)=>{const h=Io(o,t.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function JE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof Hm||a instanceof Ys||a instanceof Kn||a instanceof qm||a instanceof Gm)}function Fm(a,t,i){if(!JE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Kc(i);throw s==="an object"?t.Tc(a+" a custom object"):t.Tc(a+" "+s)}}function em(a,t,i){if((t=Oi(t))instanceof $c)return t._internalPath;if(typeof t=="string")return Qm(a,t);throw Cc("Field path arguments must be of type string or ",a,!1,void 0,i)}const o2=new RegExp("[~\\*/\\[\\]]");function Qm(a,t,i){if(t.search(o2)>=0)throw Cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new $c(...t.split("."))._internalPath}catch{throw Cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Cc(a,t,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new lt(J.INVALID_ARGUMENT,g+a+y)}function tT(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,i,s,o,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new u2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Km("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class u2 extends eT{data(){return super.data()}}function Km(a,t){return typeof t=="string"?Qm(a,t):t instanceof $c?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class h2 extends Xm{}function nT(a,t,...i){let s=[];t instanceof Xm&&s.push(t),s=s.concat(i),function(h){const d=h.filter(y=>y instanceof $m).length,g=h.filter(y=>y instanceof Wc).length;if(d>1||d>0&&g>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Wc extends h2{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Wc(t,i,s)}_apply(t){const i=this._parse(t);return iT(t._query,i),new Js(t.firestore,t.converter,Gd(t._query,i))}_parse(t){const i=ZE(t.firestore);return function(h,d,g,y,p,E,w){let O;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Y_(w,E);const Y=[];for(const X of w)Y.push(G_(y,h,X));O={arrayValue:{values:Y}}}else O=G_(y,h,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Y_(w,E),O=l2(g,d,w,E==="in"||E==="not-in");return Oe.create(p,E,O)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Oc(a,t,i){const s=t,o=Km("where",a);return Wc._create(o,s,i)}class $m extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new $m(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:li.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const y of g)iT(d,y),d=Gd(d,y)}(t._query,i),new Js(t.firestore,t.converter,Gd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G_(a,t,i){if(typeof(i=Oi(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(t)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(le.fromString(i));if(!gt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return r_(a,new gt(s))}if(i instanceof Kn)return r_(a,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(i)}.`)}function Y_(a,t){if(!Array.isArray(a)||a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iT(a,t){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class f2{convertValue(t,i="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ga(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return $a(t,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(t){var i,s,o;const h=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[vc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>Ae(d.doubleValue));return new Gm(h)}convertGeoPoint(t){return new Hm(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Pc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const i=Ha(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=le.fromString(t);Kt(SE(s),9688,{name:t});const o=new po(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||ra(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(a,t,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class m2 extends eT{constructor(t,i,s,o,h,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Km("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class cc extends m2{data(t={}){return super.data(t)}}class g2{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ic(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new cc(this._firestore,this._userDataWriter,s.key,s,new ic(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ic(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ic(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:y2(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function y2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}class p2 extends f2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ys(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Kn(this.firestore,null,i)}}function aT(a){a=Dc(a,Js);const t=Dc(a.firestore,zm),i=Bm(t),s=new p2(t);return c2(a._query),KD(i,a._query).then(o=>new g2(t,s,a,o))}function v2(a,t){return function(s,o){const h=new za;return s.asyncQueue.enqueueAndForget(async()=>kD(await FD(s),o,h)),h.promise}(Bm(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ZE(t)}set(t,i,s){this._verifyNotCommitted();const o=pd(t,this._firestore),h=d2(o.converter,i,s),d=a2(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,si.none())),this}update(t,i,s,...o){this._verifyNotCommitted();const h=pd(t,this._firestore);let d;return d=typeof(i=Oi(i))=="string"||i instanceof $c?s2(this._dataReader,"WriteBatch.update",h._key,i,s,o):r2(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,si.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=pd(t,this._firestore);return this._mutations=this._mutations.concat(new bm(i._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(a,t){if((a=Oi(a)).firestore!==t)throw new lt(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(a){return Bm(a=Dc(a,zm)),new _2(a,t=>v2(a,t))}(function(t,i=!0){(function(o){Xs=o})(P1),gc(new fo("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new zm(new ew(s.getProvider("auth-internal")),new aw(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(p.options.projectId,E)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Us(Qv,Kv,t),Us(Qv,Kv,"esm2017")})();const rT={apiKey:"AIzaSyD_WuePx0gg3HEZQNtCDL2jzTcRCH7NGcQ",authDomain:"iisakintekstiilipesuri.firebaseapp.com",projectId:"iisakintekstiilipesuri",storageBucket:"iisakintekstiilipesuri.firebasestorage.app",messagingSenderId:"605300048092",appId:"1:605300048092:web:8c887f96b9358e2cc23419",measurementId:void 0};rT.apiKey||console.error("Firebase config not loaded. Ensure .env file is set up correctly and VITE_ prefixes are used.");const T2=R0(rT),sT=JD(T2),Je=[];for(let a=0;a<256;++a)Je.push((a+256).toString(16).slice(1));function A2(a,t=0){return(Je[a[t+0]]+Je[a[t+1]]+Je[a[t+2]]+Je[a[t+3]]+"-"+Je[a[t+4]]+Je[a[t+5]]+"-"+Je[a[t+6]]+Je[a[t+7]]+"-"+Je[a[t+8]]+Je[a[t+9]]+"-"+Je[a[t+10]]+Je[a[t+11]]+Je[a[t+12]]+Je[a[t+13]]+Je[a[t+14]]+Je[a[t+15]]).toLowerCase()}let vd;const b2=new Uint8Array(16);function S2(){if(!vd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vd=crypto.getRandomValues.bind(crypto)}return vd(b2)}const w2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F_={randomUUID:w2};function R2(a,t,i){var o;if(F_.randomUUID&&!a)return F_.randomUUID();a=a||{};const s=a.random??((o=a.rng)==null?void 0:o.call(a))??S2();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,A2(s)}const Zm=ZD(sT,"bookings"),D2=async a=>{const t=de.fromDate(new Date(a.setHours(0,0,0,0))),i=de.fromDate(new Date(a.setHours(23,59,59,999))),s=nT(Zm,Oc("bookingDate",">=",t),Oc("bookingDate","<",i));try{const h=!(await aT(s)).empty;return console.log(`Date ${a.toDateString()} booked status:`,h),h}catch(o){return console.error("Error checking date booking status: ",o),!1}},C2=async(a,t)=>{const i=[],s=new Date(a);s.setHours(0,0,0,0);for(let o=0;o<t;o++)i.push(new Date(s)),s.setDate(s.getDate()+1);for(const o of i)if(await D2(o))return console.log(`Conflict found: Date ${o.toDateString()} is already booked.`),!0;return!1},O2=async(a,t)=>{const i=new Date(a,t,1),s=new Date(a,t+1,1),o=de.fromDate(i),h=de.fromDate(s),d=nT(Zm,Oc("bookingDate",">=",o),Oc("bookingDate","<",h));try{const y=(await aT(d)).docs.map(p=>p.data().bookingDate);return console.log(`Fetched ${y.length} booked dates for ${a}-${t+1}`),y}catch(g){return console.error("Error fetching booked dates for month: ",g),[]}},I2=async a=>{const{name:t,email:i,streetAddress:s,zipCode:o,phone:h,numberOfDays:d,detergent:g,extraInfo:y,startDate:p}=a;if(await C2(p,d))return console.warn(`Attempted to book an already booked date range starting ${p.toDateString()}`),{success:!1,error:new Error("One or more dates in the selected range are already booked.")};const w=E2(sT),O=R2(),L=new Date(p);for(let Y=0;Y<d;Y++){const X=de.fromDate(new Date(L.setHours(0,0,0,0))),F=WD(Zm);w.set(F,{name:t,email:i,streetAddress:s,zipCode:o,phone:h,detergent:g,extraInfo:y,bookingDate:X,bookingGroupId:O,sequence:Y+1,totalDays:d}),L.setDate(L.getDate()+1)}try{return await w.commit(),console.log(`Booking added for ${d} days starting ${p.toDateString()} with Group ID: ${O}`),{success:!0,bookingGroupId:O}}catch(Y){return console.error("Error adding multi-day booking: ",Y),{success:!1,error:Y}}};function x2(){const[a,t]=bt.useState(null),[i,s]=bt.useState([]),[o,h]=bt.useState(!1),[d,g]=bt.useState(null),[y,p]=bt.useState(new Date),E=bt.useCallback(async O=>{h(!0),g(null);try{const L=O.getFullYear(),Y=O.getMonth(),F=(await O2(L,Y)).map(st=>{const ut=st.toDate();return`${ut.getFullYear()}-${String(ut.getMonth()+1).padStart(2,"0")}-${String(ut.getDate()).padStart(2,"0")}`});s(F)}catch(L){console.error("Error in useBookings fetching booked dates: ",L),g("Failed to load booking availability."),s([])}finally{h(!1)}},[]);bt.useEffect(()=>{E(y)},[y,E]);const w=bt.useCallback(()=>{E(y)},[y,E]);return{selectedDate:a,setSelectedDate:t,bookedDates:i,isLoading:o,error:d,activeStartDate:y,setActiveStartDate:p,refreshBookedDates:w}}function N2({totalCost:a}){const[t,i]=bt.useState(!1),[s,o]=bt.useState(!1),h=bt.useRef(!0);return bt.useEffect(()=>{if(h.current){h.current=!1;return}if(a<=0)return;i(!0);const d=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(d)},[a]),a<=0&&!t?null:S.jsx("div",{className:"floating-total-container",children:S.jsxs("div",{className:"floating-total-inner-wrapper",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{position:"relative",display:"flex",alignItems:"center",gap:"inherit"},children:[S.jsx("span",{className:"total-label",children:"Summa:"}),S.jsxs("span",{className:`total-amount ${t?"flash-active":""}`,children:[a," "]}),s&&S.jsx("span",{style:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"white",padding:"6px 10px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap",zIndex:1001,boxShadow:"0 2px 6px rgba(0,0,0,0.25)",pointerEvents:"none"},children:"Hinta sislt ALV 25,5%"})]})})}const V2=({onClick:a})=>S.jsx("button",{className:"floating-info-btn",onClick:a,"aria-label":"Listietoja",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24px",height:"24px",children:[S.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),S.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}),k2=({isOpen:a,onClose:t})=>{if(!a)return null;const i=S.jsxs(S.Fragment,{children:[S.jsx("h2",{children:"Tekstiilipesurin nouto- ja palautusohjeet:"}),S.jsxs("ul",{style:{textAlign:"left"},children:[S.jsx("li",{children:"Pesuri sijaitsee Oulunkylss osoitteessa Pellavapellontie 7A, 00650 Helsinki."}),S.jsx("li",{children:"Saat tarkemmat ohjeet shkpostiisi varausvahvistuksen yhteydess. Tarkistathan mys roskapostikansion. Mikli haluat muokata varaustasi, ota yhteytt shkpostilla tai puhelimitse viestill (huttulajo@gmail.com, 040 410 1920)."}),S.jsx("li",{children:"Nouda pesuri klo 17 alkaen ja palauta palautuspivn kello 17 menness. Voit mys kysy hakua aiemmin tarvittaessa."}),S.jsx("li",{children:"Palauta pesuri sovittuun aikaan menness siistiss kunnossa puhdistettuna ja kaikki osat tallella."}),S.jsx("li",{children:"Ohjeet pesurin kyttn lydt laitteen mukana tai [LINKKI OHJEISIIN/OHJESIVU]."}),S.jsx("li",{children:"Pesuaine on tablettimuotoinen ja 2 tablettia riitt tyteen astiaan. Jos ostat pesuaineen, se sislt 4 tablettia."}),S.jsx("li",{children:"Ongelmatilanteissa ota yhteytt: huttulajo@gmail.com tai 040 410 1920."})]}),S.jsx("p",{children:"Kiitos varauksestasi!"})]});return S.jsx("div",{className:"info-modal-overlay",onClick:t,children:S.jsxs("div",{className:"info-modal-content",onClick:s=>s.stopPropagation(),children:[S.jsx("button",{className:"info-modal-close-btn",onClick:t,"aria-label":"Sulje",children:""}),i]})})};function M2(){const{selectedDate:a,setSelectedDate:t,bookedDates:i,isLoading:s,error:o,activeStartDate:h,setActiveStartDate:d,refreshBookedDates:g}=x2(),[y,p]=bt.useState(1),[E,w]=bt.useState(!1),[O,L]=bt.useState(0),[Y,X]=bt.useState(!1);bt.useEffect(()=>{let at=0;y>=1&&(at=35,at+=(y-1)*10),E&&(at+=6),L(at)},[y,E]);const F=async at=>{var _t;if(!a){alert("Something went wrong, no date selected.");return}const mt={...at,numberOfDays:y,detergent:E,startDate:a};console.log("Submitting booking:",mt);const dt=await I2(mt);dt.success?(alert("Booking successful!"),t(null),g()):alert(`Booking failed: ${((_t=dt.error)==null?void 0:_t.message)||"Unknown error"}`)},st=at=>{const mt=`${at.getFullYear()}-${String(at.getMonth()+1).padStart(2,"0")}-${String(at.getDate()).padStart(2,"0")}`;i.includes(mt)?(t(null),alert("This date is already booked.")):t(at)},ut=({date:at,view:mt})=>{if(mt==="month"){const dt=new Date;if(dt.setHours(0,0,0,0),at<dt)return!0;const _t=`${at.getFullYear()}-${String(at.getMonth()+1).padStart(2,"0")}-${String(at.getDate()).padStart(2,"0")}`;return i.includes(_t)}return!1};return S.jsxs("div",{className:"app-container",children:[" ",S.jsx("h1",{className:"main-title",children:"IISAKIN TEKSTIILIPESURI"}),S.jsxs("div",{className:"info-box",children:[S.jsx("h2",{className:"subtitle",children:"35  / piv + 10  / lispiv (pesuaine + 6 )"}),S.jsx("br",{}),S.jsx("p",{className:"instructions",children:"VALITSE SOPIVA PIV KALENTERISTA JA VARAA."})]}),S.jsx(V2,{onClick:()=>X(!0)}),S.jsx(k2,{isOpen:Y,onClose:()=>X(!1)}),S.jsxs("div",{className:"calendar-container",children:[o&&S.jsxs("p",{className:"error-message",children:["Error loading availability: ",o]}),s&&S.jsx("p",{children:"Loading availability..."}),S.jsx(mS,{onChange:st,value:a,tileDisabled:ut,onActiveStartDateChange:({activeStartDate:at})=>d(at),activeStartDate:h})]}),a&&S.jsx("div",{className:"booking-form-container",children:S.jsx(pS,{selectedDate:a,onSubmit:F,numberOfDays:y,detergent:E,onNumberOfDaysChange:p,onDetergentChange:w})}),a&&S.jsx(N2,{totalCost:O})]})}BA.createRoot(document.getElementById("root")).render(S.jsx(bt.StrictMode,{children:S.jsx(M2,{})}));
