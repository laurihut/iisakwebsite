(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=r(o);fetch(o.href,f)}})();function NA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $h={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function VA(){if(ov)return Jl;ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Jl.Fragment=t,Jl.jsx=r,Jl.jsxs=r,Jl}var uv;function MA(){return uv||(uv=1,$h.exports=VA()),$h.exports}var J=MA(),Zh={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function xA(){if(cv)return Rt;cv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,K={};function F(O,X,rt){this.props=O,this.context=X,this.refs=K,this.updater=rt||P}F.prototype.isReactComponent={},F.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=F.prototype;function ot(O,X,rt){this.props=O,this.context=X,this.refs=K,this.updater=rt||P}var ct=ot.prototype=new et;ct.constructor=ot,G(ct,F.prototype),ct.isPureReactComponent=!0;var vt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function V(O,X,rt,tt,ht,wt){return rt=wt.ref,{$$typeof:i,type:O,key:X,ref:rt!==void 0?rt:null,props:wt}}function b(O,X){return V(O.type,X,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function I(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return X[rt]})}var M=/\/+/g;function x(O,X){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):X.toString(36)}function D(){}function oe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ie(O,X,rt,tt,ht){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var gt=!1;if(O===null)gt=!0;else switch(wt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(O.$$typeof){case i:case t:gt=!0;break;case E:return gt=O._init,ie(gt(O._payload),X,rt,tt,ht)}}if(gt)return ht=ht(O),gt=tt===""?"."+x(O,0):tt,vt(ht)?(rt="",gt!=null&&(rt=gt.replace(M,"$&/")+"/"),ie(ht,X,rt,"",function(Ie){return Ie})):ht!=null&&(R(ht)&&(ht=b(ht,rt+(ht.key==null||O&&O.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+gt)),X.push(ht)),1;gt=0;var ue=tt===""?".":tt+":";if(vt(O))for(var qt=0;qt<O.length;qt++)tt=O[qt],wt=ue+x(tt,qt),gt+=ie(tt,X,rt,wt,ht);else if(qt=C(O),typeof qt=="function")for(O=qt.call(O),qt=0;!(tt=O.next()).done;)tt=tt.value,wt=ue+x(tt,qt++),gt+=ie(tt,X,rt,wt,ht);else if(wt==="object"){if(typeof O.then=="function")return ie(oe(O),X,rt,tt,ht);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return gt}function H(O,X,rt){if(O==null)return O;var tt=[],ht=0;return ie(O,tt,"","",function(wt){return X.call(rt,wt,ht++)}),tt}function it(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var ft=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return Rt.Children={map:H,forEach:function(O,X,rt){H(O,function(){X.apply(this,arguments)},rt)},count:function(O){var X=0;return H(O,function(){X++}),X},toArray:function(O){return H(O,function(X){return X})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Rt.Component=F,Rt.Fragment=r,Rt.Profiler=o,Rt.PureComponent=ot,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return at.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cloneElement=function(O,X,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var tt=G({},O.props),ht=O.key,wt=void 0;if(X!=null)for(gt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(ht=""+X.key),X)!St.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||(tt[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)tt.children=rt;else if(1<gt){for(var ue=Array(gt),qt=0;qt<gt;qt++)ue[qt]=arguments[qt+2];tt.children=ue}return V(O.type,ht,void 0,void 0,wt,tt)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},Rt.createElement=function(O,X,rt){var tt,ht={},wt=null;if(X!=null)for(tt in X.key!==void 0&&(wt=""+X.key),X)St.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ht[tt]=X[tt]);var gt=arguments.length-2;if(gt===1)ht.children=rt;else if(1<gt){for(var ue=Array(gt),qt=0;qt<gt;qt++)ue[qt]=arguments[qt+2];ht.children=ue}if(O&&O.defaultProps)for(tt in gt=O.defaultProps,gt)ht[tt]===void 0&&(ht[tt]=gt[tt]);return V(O,wt,void 0,void 0,null,ht)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:g,render:O}},Rt.isValidElement=R,Rt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:it}},Rt.memo=function(O,X){return{$$typeof:p,type:O,compare:X===void 0?null:X}},Rt.startTransition=function(O){var X=at.T,rt={};at.T=rt;try{var tt=O(),ht=at.S;ht!==null&&ht(rt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ct,ft)}catch(wt){ft(wt)}finally{at.T=X}},Rt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Rt.use=function(O){return at.H.use(O)},Rt.useActionState=function(O,X,rt){return at.H.useActionState(O,X,rt)},Rt.useCallback=function(O,X){return at.H.useCallback(O,X)},Rt.useContext=function(O){return at.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,X){return at.H.useDeferredValue(O,X)},Rt.useEffect=function(O,X,rt){var tt=at.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(O,X)},Rt.useId=function(){return at.H.useId()},Rt.useImperativeHandle=function(O,X,rt){return at.H.useImperativeHandle(O,X,rt)},Rt.useInsertionEffect=function(O,X){return at.H.useInsertionEffect(O,X)},Rt.useLayoutEffect=function(O,X){return at.H.useLayoutEffect(O,X)},Rt.useMemo=function(O,X){return at.H.useMemo(O,X)},Rt.useOptimistic=function(O,X){return at.H.useOptimistic(O,X)},Rt.useReducer=function(O,X,rt){return at.H.useReducer(O,X,rt)},Rt.useRef=function(O){return at.H.useRef(O)},Rt.useState=function(O){return at.H.useState(O)},Rt.useSyncExternalStore=function(O,X,rt){return at.H.useSyncExternalStore(O,X,rt)},Rt.useTransition=function(){return at.H.useTransition()},Rt.version="19.1.0",Rt}var fv;function nm(){return fv||(fv=1,Zh.exports=xA()),Zh.exports}var It=nm(),Wh={exports:{}},to={},Jh={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function UA(){return hv||(hv=1,function(i){function t(H,it){var ft=H.length;H.push(it);t:for(;0<ft;){var Ct=ft-1>>>1,O=H[Ct];if(0<o(O,it))H[Ct]=it,H[ft]=O,ft=Ct;else break t}}function r(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var it=H[0],ft=H.pop();if(ft!==it){H[0]=ft;t:for(var Ct=0,O=H.length,X=O>>>1;Ct<X;){var rt=2*(Ct+1)-1,tt=H[rt],ht=rt+1,wt=H[ht];if(0>o(tt,ft))ht<O&&0>o(wt,tt)?(H[Ct]=wt,H[ht]=ft,Ct=ht):(H[Ct]=tt,H[rt]=ft,Ct=rt);else if(ht<O&&0>o(wt,ft))H[Ct]=wt,H[ht]=ft,Ct=ht;else break t}}return it}function o(H,it){var ft=H.sortIndex-it.sortIndex;return ft!==0?ft:H.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,S=null,C=3,P=!1,G=!1,K=!1,F=!1,et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var it=r(p);it!==null;){if(it.callback===null)s(p);else if(it.startTime<=H)s(p),it.sortIndex=it.expirationTime,t(y,it);else break;it=r(p)}}function at(H){if(K=!1,vt(H),!G)if(r(y)!==null)G=!0,St||(St=!0,x());else{var it=r(p);it!==null&&ie(at,it.startTime-H)}}var St=!1,V=-1,b=5,R=-1;function I(){return F?!0:!(i.unstable_now()-R<b)}function M(){if(F=!1,St){var H=i.unstable_now();R=H;var it=!0;try{t:{G=!1,K&&(K=!1,ot(V),V=-1),P=!0;var ft=C;try{e:{for(vt(H),S=r(y);S!==null&&!(S.expirationTime>H&&I());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,C=S.priorityLevel;var O=Ct(S.expirationTime<=H);if(H=i.unstable_now(),typeof O=="function"){S.callback=O,vt(H),it=!0;break e}S===r(y)&&s(y),vt(H)}else s(y);S=r(y)}if(S!==null)it=!0;else{var X=r(p);X!==null&&ie(at,X.startTime-H),it=!1}}break t}finally{S=null,C=ft,P=!1}it=void 0}}finally{it?x():St=!1}}}var x;if(typeof ct=="function")x=function(){ct(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,oe=D.port2;D.port1.onmessage=M,x=function(){oe.postMessage(null)}}else x=function(){et(M,0)};function ie(H,it){V=et(function(){H(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(H){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var ft=C;C=it;try{return H()}finally{C=ft}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=C;C=H;try{return it()}finally{C=ft}},i.unstable_scheduleCallback=function(H,it,ft){var Ct=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ft+O,H={id:E++,callback:it,priorityLevel:H,startTime:ft,expirationTime:O,sortIndex:-1},ft>Ct?(H.sortIndex=ft,t(p,H),r(y)===null&&H===r(p)&&(K?(ot(V),V=-1):K=!0,ie(at,ft-Ct))):(H.sortIndex=O,t(y,H),G||P||(G=!0,St||(St=!0,x()))),H},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(H){var it=C;return function(){var ft=C;C=it;try{return H.apply(this,arguments)}finally{C=ft}}}}(td)),td}var dv;function LA(){return dv||(dv=1,Jh.exports=UA()),Jh.exports}var ed={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function PA(){if(mv)return sn;mv=1;var i=nm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(y,p,null,E)},sn.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},sn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},sn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},sn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:P}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},sn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},sn.requestFormReset=function(y){s.d.r(y)},sn.unstable_batchedUpdates=function(y,p){return y(p)},sn.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var gv;function kA(){if(gv)return ed.exports;gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ed.exports=PA(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function zA(){if(yv)return to;yv=1;var i=LA(),t=nm(),r=kA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return g(c),e;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var _=!1,T=c.child;T;){if(T===a){_=!0,a=c,l=h;break}if(T===l){_=!0,l=c,a=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===a){_=!0,a=h,l=c;break}if(T===l){_=!0,l=h,a=c;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case at:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case ot:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],O=-1;function X(e){return{current:e}}function rt(e){0>O||(e.current=Ct[O],Ct[O]=null,O--)}function tt(e,n){O++,Ct[O]=e.current,e.current=n}var ht=X(null),wt=X(null),gt=X(null),ue=X(null);function qt(e,n){switch(tt(gt,n),tt(wt,e),tt(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Lp(n),e=Pp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(ht),tt(ht,e)}function Ie(){rt(ht),rt(wt),rt(gt)}function Nn(e){e.memoizedState!==null&&tt(ue,e);var n=ht.current,a=Pp(n,e.type);n!==a&&(tt(wt,e),tt(ht,a))}function En(e){wt.current===e&&(rt(ht),rt(wt)),ue.current===e&&(rt(ue),Kl._currentValue=ft)}var Vn=Object.prototype.hasOwnProperty,Xn=i.unstable_scheduleCallback,ee=i.unstable_cancelCallback,$n=i.unstable_shouldYield,He=i.unstable_requestPaint,Ge=i.unstable_now,za=i.unstable_getCurrentPriorityLevel,oi=i.unstable_ImmediatePriority,ui=i.unstable_UserBlockingPriority,Nr=i.unstable_NormalPriority,tl=i.unstable_LowPriority,Vr=i.unstable_IdlePriority,Wi=i.log,ja=i.unstable_setDisableYieldValue,ce=null,Ft=null;function cn(e){if(typeof Wi=="function"&&ja(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ce,e)}catch{}}var be=Math.clz32?Math.clz32:Mr,Ji=Math.log,Ba=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-(Ji(e)/Ba|0)|0}var Mn=256,or=4194304;function Tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xr(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?c=Tn(l):(_&=T,_!==0?c=Tn(_):a||(a=T&~e,a!==0&&(c=Tn(a))))):(T=l&~h,T!==0?c=Tn(T):_!==0?c=Tn(_):a||(a=l&~e,a!==0&&(c=Tn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function ur(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ur(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var e=Mn;return Mn<<=1,(Mn&4194048)===0&&(Mn=256),e}function ci(){var e=or;return or<<=1,(or&62914560)===0&&(or=4194304),e}function Zn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,n,a,l,c,h){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-be(a),$=1<<Y;T[Y]=0,w[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var B=j[Y];B!==null&&(B.lane&=-536870913)}a&=~$}l!==0&&se(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function se(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function cr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-be(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function Ht(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fr(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:nv(e.type))}function fi(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var ne=Math.random().toString(36).slice(2),pe="__reactFiber$"+ne,fe="__reactProps$"+ne,Ye="__reactContainer$"+ne,Lr="__reactEvents$"+ne,ea="__reactListeners$"+ne,Un="__reactHandles$"+ne,qa="__reactResources$"+ne,Wn="__reactMarker$"+ne;function Jn(e){delete e[pe],delete e[fe],delete e[Lr],delete e[ea],delete e[Un]}function tr(e){var n=e[pe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ye]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Bp(e);e!==null;){if(a=e[pe])return a;e=Bp(e)}return n}e=a,a=e.parentNode}return null}function Ln(e){if(e=e[pe]||e[Ye]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Tt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Vt(e){var n=e[qa];return n||(n=e[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(e){e[Wn]=!0}var Qe=new Set,Le={};function fn(e,n){er(e,n),er(e+"Capture",n)}function er(e,n){for(Le[e]=n,e=0;e<n.length;e++)Qe.add(n[e])}var Ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},na={};function Vo(e){return Vn.call(na,e)?!0:Vn.call(No,e)?!1:Ha.test(e)?na[e]=!0:(No[e]=!0,!1)}function hi(e,n,a){if(Vo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function hr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ke(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var ra,Mo;function Pr(e){if(ra===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ra=n&&n[1]||"",Mo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+e+Mo}var Ga=!1;function Fa(e,n){if(!e||Ga)return"";Ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var j=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){j=B}e.call($.prototype)}}else{try{throw Error()}catch(B){j=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var w=_.split(`
`),z=T.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var Y=`
`+w[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Ga=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Pr(a):""}function el(e){switch(e.tag){case 26:case 27:case 5:return Pr(e.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return Fa(e.type,!1);case 11:return Fa(e.type.render,!1);case 1:return Fa(e.type,!0);case 31:return Pr("Activity");default:return""}}function Ya(e){try{var n="";do n+=el(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(e){var n=nl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qa(e){e._valueTracker||(e._valueTracker=Jc(e))}function rl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=nl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tf=/[\n"\\]/g;function we(e){return e.replace(tf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function An(e,n,a,l,c,h,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+hn(n)):e.value!==""+hn(n)&&(e.value=""+hn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?di(e,_,hn(n)):a!=null?di(e,_,hn(a)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+hn(T):e.removeAttribute("name")}function aa(e,n,a,l,c,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+hn(a):"",n=n!=null?""+hn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function di(e,n,a){n==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kr(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+hn(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Zt(e,n,a){if(n!=null&&(n=""+hn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+hn(a):""}function sa(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=hn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||la.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function il(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&xo(e,c,l)}else for(var h in n)n.hasOwnProperty(h)&&xo(e,h,n[h])}function al(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(e){return nf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zr=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Br=null;function sl(e){var n=Ln(e);if(n&&(e=n.stateNode)){var a=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(An(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[fe]||null;if(!c)throw Error(s(90));An(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&rl(l)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&kr(e,!!a.multiple,n,!1)}}}var dr=!1;function Uo(e,n,a){if(dr)return e(n,a);dr=!0;try{var l=e(n);return l}finally{if(dr=!1,(jr!==null||Br!==null)&&(Cu(),jr&&(n=jr,e=Br,Br=jr=null,sl(n),e)))for(n=0;n<e.length;n++)sl(e[n])}}function oa(e,n){var a=e.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(nr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){zn=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{zn=!1}var mr=null,mi=null,qr=null;function ll(){if(qr)return qr;var e,n=mi,a=n.length,l,c="value"in mr?mr.value:mr.textContent,h=c.length;for(e=0;e<a&&n[e]===c[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===c[h-l];l++);return qr=c.slice(e,1<l?1-l:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function ol(){return!1}function Pe(e){function n(a,l,c,h,_){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?yr:ol,this.isPropagationStopped=ol,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Pe(Qt),ca=E({},Qt,{view:0,detail:0}),Lo=Pe(ca),$a,Za,pr,fa=E({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?($a=e.screenX-pr.screenX,Za=e.screenY-pr.screenY):Za=$a=0,pr=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),jn=Pe(fa),Po=E({},fa,{dataTransfer:0}),rf=Pe(Po),ha=E({},ca,{relatedTarget:0}),Wa=Pe(ha),ul=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=Pe(ul),ko=E({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ts=Pe(ko),af=E({},Qt,{data:0}),cl=Pe(af),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=jo[e])?!!n[e]:!1}function ma(){return fl}var Bo=E({},ca,{key:function(e){if(e.key){var n=da[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),es=Pe(Bo),qo=E({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Pe(qo),Hr=E({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),Ho=Pe(Hr),Go=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fo=Pe(Go),Yo=E({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=Pe(Yo),dn=E({},Qt,{newState:0,oldState:0}),Qo=Pe(dn),Ko=[9,13,27,32],vr=nr&&"CompositionEvent"in window,u=null;nr&&"documentMode"in document&&(u=document.documentMode);var m=nr&&"TextEvent"in window&&!u,v=nr&&(!vr||u&&8<u&&11>=u),A=" ",L=!1;function q(e,n){switch(e){case"keyup":return Ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ne(e,n){switch(e){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return e=n.data,e===A&&L?null:e;default:return null}}function kt(e,n){if(Pt)return e==="compositionend"||!vr&&q(e,n)?(e=ll(),qr=mi=mr=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ke[e.type]:n==="textarea"}function Gr(e,n,a,l){jr?Br?Br.push(l):Br=[l]:jr=l,n=xu(n,"onChange"),0<n.length&&(a=new Xa("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Xe=null,_r=null;function dl(e){Np(e,0)}function Xo(e){var n=Tt(e);if(rl(n))return e}function Wm(e,n){if(e==="change")return n}var Jm=!1;if(nr){var sf;if(nr){var lf="oninput"in document;if(!lf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),lf=typeof tg.oninput=="function"}sf=lf}else sf=!1;Jm=sf&&(!document.documentMode||9<document.documentMode)}function eg(){Xe&&(Xe.detachEvent("onpropertychange",ng),_r=Xe=null)}function ng(e){if(e.propertyName==="value"&&Xo(_r)){var n=[];Gr(n,_r,e,kn(e)),Uo(dl,n)}}function lT(e,n,a){e==="focusin"?(eg(),Xe=n,_r=a,Xe.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function oT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(_r)}function uT(e,n){if(e==="click")return Xo(n)}function cT(e,n){if(e==="input"||e==="change")return Xo(n)}function fT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:fT;function ml(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Vn.call(n,c)||!bn(e[c],n[c]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var a=rg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ia(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ia(e.document)}return n}function of(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hT=nr&&"documentMode"in document&&11>=document.documentMode,rs=null,uf=null,gl=null,cf=!1;function lg(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||rs==null||rs!==ia(l)||(l=rs,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=xu(uf,"onSelect"),0<l.length&&(n=new Xa("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=rs)))}function ga(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var is={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},ff={},og={};nr&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function ya(e){if(ff[e])return ff[e];if(!is[e])return e;var n=is[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in og)return ff[e]=n[a];return e}var ug=ya("animationend"),cg=ya("animationiteration"),fg=ya("animationstart"),dT=ya("transitionrun"),mT=ya("transitionstart"),gT=ya("transitioncancel"),hg=ya("transitionend"),dg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function rr(e,n){dg.set(e,n),fn(n,[e])}var mg=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ya(n)},mg.set(e,n),n)}return{value:e,source:n,stack:Ya(n)}}var qn=[],as=0,df=0;function $o(){for(var e=as,n=df=as=0;n<e;){var a=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var c=qn[n];qn[n++]=null;var h=qn[n];if(qn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}h!==0&&gg(a,c,h)}}function Zo(e,n,a,l){qn[as++]=e,qn[as++]=n,qn[as++]=a,qn[as++]=l,df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mf(e,n,a,l){return Zo(e,n,a,l),Wo(e)}function ss(e,n){return Zo(e,null,null,n),Wo(e)}function gg(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-be(a),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Wo(e){if(50<jl)throw jl=0,Eh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ls={};function yT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,a,l){return new yT(e,n,a,l)}function gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fr(e,n){var a=e.alternate;return a===null?(a=Sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jo(e,n,a,l,c,h){var _=0;if(l=e,typeof e=="function")gf(e)&&(_=1);else if(typeof e=="string")_=vA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,a,n,c),e.elementType=R,e.lanes=h,e;case G:return pa(a.children,c,h,n);case K:_=8,c|=24;break;case F:return e=Sn(12,a,n,c|2),e.elementType=F,e.lanes=h,e;case at:return e=Sn(13,a,n,c),e.elementType=at,e.lanes=h,e;case St:return e=Sn(19,a,n,c),e.elementType=St,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case ct:_=10;break t;case ot:_=9;break t;case vt:_=11;break t;case V:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Sn(_,a,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function pa(e,n,a,l){return e=Sn(7,e,l,n),e.lanes=a,e}function yf(e,n,a){return e=Sn(6,e,null,n),e.lanes=a,e}function pf(e,n,a){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var os=[],us=0,tu=null,eu=0,Hn=[],Gn=0,va=null,Yr=1,Qr="";function _a(e,n){os[us++]=eu,os[us++]=tu,tu=e,eu=n}function pg(e,n,a){Hn[Gn++]=Yr,Hn[Gn++]=Qr,Hn[Gn++]=va,va=e;var l=Yr;e=Qr;var c=32-be(l)-1;l&=~(1<<c),a+=1;var h=32-be(n)+c;if(30<h){var _=c-c%5;h=(l&(1<<_)-1).toString(32),l>>=_,c-=_,Yr=1<<32-be(n)+c|a<<c|l,Qr=h+e}else Yr=1<<h|a<<c|l,Qr=e}function vf(e){e.return!==null&&(_a(e,1),pg(e,1,0))}function _f(e){for(;e===tu;)tu=os[--us],os[us]=null,eu=os[--us],os[us]=null;for(;e===va;)va=Hn[--Gn],Hn[Gn]=null,Qr=Hn[--Gn],Hn[Gn]=null,Yr=Hn[--Gn],Hn[Gn]=null}var mn=null,ve=null,Yt=!1,Ea=null,Er=!1,Ef=Error(s(519));function Ta(e){var n=Error(s(418,""));throw vl(Bn(n,e)),Ef}function vg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[pe]=e,n[fe]=l,a){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)Ut(ql[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),aa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qa(n);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),sa(n,l.value,l.defaultValue,l.children),Qa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Up(n.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),l.onScroll!=null&&Ut("scroll",n),l.onScrollEnd!=null&&Ut("scrollend",n),l.onClick!=null&&(n.onclick=Uu),n=!0):n=!1,n||Ta(e)}function _g(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:mn=mn.return}}function yl(e){if(e!==mn)return!1;if(!Yt)return _g(e),Yt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Lh(e.type,e.memoizedProps)),a=!a),a&&ve&&Ta(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ve=ar(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,Ii(e.type)?(e=jh,jh=null,ve=e):ve=n):ve=mn?ar(e.stateNode.nextSibling):null;return!0}function pl(){ve=mn=null,Yt=!1}function Eg(){var e=Ea;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ea=null),e}function vl(e){Ea===null?Ea=[e]:Ea.push(e)}var Tf=X(null),Aa=null,Kr=null;function gi(e,n,a){tt(Tf,n._currentValue),n._currentValue=a}function Xr(e){e._currentValue=Tf.current,rt(Tf)}function Af(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function bf(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=c;for(var w=0;w<n.length;w++)if(T.context===n[w]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),Af(h.return,a,e),l||(_=null);break t}h=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),Af(_,a,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function _l(e,n,a,l){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=c.type;bn(c.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(c===ue.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}c=c.return}e!==null&&bf(n,e,a,l),n.flags|=262144}function nu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){Aa=e,Kr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return Tg(Aa,e)}function ru(e,n){return Aa===null&&ba(e),Tg(e,n)}function Tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Kr===null){if(e===null)throw Error(s(308));Kr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Kr=Kr.next=n;return a}var pT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},vT=i.unstable_scheduleCallback,_T=i.unstable_NormalPriority,Me={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new pT,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&vT(_T,function(){e.controller.abort()})}var Tl=null,wf=0,cs=0,fs=null;function ET(e,n){if(Tl===null){var a=Tl=[];wf=0,cs=Rh(),fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,n.then(Ag,Ag),n}function Ag(){if(--wf===0&&Tl!==null){fs!==null&&(fs.status="fulfilled");var e=Tl;Tl=null,cs=0,fs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var bg=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(e,n),bg!==null&&bg(e,n)};var Sa=X(null);function Df(){var e=Sa.current;return e!==null?e:ae.pooledCache}function iu(e,n){n===null?tt(Sa,Sa.current):tt(Sa,n.pool)}function Sg(){var e=Df();return e===null?null:{parent:Me._currentValue,pool:e}}var Al=Error(s(460)),wg=Error(s(474)),au=Error(s(542)),Rf={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function su(){}function Rg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(su,su),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(su,su);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw bl=n,Al}}var bl=null;function Cg(){if(bl===null)throw Error(s(459));var e=bl;return bl=null,e}function Og(e){if(e===Al||e===au)throw Error(s(483))}var yi=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Wo(e),gg(e,null,a),n}return Zo(e,l,n,a),Wo(e)}function Sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,cr(e,a)}}function If(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nf=!1;function wl(){if(Nf){var e=fs;if(e!==null)throw e}}function Dl(e,n,a,l){Nf=!1;var c=e.updateQueue;yi=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var w=T,z=w.next;w.next=null,_===null?h=z:_.next=z,_=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=w))}if(h!==null){var $=c.baseState;_=0,Y=z=w=null,T=h;do{var j=T.lane&-536870913,B=j!==T.lane;if(B?(zt&j)===j:(l&j)===j){j!==0&&j===cs&&(Nf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,yt=T;j=n;var te=a;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){$=Et.call(te,$,j);break t}$=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,j=typeof Et=="function"?Et.call(te,$,j):Et,j==null)break t;$=E({},$,j);break t;case 2:yi=!0}}j=T.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[j]:B.push(j))}else B={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=B,w=$):Y=Y.next=B,_|=j;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;B=T,T=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Y===null&&(w=$),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=Y,h===null&&(c.shared.lanes=0),Di|=_,e.lanes=_,e.memoizedState=$}}function Ig(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ng(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ig(a[e],n)}var hs=X(null),lu=X(0);function Vg(e,n){e=ni,tt(lu,e),tt(hs,n),ni=e|n.baseLanes}function Vf(){tt(lu,ni),tt(hs,hs.current)}function Mf(){ni=lu.current,rt(hs),rt(lu)}var _i=0,Ot=null,Wt=null,De=null,ou=!1,ds=!1,wa=!1,uu=0,Rl=0,ms=null,AT=0;function Ee(){throw Error(s(321))}function xf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!bn(e[a],n[a]))return!1;return!0}function Uf(e,n,a,l,c,h){return _i=h,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?gy:yy,wa=!1,h=a(l,c),wa=!1,ds&&(h=xg(n,a,l,c)),Mg(e),h}function Mg(e){H.H=gu;var n=Wt!==null&&Wt.next!==null;if(_i=0,De=Wt=Ot=null,ou=!1,Rl=0,ms=null,n)throw Error(s(300));e===null||ze||(e=e.dependencies,e!==null&&nu(e)&&(ze=!0))}function xg(e,n,a,l){Ot=e;var c=0;do{if(ds&&(ms=null),Rl=0,ds=!1,25<=c)throw Error(s(301));if(c+=1,De=Wt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=OT,h=n(a,l)}while(ds);return h}function bT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ot.flags|=1024),n}function Lf(){var e=uu!==0;return uu=0,e}function Pf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function kf(e){if(ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ou=!1}_i=0,De=Wt=Ot=null,ds=!1,Rl=uu=0,ms=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ot.memoizedState=De=e:De=De.next=e,De}function Re(){if(Wt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=De===null?Ot.memoizedState:De.next;if(n!==null)De=n,Wt=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?Ot.memoizedState=De=e:De=De.next=e}return De}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Rl;return Rl+=1,ms===null&&(ms=[]),e=Rg(ms,e,n),n=Ot,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?gy:yy),e}function cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===ct)return an(e)}throw Error(s(438,String(e)))}function jf(e){var n=null,a=Ot.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zf(),Ot.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=I;return n.index++,a}function $r(e,n){return typeof n=="function"?n(e):n}function fu(e){var n=Re();return Bf(n,Wt,e)}function Bf(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}n.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var T=_=null,w=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(zt&$)===$:(_i&$)===$){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===cs&&(Y=!0);else if((_i&j)===j){z=z.next,j===cs&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=$,_=h):w=w.next=$,Ot.lanes|=j,Di|=j;$=z.action,wa&&a(h,$),h=z.hasEagerState?z.eagerState:a(h,$)}else j={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=j,_=h):w=w.next=j,Ot.lanes|=$,Di|=$;z=z.next}while(z!==null&&z!==n);if(w===null?_=h:w.next=T,!bn(h,e.memoizedState)&&(ze=!0,Y&&(a=fs,a!==null)))throw a;e.memoizedState=h,e.baseState=_,e.baseQueue=w,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var n=Re(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var _=c=c.next;do h=e(h,_.action),_=_.next;while(_!==c);bn(h,n.memoizedState)||(ze=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Ug(e,n,a){var l=Ot,c=Re(),h=Yt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!bn((Wt||c).memoizedState,a);_&&(c.memoizedState=a,ze=!0),c=c.queue;var T=kg.bind(null,l,c,e);if(Ol(2048,8,T,[e]),c.getSnapshot!==n||_||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,gs(9,hu(),Pg.bind(null,l,c,a,n),null),ae===null)throw Error(s(349));h||(_i&124)!==0||Lg(l,n,a)}return a}function Lg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ot.updateQueue,n===null?(n=zf(),Ot.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Pg(e,n,a,l){n.value=a,n.getSnapshot=l,zg(n)&&jg(e)}function kg(e,n,a){return a(function(){zg(n)&&jg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!bn(e,a)}catch{return!0}}function jg(e){var n=ss(e,2);n!==null&&On(n,e,2)}function Hf(e){var n=gn();if(typeof e=="function"){var a=e;if(e=a(),wa){cn(!0);try{a()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},n}function Bg(e,n,a,l){return e.baseState=a,Bf(e,Wt,typeof l=="function"?l:$r)}function ST(e,n,a,l,c){if(mu(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,qg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function qg(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var h=H.T,_={};H.T=_;try{var T=a(c,l),w=H.S;w!==null&&w(_,T),Hg(e,n,T)}catch(z){Gf(e,n,z)}finally{H.T=h}}else try{h=a(c,l),Hg(e,n,h)}catch(z){Gf(e,n,z)}}function Hg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(e,n,l)},function(l){return Gf(e,n,l)}):Gg(e,n,a)}function Gg(e,n,a){n.status="fulfilled",n.value=a,Fg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,qg(e,a)))}function Gf(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Fg(n),n=n.next;while(n!==l)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function Qg(e,n){if(Yt){var a=ae.formState;if(a!==null){t:{var l=Ot;if(Yt){if(ve){e:{for(var c=ve,h=Er;c.nodeType!==8;){if(!h){c=null;break e}if(c=ar(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ve=ar(c.nextSibling),l=c.data==="F!";break t}}Ta(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},a.queue=l,a=hy.bind(null,Ot,l),l.dispatch=a,l=Hf(!1),h=Xf.bind(null,Ot,!1,l.queue),l=gn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=ST.bind(null,Ot,c,h,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function Kg(e){var n=Re();return Xg(n,Wt,e)}function Xg(e,n,a){if(n=Bf(e,n,Yg)[0],e=fu($r)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(_){throw _===Al?au:_}else l=n;n=Re();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Ot.flags|=2048,gs(9,hu(),wT.bind(null,c,a),null)),[l,h,e]}function wT(e,n){e.action=n}function $g(e){var n=Re(),a=Wt;if(a!==null)return Xg(n,a,e);Re(),n=n.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function gs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=zf(),Ot.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function hu(){return{destroy:void 0,resource:void 0}}function Zg(){return Re().memoizedState}function du(e,n,a,l){var c=gn();l=l===void 0?null:l,Ot.flags|=e,c.memoizedState=gs(1|n,hu(),a,l)}function Ol(e,n,a,l){var c=Re();l=l===void 0?null:l;var h=c.memoizedState.inst;Wt!==null&&l!==null&&xf(l,Wt.memoizedState.deps)?c.memoizedState=gs(n,h,a,l):(Ot.flags|=e,c.memoizedState=gs(1|n,h,a,l))}function Wg(e,n){du(8390656,8,e,n)}function Jg(e,n){Ol(2048,8,e,n)}function ty(e,n){return Ol(4,2,e,n)}function ey(e,n){return Ol(4,4,e,n)}function ny(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ry(e,n,a){a=a!=null?a.concat([e]):null,Ol(4,4,ny.bind(null,n,e),a)}function Ff(){}function iy(e,n){var a=Re();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&xf(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function ay(e,n){var a=Re();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&xf(n,l[1]))return l[0];if(l=e(),wa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,n],l}function Yf(e,n,a){return a===void 0||(_i&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=op(),Ot.lanes|=e,Di|=e,a)}function sy(e,n,a,l){return bn(a,n)?a:hs.current!==null?(e=Yf(e,a,l),bn(e,n)||(ze=!0),e):(_i&42)===0?(ze=!0,e.memoizedState=a):(e=op(),Ot.lanes|=e,Di|=e,n)}function ly(e,n,a,l,c){var h=it.p;it.p=h!==0&&8>h?h:8;var _=H.T,T={};H.T=T,Xf(e,!1,n,a);try{var w=c(),z=H.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=TT(w,l);Il(e,n,Y,Cn(e))}else Il(e,n,l,Cn(e))}catch($){Il(e,n,{then:function(){},status:"rejected",reason:$},Cn())}finally{it.p=h,H.T=_}}function DT(){}function Qf(e,n,a,l){if(e.tag!==5)throw Error(s(476));var c=oy(e).queue;ly(e,c,n,ft,a===null?DT:function(){return uy(e),a(l)})}function oy(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function uy(e){var n=oy(e).next.queue;Il(e,n,{},Cn())}function Kf(){return an(Kl)}function cy(){return Re().memoizedState}function fy(){return Re().memoizedState}function RT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Cn();e=pi(a);var l=vi(n,e,a);l!==null&&(On(l,n,a),Sl(l,n,a)),n={cache:Sf()},e.payload=n;return}n=n.return}}function CT(e,n,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mu(e)?dy(n,a):(a=mf(e,n,a,l),a!==null&&(On(a,e,l),my(a,n,l)))}function hy(e,n,a){var l=Cn();Il(e,n,a,l)}function Il(e,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(e))dy(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,a);if(c.hasEagerState=!0,c.eagerState=T,bn(T,_))return Zo(e,n,c,0),ae===null&&$o(),!1}catch{}finally{}if(a=mf(e,n,c,l),a!==null)return On(a,e,l),my(a,n,l),!0}return!1}function Xf(e,n,a,l){if(l={lane:2,revertLane:Rh(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(e)){if(n)throw Error(s(479))}else n=mf(e,a,l,2),n!==null&&On(n,e,2)}function mu(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function dy(e,n){ds=ou=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function my(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,cr(e,a)}}var gu={readContext:an,use:cu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},gy={readContext:an,use:cu,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:Wg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,du(4194308,4,ny.bind(null,n,e),a)},useLayoutEffect:function(e,n){return du(4194308,4,e,n)},useInsertionEffect:function(e,n){du(4,2,e,n)},useMemo:function(e,n){var a=gn();n=n===void 0?null:n;var l=e();if(wa){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=gn();if(a!==void 0){var c=a(n);if(wa){cn(!0);try{a(n)}finally{cn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=CT.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=Hf(e);var n=e.queue,a=hy.bind(null,Ot,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(e,n){var a=gn();return Yf(a,e,n)},useTransition:function(){var e=Hf(!1);return e=ly.bind(null,Ot,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ot,c=gn();if(Yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ae===null)throw Error(s(349));(zt&124)!==0||Lg(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Wg(kg.bind(null,l,h,e),[e]),l.flags|=2048,gs(9,hu(),Pg.bind(null,l,h,a,n),null),a},useId:function(){var e=gn(),n=ae.identifierPrefix;if(Yt){var a=Qr,l=Yr;a=(l&~(1<<32-be(l)-1)).toString(32)+a,n=""+n+"R"+a,a=uu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=AT++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Kf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Xf.bind(null,Ot,!0,a),a.dispatch=n,[e,n]},useMemoCache:jf,useCacheRefresh:function(){return gn().memoizedState=RT.bind(null,Ot)}},yy={readContext:an,use:cu,useCallback:iy,useContext:an,useEffect:Jg,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ay,useReducer:fu,useRef:Zg,useState:function(){return fu($r)},useDebugValue:Ff,useDeferredValue:function(e,n){var a=Re();return sy(a,Wt.memoizedState,e,n)},useTransition:function(){var e=fu($r)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Ug,useId:cy,useHostTransitionStatus:Kf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var a=Re();return Bg(a,Wt,e,n)},useMemoCache:jf,useCacheRefresh:fy},OT={readContext:an,use:cu,useCallback:iy,useContext:an,useEffect:Jg,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ay,useReducer:qf,useRef:Zg,useState:function(){return qf($r)},useDebugValue:Ff,useDeferredValue:function(e,n){var a=Re();return Wt===null?Yf(a,e,n):sy(a,Wt.memoizedState,e,n)},useTransition:function(){var e=qf($r)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Ug,useId:cy,useHostTransitionStatus:Kf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var a=Re();return Wt!==null?Bg(a,Wt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:fy},ys=null,Nl=0;function yu(e){var n=Nl;return Nl+=1,ys===null&&(ys=[]),Rg(ys,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function py(e){var n=e._init;return n(e._payload)}function vy(e){function n(U,N){if(e){var k=U.deletions;k===null?(U.deletions=[N],U.flags|=16):k.push(N)}}function a(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=Fr(U,N),U.index=0,U.sibling=null,U}function h(U,N,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<N?(U.flags|=67108866,N):k):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function T(U,N,k,Q){return N===null||N.tag!==6?(N=yf(k,U.mode,Q),N.return=U,N):(N=c(N,k),N.return=U,N)}function w(U,N,k,Q){var ut=k.type;return ut===G?Y(U,N,k.props.children,Q,k.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&py(ut)===N.type)?(N=c(N,k.props),Vl(N,k),N.return=U,N):(N=Jo(k.type,k.key,k.props,null,U.mode,Q),Vl(N,k),N.return=U,N)}function z(U,N,k,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=pf(k,U.mode,Q),N.return=U,N):(N=c(N,k.children||[]),N.return=U,N)}function Y(U,N,k,Q,ut){return N===null||N.tag!==7?(N=pa(k,U.mode,Q,ut),N.return=U,N):(N=c(N,k),N.return=U,N)}function $(U,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=yf(""+N,U.mode,k),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return k=Jo(N.type,N.key,N.props,null,U.mode,k),Vl(k,N),k.return=U,k;case P:return N=pf(N,U.mode,k),N.return=U,N;case b:var Q=N._init;return N=Q(N._payload),$(U,N,k)}if(ie(N)||x(N))return N=pa(N,U.mode,k,null),N.return=U,N;if(typeof N.then=="function")return $(U,yu(N),k);if(N.$$typeof===ct)return $(U,ru(U,N),k);pu(U,N)}return null}function j(U,N,k,Q){var ut=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:T(U,N,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===ut?w(U,N,k,Q):null;case P:return k.key===ut?z(U,N,k,Q):null;case b:return ut=k._init,k=ut(k._payload),j(U,N,k,Q)}if(ie(k)||x(k))return ut!==null?null:Y(U,N,k,Q,null);if(typeof k.then=="function")return j(U,N,yu(k),Q);if(k.$$typeof===ct)return j(U,N,ru(U,k),Q);pu(U,k)}return null}function B(U,N,k,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,T(N,U,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return U=U.get(Q.key===null?k:Q.key)||null,w(N,U,Q,ut);case P:return U=U.get(Q.key===null?k:Q.key)||null,z(N,U,Q,ut);case b:var Mt=Q._init;return Q=Mt(Q._payload),B(U,N,k,Q,ut)}if(ie(Q)||x(Q))return U=U.get(k)||null,Y(N,U,Q,ut,null);if(typeof Q.then=="function")return B(U,N,k,yu(Q),ut);if(Q.$$typeof===ct)return B(U,N,k,ru(N,Q),ut);pu(N,Q)}return null}function Et(U,N,k,Q){for(var ut=null,Mt=null,dt=N,pt=N=0,Be=null;dt!==null&&pt<k.length;pt++){dt.index>pt?(Be=dt,dt=null):Be=dt.sibling;var Gt=j(U,dt,k[pt],Q);if(Gt===null){dt===null&&(dt=Be);break}e&&dt&&Gt.alternate===null&&n(U,dt),N=h(Gt,N,pt),Mt===null?ut=Gt:Mt.sibling=Gt,Mt=Gt,dt=Be}if(pt===k.length)return a(U,dt),Yt&&_a(U,pt),ut;if(dt===null){for(;pt<k.length;pt++)dt=$(U,k[pt],Q),dt!==null&&(N=h(dt,N,pt),Mt===null?ut=dt:Mt.sibling=dt,Mt=dt);return Yt&&_a(U,pt),ut}for(dt=l(dt);pt<k.length;pt++)Be=B(dt,U,pt,k[pt],Q),Be!==null&&(e&&Be.alternate!==null&&dt.delete(Be.key===null?pt:Be.key),N=h(Be,N,pt),Mt===null?ut=Be:Mt.sibling=Be,Mt=Be);return e&&dt.forEach(function(Ui){return n(U,Ui)}),Yt&&_a(U,pt),ut}function yt(U,N,k,Q){if(k==null)throw Error(s(151));for(var ut=null,Mt=null,dt=N,pt=N=0,Be=null,Gt=k.next();dt!==null&&!Gt.done;pt++,Gt=k.next()){dt.index>pt?(Be=dt,dt=null):Be=dt.sibling;var Ui=j(U,dt,Gt.value,Q);if(Ui===null){dt===null&&(dt=Be);break}e&&dt&&Ui.alternate===null&&n(U,dt),N=h(Ui,N,pt),Mt===null?ut=Ui:Mt.sibling=Ui,Mt=Ui,dt=Be}if(Gt.done)return a(U,dt),Yt&&_a(U,pt),ut;if(dt===null){for(;!Gt.done;pt++,Gt=k.next())Gt=$(U,Gt.value,Q),Gt!==null&&(N=h(Gt,N,pt),Mt===null?ut=Gt:Mt.sibling=Gt,Mt=Gt);return Yt&&_a(U,pt),ut}for(dt=l(dt);!Gt.done;pt++,Gt=k.next())Gt=B(dt,U,pt,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&dt.delete(Gt.key===null?pt:Gt.key),N=h(Gt,N,pt),Mt===null?ut=Gt:Mt.sibling=Gt,Mt=Gt);return e&&dt.forEach(function(IA){return n(U,IA)}),Yt&&_a(U,pt),ut}function te(U,N,k,Q){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var ut=k.key;N!==null;){if(N.key===ut){if(ut=k.type,ut===G){if(N.tag===7){a(U,N.sibling),Q=c(N,k.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&py(ut)===N.type){a(U,N.sibling),Q=c(N,k.props),Vl(Q,k),Q.return=U,U=Q;break t}a(U,N);break}else n(U,N);N=N.sibling}k.type===G?(Q=pa(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=Jo(k.type,k.key,k.props,null,U.mode,Q),Vl(Q,k),Q.return=U,U=Q)}return _(U);case P:t:{for(ut=k.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(U,N.sibling),Q=c(N,k.children||[]),Q.return=U,U=Q;break t}else{a(U,N);break}else n(U,N);N=N.sibling}Q=pf(k,U.mode,Q),Q.return=U,U=Q}return _(U);case b:return ut=k._init,k=ut(k._payload),te(U,N,k,Q)}if(ie(k))return Et(U,N,k,Q);if(x(k)){if(ut=x(k),typeof ut!="function")throw Error(s(150));return k=ut.call(k),yt(U,N,k,Q)}if(typeof k.then=="function")return te(U,N,yu(k),Q);if(k.$$typeof===ct)return te(U,N,ru(U,k),Q);pu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(U,N.sibling),Q=c(N,k),Q.return=U,U=Q):(a(U,N),Q=yf(k,U.mode,Q),Q.return=U,U=Q),_(U)):a(U,N)}return function(U,N,k,Q){try{Nl=0;var ut=te(U,N,k,Q);return ys=null,ut}catch(dt){if(dt===Al||dt===au)throw dt;var Mt=Sn(29,dt,null,U.mode);return Mt.lanes=Q,Mt.return=U,Mt}finally{}}}var ps=vy(!0),_y=vy(!1),Fn=X(null),Tr=null;function Ei(e){var n=e.alternate;tt(xe,xe.current&1),tt(Fn,e),Tr===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(Tr=e)}function Ey(e){if(e.tag===22){if(tt(xe,xe.current),tt(Fn,e),Tr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Tr=e)}}else Ti()}function Ti(){tt(xe,xe.current),tt(Fn,Fn.current)}function Zr(e){rt(Fn),Tr===e&&(Tr=null),rt(xe)}var xe=X(0);function vu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function $f(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Cn(),c=pi(l);c.payload=n,a!=null&&(c.callback=a),n=vi(e,c,l),n!==null&&(On(n,e,l),Sl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Cn(),c=pi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=vi(e,c,l),n!==null&&(On(n,e,l),Sl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Cn(),l=pi(a);l.tag=2,n!=null&&(l.callback=n),n=vi(e,l,a),n!==null&&(On(n,e,a),Sl(n,e,a))}};function Ty(e,n,a,l,c,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(c,h):!0}function Ay(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Zf.enqueueReplaceState(n,n.state,null)}function Da(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function by(e){_u(e)}function Sy(e){console.error(e)}function wy(e){_u(e)}function Eu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wf(e,n,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(e,n)},a}function Ry(e){return e=pi(e),e.tag=3,e}function Cy(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){Dy(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Dy(n,a,l),typeof c!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IT(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&_l(n,a,c,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Tr===null?Ah():a.alternate===null&&_e===0&&(_e=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Rf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sh(e,l,c)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sh(e,l,c)),!1}throw Error(s(435,a.tag))}return Sh(e,l,c),Ah(),!1}if(Yt)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Ef&&(e=Error(s(422),{cause:l}),vl(Bn(e,a)))):(l!==Ef&&(n=Error(s(423),{cause:l}),vl(Bn(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Bn(l,a),c=Wf(e.stateNode,l,c),If(e,c),_e!==4&&(_e=2)),!1;var h=Error(s(520),{cause:l});if(h=Bn(h,a),zl===null?zl=[h]:zl.push(h),_e!==4&&(_e=2),n===null)return!0;l=Bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Wf(a.stateNode,l,e),If(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ry(c),Cy(c,e,a,l),If(a,c),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),ze=!1;function $e(e,n,a,l){n.child=e===null?_y(n,null,a,l):ps(n,e.child,a,l)}function Iy(e,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ba(n),l=Uf(e,n,a,_,h,c),T=Lf(),e!==null&&!ze?(Pf(e,n,c),Wr(e,n,c)):(Yt&&T&&vf(n),n.flags|=1,$e(e,n,l,c),n.child)}function Ny(e,n,a,l,c){if(e===null){var h=a.type;return typeof h=="function"&&!gf(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Vy(e,n,h,l,c)):(e=Jo(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!sh(e,c)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(_,l)&&e.ref===n.ref)return Wr(e,n,c)}return n.flags|=1,e=Fr(h,l),e.ref=n.ref,e.return=n,n.child=e}function Vy(e,n,a,l,c){if(e!==null){var h=e.memoizedProps;if(ml(h,l)&&e.ref===n.ref)if(ze=!1,n.pendingProps=l=h,sh(e,c))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,Wr(e,n,c)}return Jf(e,n,a,l,c)}function My(e,n,a){var l=n.pendingProps,c=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return xy(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&iu(n,h!==null?h.cachePool:null),h!==null?Vg(n,h):Vf(),Ey(n);else return n.lanes=n.childLanes=536870912,xy(e,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(iu(n,h.cachePool),Vg(n,h),Ti(),n.memoizedState=null):(e!==null&&iu(n,null),Vf(),Ti());return $e(e,n,c,a),n.child}function xy(e,n,a,l){var c=Df();return c=c===null?null:{parent:Me._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&iu(n,null),Vf(),Ey(n),e!==null&&_l(e,n,l,!0),null}function Tu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Jf(e,n,a,l,c){return ba(n),a=Uf(e,n,a,l,void 0,c),l=Lf(),e!==null&&!ze?(Pf(e,n,c),Wr(e,n,c)):(Yt&&l&&vf(n),n.flags|=1,$e(e,n,a,c),n.child)}function Uy(e,n,a,l,c,h){return ba(n),n.updateQueue=null,a=xg(n,l,a,c),Mg(e),l=Lf(),e!==null&&!ze?(Pf(e,n,h),Wr(e,n,h)):(Yt&&l&&vf(n),n.flags|=1,$e(e,n,a,h),n.child)}function Ly(e,n,a,l,c){if(ba(n),n.stateNode===null){var h=ls,_=a.contextType;typeof _=="object"&&_!==null&&(h=an(_)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Cf(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?an(_):ls,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(n,a,_,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&Zf.enqueueReplaceState(h,h.state,null),Dl(n,l,h,c),wl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,w=Da(a,T);h.props=w;var z=h.context,Y=a.contextType;_=ls,typeof Y=="object"&&Y!==null&&(_=an(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||z!==_)&&Ay(n,h,l,_),yi=!1;var j=n.memoizedState;h.state=j,Dl(n,l,h,c),wl(),z=n.memoizedState,T||j!==z||yi?(typeof $=="function"&&($f(n,a,$,l),z=n.memoizedState),(w=yi||Ty(n,a,w,l,j,z,_))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=_,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Of(e,n),_=n.memoizedProps,Y=Da(a,_),h.props=Y,$=n.pendingProps,j=h.context,z=a.contextType,w=ls,typeof z=="object"&&z!==null&&(w=an(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==$||j!==w)&&Ay(n,h,l,w),yi=!1,j=n.memoizedState,h.state=j,Dl(n,l,h,c),wl();var B=n.memoizedState;_!==$||j!==B||yi||e!==null&&e.dependencies!==null&&nu(e.dependencies)?(typeof T=="function"&&($f(n,a,T,l),B=n.memoizedState),(Y=yi||Ty(n,a,Y,l,j,B,w)||e!==null&&e.dependencies!==null&&nu(e.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=w,l=Y):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Tu(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=ps(n,e.child,null,c),n.child=ps(n,null,a,c)):$e(e,n,a,c),n.memoizedState=h.state,e=n.child):e=Wr(e,n,c),e}function Py(e,n,a,l){return pl(),n.flags|=256,$e(e,n,a,l),n.child}var th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eh(e){return{baseLanes:e,cachePool:Sg()}}function nh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Yn),e}function ky(e,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Yt){if(c?Ei(n):Ti(),Yt){var T=ve,w;if(w=T){t:{for(w=T,T=Er;w.nodeType!==8;){if(!T){T=null;break t}if(w=ar(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:va!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},w=Sn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,mn=n,ve=null,w=!0):w=!1}w||Ta(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zh(T)?n.lanes=32:n.lanes=536870912,null;Zr(n)}return T=l.children,l=l.fallback,c?(Ti(),c=n.mode,T=Au({mode:"hidden",children:T},c),l=pa(l,c,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=eh(a),c.childLanes=nh(e,_,a),n.memoizedState=th,l):(Ei(n),rh(n,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(h)n.flags&256?(Ei(n),n.flags&=-257,n=ih(e,n,a)):n.memoizedState!==null?(Ti(),n.child=e.child,n.flags|=128,n=null):(Ti(),c=l.fallback,T=n.mode,l=Au({mode:"visible",children:l.children},T),c=pa(c,T,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ps(n,e.child,null,a),l=n.child,l.memoizedState=eh(a),l.childLanes=nh(e,_,a),n.memoizedState=th,n=c);else if(Ei(n),zh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),n=ih(e,n,a)}else if(ze||_l(e,n,a,!1),_=(a&e.childLanes)!==0,ze||_){if(_=ae,_!==null&&(l=a&-a,l=(l&42)!==0?1:Ht(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ss(e,l),On(_,e,l),Oy;T.data==="$?"||Ah(),n=ih(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,ve=ar(T.nextSibling),mn=n,Yt=!0,Ea=null,Er=!1,e!==null&&(Hn[Gn++]=Yr,Hn[Gn++]=Qr,Hn[Gn++]=va,Yr=e.id,Qr=e.overflow,va=n),n=rh(n,l.children),n.flags|=4096);return n}return c?(Ti(),c=l.fallback,T=n.mode,w=e.child,z=w.sibling,l=Fr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=Fr(z,c):(c=pa(c,T,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=e.child.memoizedState,T===null?T=eh(a):(w=T.cachePool,w!==null?(z=Me._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Sg(),T={baseLanes:T.baseLanes|a,cachePool:w}),c.memoizedState=T,c.childLanes=nh(e,_,a),n.memoizedState=th,l):(Ei(n),a=e.child,e=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function rh(e,n){return n=Au({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Au(e,n){return e=Sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ih(e,n,a){return ps(n,e.child,null,a),e=rh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zy(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Af(e.return,n,a)}function ah(e,n,a,l,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function jy(e,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if($e(e,n,l.children,a),l=xe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zy(e,a,n);else if(e.tag===19)zy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(tt(xe,l),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&vu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),ah(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&vu(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}ah(n,!0,a,null,h);break;case"together":ah(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Di|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_l(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Fr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Fr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function sh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nu(e)))}function NT(e,n,a){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),gi(n,Me,e.memoizedState.cache),pl();break;case 27:case 5:Nn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ky(e,n,a):(Ei(n),e=Wr(e,n,a),e!==null?e.sibling:null);Ei(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(_l(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jy(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(xe,xe.current),l)break;return null;case 22:case 23:return n.lanes=0,My(e,n,a);case 24:gi(n,Me,e.memoizedState.cache)}return Wr(e,n,a)}function By(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!sh(e,a)&&(n.flags&128)===0)return ze=!1,NT(e,n,a);ze=(e.flags&131072)!==0}else ze=!1,Yt&&(n.flags&1048576)!==0&&pg(n,eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")gf(l)?(e=Da(l,e),n.tag=1,n=Ly(null,n,l,e,a)):(n.tag=0,n=Jf(null,n,l,e,a));else{if(l!=null){if(c=l.$$typeof,c===vt){n.tag=11,n=Iy(null,n,l,e,a);break t}else if(c===V){n.tag=14,n=Ny(null,n,l,e,a);break t}}throw n=oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Jf(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Da(l,n.pendingProps),Ly(e,n,l,c,a);case 3:t:{if(qt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Of(e,n),Dl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,gi(n,Me,l),l!==h.cache&&bf(n,[Me],a,!0),wl(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Py(e,n,l,a);break t}else if(l!==c){c=Bn(Error(s(424)),n),vl(c),n=Py(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=ar(e.firstChild),mn=n,Yt=!0,Ea=null,Er=!0,a=_y(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),l===c){n=Wr(e,n,a);break t}$e(e,n,l,a)}n=n.child}return n;case 26:return Tu(e,n),e===null?(a=Fp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Yt||(a=n.type,e=n.pendingProps,l=Lu(gt.current).createElement(a),l[pe]=n,l[fe]=e,We(l,a,e),Dt(l),n.stateNode=l):n.memoizedState=Fp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Nn(n),e===null&&Yt&&(l=n.stateNode=qp(n.type,n.pendingProps,gt.current),mn=n,Er=!0,c=ve,Ii(n.type)?(jh=c,ve=ar(l.firstChild)):ve=c),$e(e,n,n.pendingProps.children,a),Tu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Yt&&((c=l=ve)&&(l=aA(l,n.type,n.pendingProps,Er),l!==null?(n.stateNode=l,mn=n,ve=ar(l.firstChild),Er=!1,c=!0):c=!1),c||Ta(n)),Nn(n),c=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,l=h.children,Lh(c,h)?l=null:_!==null&&Lh(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Uf(e,n,bT,null,null,a),Kl._currentValue=c),Tu(e,n),$e(e,n,l,a),n.child;case 6:return e===null&&Yt&&((e=a=ve)&&(a=sA(a,n.pendingProps,Er),a!==null?(n.stateNode=a,mn=n,ve=null,e=!0):e=!1),e||Ta(n)),null;case 13:return ky(e,n,a);case 4:return qt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ps(n,null,l,a):$e(e,n,l,a),n.child;case 11:return Iy(e,n,n.type,n.pendingProps,a);case 7:return $e(e,n,n.pendingProps,a),n.child;case 8:return $e(e,n,n.pendingProps.children,a),n.child;case 12:return $e(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,gi(n,n.type,l.value),$e(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ba(n),c=an(c),l=l(c),n.flags|=1,$e(e,n,l,a),n.child;case 14:return Ny(e,n,n.type,n.pendingProps,a);case 15:return Vy(e,n,n.type,n.pendingProps,a);case 19:return jy(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Au(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Fr(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return My(e,n,a);case 24:return ba(n),l=an(Me),e===null?(c=Df(),c===null&&(c=ae,h=Sf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},Cf(n),gi(n,Me,c)):((e.lanes&a)!==0&&(Of(e,n),Dl(n,null,null,a),wl()),c=e.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gi(n,Me,l)):(l=h.cache,gi(n,Me,l),l!==c.cache&&bf(n,[Me],a,!0))),$e(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Jr(e){e.flags|=4}function qy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(n)){if(n=Fn.current,n!==null&&((zt&4194048)===zt?Tr!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==Tr))throw bl=Rf,wg;e.flags|=8192}}function bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ci():536870912,e.lanes|=n,Ts|=n)}function Ml(e,n){if(!Yt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function VT(e,n,a){var l=n.pendingProps;switch(_f(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xr(Me),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yl(n)?Jr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Eg())),ge(n),null;case 26:return a=n.memoizedState,e===null?(Jr(n),a!==null?(ge(n),qy(n,a)):(ge(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Jr(n),ge(n),qy(n,a)):(ge(n),n.flags&=-16777217):(e.memoizedProps!==l&&Jr(n),ge(n),n.flags&=-16777217),null;case 27:En(n),a=gt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Jr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=ht.current,yl(n)?vg(n):(e=qp(c,l,a),n.stateNode=e,Jr(n))}return ge(n),null;case 5:if(En(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Jr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(e=ht.current,yl(n))vg(n);else{switch(c=Lu(gt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}e[pe]=n,e[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(We(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Jr(n)}}return ge(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Jr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=gt.current,yl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=mn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Up(e.nodeValue,a)),e||Ta(n)}else e=Lu(e).createTextNode(l),e[pe]=n,n.stateNode=e}return ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else pl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),c=!1}else c=Eg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Zr(n),n):(Zr(n),null)}if(Zr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),bu(n,n.updateQueue),ge(n),null;case 4:return Ie(),e===null&&Nh(n.stateNode.containerInfo),ge(n),null;case 10:return Xr(n.type),ge(n),null;case 19:if(rt(xe),c=n.memoizedState,c===null)return ge(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Ml(c,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=vu(e),h!==null){for(n.flags|=128,Ml(c,!1),e=h.updateQueue,n.updateQueue=e,bu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)yg(a,e),a=a.sibling;return tt(xe,xe.current&1|2),n.child}e=e.sibling}c.tail!==null&&Ge()>Du&&(n.flags|=128,l=!0,Ml(c,!1),n.lanes=4194304)}else{if(!l)if(e=vu(h),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,bu(n,e),Ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Yt)return ge(n),null}else 2*Ge()-c.renderingStartTime>Du&&a!==536870912&&(n.flags|=128,l=!0,Ml(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ge(),n.sibling=null,e=xe.current,tt(xe,l?e&1|2:e&1),n):(ge(n),null);case 22:case 23:return Zr(n),Mf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),a=n.updateQueue,a!==null&&bu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&rt(Sa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Xr(Me),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function MT(e,n){switch(_f(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xr(Me),Ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return En(n),null;case 13:if(Zr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(xe),null;case 4:return Ie(),null;case 10:return Xr(n.type),null;case 22:case 23:return Zr(n),Mf(),e!==null&&rt(Sa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xr(Me),null;case 25:return null;default:return null}}function Hy(e,n){switch(_f(n),n.tag){case 3:Xr(Me),Ie();break;case 26:case 27:case 5:En(n);break;case 4:Ie();break;case 13:Zr(n);break;case 19:rt(xe);break;case 10:Xr(n.type);break;case 22:case 23:Zr(n),Mf(),e!==null&&rt(Sa);break;case 24:Xr(Me)}}function xl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var h=a.create,_=a.inst;l=h(),_.destroy=l}a=a.next}while(a!==c)}}catch(T){re(n,n.return,T)}}function Ai(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=n;var w=a,z=T;try{z()}catch(Y){re(c,w,Y)}}}l=l.next}while(l!==h)}}catch(Y){re(n,n.return,Y)}}function Gy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ng(n,a)}catch(l){re(e,e.return,l)}}}function Fy(e,n,a){a.props=Da(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){re(e,n,l)}}function Ul(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){re(e,n,c)}}function Ar(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){re(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){re(e,n,c)}else a.current=null}function Yy(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){re(e,e.return,c)}}function lh(e,n,a){try{var l=e.stateNode;tA(l,e.type,a,n),l[fe]=n}catch(c){re(e,e.return,c)}}function Qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ii(e.type)||e.tag===4}function oh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Uu));else if(l!==4&&(l===27&&Ii(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(uh(e,n,a),e=e.sibling;e!==null;)uh(e,n,a),e=e.sibling}function Su(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Ii(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Su(e,n,a),e=e.sibling;e!==null;)Su(e,n,a),e=e.sibling}function Ky(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);We(n,l,a),n[pe]=e,n[fe]=a}catch(h){re(e,e.return,h)}}var ti=!1,Te=!1,ch=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,je=null;function xT(e,n){if(e=e.containerInfo,xh=qu,e=sg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var _=0,T=-1,w=-1,z=0,Y=0,$=e,j=null;e:for(;;){for(var B;$!==a||c!==0&&$.nodeType!==3||(T=_+c),$!==h||l!==0&&$.nodeType!==3||(w=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(B=$.firstChild)!==null;)j=$,$=B;for(;;){if($===e)break e;if(j===a&&++z===c&&(T=_),j===h&&++Y===l&&(w=_),(B=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=B}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uh={focusedElem:e,selectionRange:a},qu=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var Et=Da(a.type,c,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){re(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)kh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function $y(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(e,a),l&4&&xl(5,a);break;case 1:if(bi(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){re(a,a.return,_)}else{var c=Da(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){re(a,a.return,_)}}l&64&&Gy(a),l&512&&Ul(a,a.return);break;case 3:if(bi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ng(e,n)}catch(_){re(a,a.return,_)}}break;case 27:n===null&&l&4&&Ky(a);case 26:case 5:bi(e,a),n===null&&l&4&&Yy(a),l&512&&Ul(a,a.return);break;case 12:bi(e,a);break;case 13:bi(e,a),l&4&&Jy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=HT.bind(null,a),lA(e,a))));break;case 22:if(l=a.memoizedState!==null||ti,!l){n=n!==null&&n.memoizedState!==null||Te,c=ti;var h=Te;ti=l,(Te=n)&&!h?Si(e,a,(a.subtreeFlags&8772)!==0):bi(e,a),ti=c,Te=h}break;case 30:break;default:bi(e,a)}}function Zy(e){var n=e.alternate;n!==null&&(e.alternate=null,Zy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,yn=!1;function ei(e,n,a){for(a=a.child;a!==null;)Wy(e,n,a),a=a.sibling}function Wy(e,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:Te||Ar(a,n),ei(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||Ar(a,n);var l=he,c=yn;Ii(a.type)&&(he=a.stateNode,yn=!1),ei(e,n,a),Gl(a.stateNode),he=l,yn=c;break;case 5:Te||Ar(a,n);case 6:if(l=he,c=yn,he=null,ei(e,n,a),he=l,yn=c,he!==null)if(yn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(h){re(a,n,h)}else try{he.removeChild(a.stateNode)}catch(h){re(a,n,h)}break;case 18:he!==null&&(yn?(e=he,jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wl(e)):jp(he,a.stateNode));break;case 4:l=he,c=yn,he=a.stateNode.containerInfo,yn=!0,ei(e,n,a),he=l,yn=c;break;case 0:case 11:case 14:case 15:Te||Ai(2,a,n),Te||Ai(4,a,n),ei(e,n,a);break;case 1:Te||(Ar(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fy(a,n,l)),ei(e,n,a);break;case 21:ei(e,n,a);break;case 22:Te=(l=Te)||a.memoizedState!==null,ei(e,n,a),Te=l;break;default:ei(e,n,a)}}function Jy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(a){re(n,n.return,a)}}function UT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xy),n;default:throw Error(s(435,e.tag))}}function fh(e,n){var a=UT(e);n.forEach(function(l){var c=GT.bind(null,e,l);a.has(l)||(a.add(l),l.then(c,c))})}function wn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Ii(T.type)){he=T.stateNode,yn=!1;break t}break;case 5:he=T.stateNode,yn=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(he===null)throw Error(s(160));Wy(h,_,c),he=null,yn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)tp(n,e),n=n.sibling}var ir=null;function tp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(n,e),Dn(e),l&4&&(Ai(3,e,e.return),xl(3,e),Ai(5,e,e.return));break;case 1:wn(n,e),Dn(e),l&512&&(Te||a===null||Ar(a,a.return)),l&64&&ti&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ir;if(wn(n,e),Dn(e),l&512&&(Te||a===null||Ar(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Wn]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),We(h,l,a),h[pe]=e,Dt(h),l=h;break t;case"link":var _=Kp("link","href",c).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}h=c.createElement(l),We(h,l,a),c.head.appendChild(h);break;case"meta":if(_=Kp("meta","content",c).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}h=c.createElement(l),We(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[pe]=e,Dt(h),l=h}e.stateNode=l}else Xp(c,e.type,e.stateNode);else e.stateNode=Qp(c,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Xp(c,e.type,e.stateNode):Qp(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lh(e,e.memoizedProps,a.memoizedProps)}break;case 27:wn(n,e),Dn(e),l&512&&(Te||a===null||Ar(a,a.return)),a!==null&&l&4&&lh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wn(n,e),Dn(e),l&512&&(Te||a===null||Ar(a,a.return)),e.flags&32){c=e.stateNode;try{Pn(c,"")}catch(B){re(e,e.return,B)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,lh(e,c,a!==null?a.memoizedProps:c)),l&1024&&(ch=!0);break;case 6:if(wn(n,e),Dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){re(e,e.return,B)}}break;case 3:if(zu=null,c=ir,ir=Pu(n.containerInfo),wn(n,e),ir=c,Dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(B){re(e,e.return,B)}ch&&(ch=!1,ep(e));break;case 4:l=ir,ir=Pu(e.stateNode.containerInfo),wn(n,e),Dn(e),ir=l;break;case 12:wn(n,e),Dn(e);break;case 13:wn(n,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ph=Ge()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fh(e,l)));break;case 22:c=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=ti,Y=Te;if(ti=z||c,Te=Y||w,wn(n,e),Te=Y,ti=z,Dn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||ti||Te||Ra(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(h=w.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=w.stateNode;var $=w.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){re(w,w.return,B)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(B){re(w,w.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fh(e,a))));break;case 19:wn(n,e),Dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fh(e,l)));break;case 30:break;case 21:break;default:wn(n,e),Dn(e)}}function Dn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Qy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=oh(e);Su(e,h,c);break;case 5:var _=a.stateNode;a.flags&32&&(Pn(_,""),a.flags&=-33);var T=oh(e);Su(e,T,_);break;case 3:case 4:var w=a.stateNode.containerInfo,z=oh(e);uh(e,z,w);break;default:throw Error(s(161))}}catch(Y){re(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$y(e,n.alternate,n),n=n.sibling}function Ra(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ra(n);break;case 1:Ar(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fy(n,n.return,a),Ra(n);break;case 27:Gl(n.stateNode);case 26:case 5:Ar(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}e=e.sibling}}function Si(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:Si(c,h,a),xl(4,h);break;case 1:if(Si(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){re(l,l.return,z)}if(l=h,c=l.updateQueue,c!==null){var T=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Ig(w[c],T)}catch(z){re(l,l.return,z)}}a&&_&64&&Gy(h),Ul(h,h.return);break;case 27:Ky(h);case 26:case 5:Si(c,h,a),a&&l===null&&_&4&&Yy(h),Ul(h,h.return);break;case 12:Si(c,h,a);break;case 13:Si(c,h,a),a&&_&4&&Jy(c,h);break;case 22:h.memoizedState===null&&Si(c,h,a),Ul(h,h.return);break;case 30:break;default:Si(c,h,a)}n=n.sibling}}function hh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function dh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function br(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,a,l),n=n.sibling}function np(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:br(e,n,a,l),c&2048&&xl(9,n);break;case 1:br(e,n,a,l);break;case 3:br(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(c&2048){br(e,n,a,l),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){re(n,n.return,w)}}else br(e,n,a,l);break;case 13:br(e,n,a,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?br(e,n,a,l):Ll(e,n):h._visibility&2?br(e,n,a,l):(h._visibility|=2,vs(e,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&hh(_,n);break;case 24:br(e,n,a,l),c&2048&&dh(n.alternate,n);break;default:br(e,n,a,l)}}function vs(e,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,_=n,T=a,w=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:vs(h,_,T,w,c),xl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?vs(h,_,T,w,c):Ll(h,_):(Y._visibility|=2,vs(h,_,T,w,c)),c&&z&2048&&hh(_.alternate,_);break;case 24:vs(h,_,T,w,c),c&&z&2048&&dh(_.alternate,_);break;default:vs(h,_,T,w,c)}n=n.sibling}}function Ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:Ll(a,l),c&2048&&hh(l.alternate,l);break;case 24:Ll(a,l),c&2048&&dh(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var Pl=8192;function _s(e){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 26:_s(e),e.flags&Pl&&e.memoizedState!==null&&EA(ir,e.memoizedState,e.memoizedProps);break;case 5:_s(e);break;case 3:case 4:var n=ir;ir=Pu(e.stateNode.containerInfo),_s(e),ir=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Pl,Pl=16777216,_s(e),Pl=n):_s(e));break;default:_s(e)}}function ip(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,sp(l,e)}ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ap(e),e=e.sibling}function ap(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Ai(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,wu(e)):kl(e);break;default:kl(e)}}function wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,sp(l,e)}ip(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,wu(n));break;default:wu(n)}e=e.sibling}}function sp(e,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var c=l.sibling,h=l.return;if(Zy(l),l===a){je=null;break t}if(c!==null){c.return=h,je=c;break t}je=h}}}var LT={getCacheForType:function(e){var n=an(Me),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},PT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,xt=null,zt=0,$t=0,Rn=null,wi=!1,Es=!1,mh=!1,ni=0,_e=0,Di=0,Ca=0,gh=0,Yn=0,Ts=0,zl=null,pn=null,yh=!1,ph=0,Du=1/0,Ru=null,Ri=null,Ze=0,Ci=null,As=null,bs=0,vh=0,_h=null,lp=null,jl=0,Eh=null;function Cn(){if((Xt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var e=cs;return e!==0?e:Rh()}return fr()}function op(){Yn===0&&(Yn=(zt&536870912)===0||Yt?ta():536870912);var e=Fn.current;return e!==null&&(e.flags|=32),Yn}function On(e,n,a){(e===ae&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),Oi(e,zt,Yn,!1)),xn(e,a),((Xt&2)===0||e!==ae)&&(e===ae&&((Xt&2)===0&&(Ca|=a),_e===4&&Oi(e,zt,Yn,!1)),Sr(e))}function up(e,n,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ur(e,n),c=l?jT(e,n):bh(e,n,!0),h=l;do{if(c===0){Es&&!l&&Oi(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!kT(a)){c=bh(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;c=zl;var w=T.current.memoizedState.isDehydrated;if(w&&(Ss(T,_).flags|=256),_=bh(T,_,!1),_!==2){if(mh&&!w){T.errorRecoveryDisabledLanes|=h,Ca|=h,c=4;break t}h=pn,pn=c,h!==null&&(pn===null?pn=h:pn.push.apply(pn,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){Ss(e,0),Oi(e,n,0,!0);break}t:{switch(l=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Oi(l,n,Yn,!wi);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=ph+300-Ge(),10<c)){if(Oi(l,n,Yn,!wi),xr(l,0,!0)!==0)break t;l.timeoutHandle=kp(cp.bind(null,l,a,pn,Ru,yh,n,Yn,Ca,Ts,wi,h,2,-0,0),c);break t}cp(l,a,pn,Ru,yh,n,Yn,Ca,Ts,wi,h,0,-0,0)}}break}while(!0);Sr(e)}function cp(e,n,a,l,c,h,_,T,w,z,Y,$,j,B){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:_A},rp(n),$=TA(),$!==null)){e.cancelPendingCommit=$(pp.bind(null,e,n,h,a,l,c,_,T,w,Y,1,j,B)),Oi(e,h,_,!z);return}pp(e,n,h,a,l,c,_,T,w)}function kT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!bn(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(e,n,a,l){n&=~gh,n&=~Ca,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var h=31-be(c),_=1<<h;l[h]=-1,c&=~_}a!==0&&se(e,a,n)}function Cu(){return(Xt&6)===0?(Bl(0),!1):!0}function Th(){if(xt!==null){if($t===0)var e=xt.return;else e=xt,Kr=Aa=null,kf(e),ys=null,Nl=0,e=xt;for(;e!==null;)Hy(e.alternate,e),e=e.return;xt=null}}function Ss(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,nA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Th(),ae=e,xt=a=Fr(e.current,null),zt=n,$t=0,Rn=null,wi=!1,Es=ur(e,n),mh=!1,Ts=Yn=gh=Ca=Di=_e=0,pn=zl=null,yh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-be(l),h=1<<c;n|=e[c],l&=~h}return ni=n,$o(),a}function fp(e,n){Ot=null,H.H=gu,n===Al||n===au?(n=Cg(),$t=3):n===wg?(n=Cg(),$t=4):$t=n===Oy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,xt===null&&(_e=1,Eu(e,Bn(n,e.current)))}function hp(){var e=H.H;return H.H=gu,e===null?gu:e}function dp(){var e=H.A;return H.A=LT,e}function Ah(){_e=4,wi||(zt&4194048)!==zt&&Fn.current!==null||(Es=!0),(Di&134217727)===0&&(Ca&134217727)===0||ae===null||Oi(ae,zt,Yn,!1)}function bh(e,n,a){var l=Xt;Xt|=2;var c=hp(),h=dp();(ae!==e||zt!==n)&&(Ru=null,Ss(e,n)),n=!1;var _=_e;t:do try{if($t!==0&&xt!==null){var T=xt,w=Rn;switch($t){case 8:Th(),_=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var z=$t;if($t=0,Rn=null,ws(e,T,w,z),a&&Es){_=0;break t}break;default:z=$t,$t=0,Rn=null,ws(e,T,w,z)}}zT(),_=_e;break}catch(Y){fp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Kr=Aa=null,Xt=l,H.H=c,H.A=h,xt===null&&(ae=null,zt=0,$o()),_}function zT(){for(;xt!==null;)mp(xt)}function jT(e,n){var a=Xt;Xt|=2;var l=hp(),c=dp();ae!==e||zt!==n?(Ru=null,Du=Ge()+500,Ss(e,n)):Es=ur(e,n);t:do try{if($t!==0&&xt!==null){n=xt;var h=Rn;e:switch($t){case 1:$t=0,Rn=null,ws(e,n,h,1);break;case 2:case 9:if(Dg(h)){$t=0,Rn=null,gp(n);break}n=function(){$t!==2&&$t!==9||ae!==e||($t=7),Sr(e)},h.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Dg(h)?($t=0,Rn=null,gp(n)):($t=0,Rn=null,ws(e,n,h,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(!_||$p(_)){$t=0,Rn=null;var w=T.sibling;if(w!==null)xt=w;else{var z=T.return;z!==null?(xt=z,Ou(z)):xt=null}break e}}$t=0,Rn=null,ws(e,n,h,5);break;case 6:$t=0,Rn=null,ws(e,n,h,6);break;case 8:Th(),_e=6;break t;default:throw Error(s(462))}}BT();break}catch(Y){fp(e,Y)}while(!0);return Kr=Aa=null,H.H=l,H.A=c,Xt=a,xt!==null?0:(ae=null,zt=0,$o(),_e)}function BT(){for(;xt!==null&&!$n();)mp(xt)}function mp(e){var n=By(e.alternate,e,ni);e.memoizedProps=e.pendingProps,n===null?Ou(e):xt=n}function gp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Uy(a,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Uy(a,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:kf(n);default:Hy(a,n),n=xt=yg(n,ni),n=By(a,n,ni)}e.memoizedProps=e.pendingProps,n===null?Ou(e):xt=n}function ws(e,n,a,l){Kr=Aa=null,kf(n),ys=null,Nl=0;var c=n.return;try{if(IT(e,c,n,a,zt)){_e=1,Eu(e,Bn(a,e.current)),xt=null;return}}catch(h){if(c!==null)throw xt=c,h;_e=1,Eu(e,Bn(a,e.current)),xt=null;return}n.flags&32768?(Yt||l===1?e=!0:Es||(zt&536870912)!==0?e=!1:(wi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,e)):Ou(n)}function Ou(e){var n=e;do{if((n.flags&32768)!==0){yp(n,wi);return}e=n.return;var a=VT(n.alternate,n,ni);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);_e===0&&(_e=5)}function yp(e,n){do{var a=MT(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);_e=6,xt=null}function pp(e,n,a,l,c,h,_,T,w){e.cancelPendingCommit=null;do Iu();while(Ze!==0);if((Xt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=df,Se(e,a,h,_,T,w),e===ae&&(xt=ae=null,zt=0),As=n,Ci=e,bs=a,vh=h,_h=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FT(Nr,function(){return Ap(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=it.p,it.p=2,_=Xt,Xt|=4;try{xT(e,n,a)}finally{Xt=_,it.p=c,H.T=l}}Ze=1,vp(),_p(),Ep()}}function vp(){if(Ze===1){Ze=0;var e=Ci,n=As,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Xt;Xt|=4;try{tp(n,e);var h=Uh,_=sg(e.containerInfo),T=h.focusedElem,w=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(w!==null&&of(T)){var z=w.start,Y=w.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var B=j.getSelection(),Et=T.textContent.length,yt=Math.min(w.start,Et),te=w.end===void 0?yt:Math.min(w.end,Et);!B.extend&&yt>te&&(_=te,te=yt,yt=_);var U=ig(T,yt),N=ig(T,te);if(U&&N&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var k=$.createRange();k.setStart(U.node,U.offset),B.removeAllRanges(),yt>te?(B.addRange(k),B.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),B.addRange(k))}}}}for($=[],B=T;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}qu=!!xh,Uh=xh=null}finally{Xt=c,it.p=l,H.T=a}}e.current=n,Ze=2}}function _p(){if(Ze===2){Ze=0;var e=Ci,n=As,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Xt;Xt|=4;try{$y(e,n.alternate,n)}finally{Xt=c,it.p=l,H.T=a}}Ze=3}}function Ep(){if(Ze===4||Ze===3){Ze=0,He();var e=Ci,n=As,a=bs,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,As=Ci=null,Tp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ri=null),Fe(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ce,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=it.p,it.p=2,H.T=null;try{for(var h=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{H.T=n,it.p=c}}(bs&3)!==0&&Iu(),Sr(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===Eh?jl++:(jl=0,Eh=e):jl=0,Bl(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Iu(e){return vp(),_p(),Ep(),Ap()}function Ap(){if(Ze!==5)return!1;var e=Ci,n=vh;vh=0;var a=Fe(bs),l=H.T,c=it.p;try{it.p=32>a?32:a,H.T=null,a=_h,_h=null;var h=Ci,_=bs;if(Ze=0,As=Ci=null,bs=0,(Xt&6)!==0)throw Error(s(331));var T=Xt;if(Xt|=4,ap(h.current),np(h,h.current,_,a),Xt=T,Bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ce,h)}catch{}return!0}finally{it.p=c,H.T=l,Tp(e,n)}}function bp(e,n,a){n=Bn(a,n),n=Wf(e.stateNode,n,2),e=vi(e,n,2),e!==null&&(xn(e,2),Sr(e))}function re(e,n,a){if(e.tag===3)bp(e,e,a);else for(;n!==null;){if(n.tag===3){bp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){e=Bn(a,e),a=Ry(2),l=vi(n,a,2),l!==null&&(Cy(a,l,n,e),xn(l,2),Sr(l));break}}n=n.return}}function Sh(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new PT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(mh=!0,c.add(a),e=qT.bind(null,e,n,a),n.then(e,e))}function qT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(zt&a)===a&&(_e===4||_e===3&&(zt&62914560)===zt&&300>Ge()-ph?(Xt&2)===0&&Ss(e,0):gh|=a,Ts===zt&&(Ts=0)),Sr(e)}function Sp(e,n){n===0&&(n=ci()),e=ss(e,n),e!==null&&(xn(e,n),Sr(e))}function HT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Sp(e,a)}function GT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sp(e,a)}function FT(e,n){return Xn(e,n)}var Nu=null,Ds=null,wh=!1,Vu=!1,Dh=!1,Oa=0;function Sr(e){e!==Ds&&e.next===null&&(Ds===null?Nu=Ds=e:Ds=Ds.next=e),Vu=!0,wh||(wh=!0,QT())}function Bl(e,n){if(!Dh&&Vu){Dh=!0;do for(var a=!1,l=Nu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-be(42|e)+1)-1,h&=c&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Cp(l,h))}else h=zt,h=xr(l,l===ae?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ur(l,h)||(a=!0,Cp(l,h));l=l.next}while(a);Dh=!1}}function YT(){wp()}function wp(){Vu=wh=!1;var e=0;Oa!==0&&(eA()&&(e=Oa),Oa=0);for(var n=Ge(),a=null,l=Nu;l!==null;){var c=l.next,h=Dp(l,n);h===0?(l.next=null,a===null?Nu=c:a.next=c,c===null&&(Ds=a)):(a=l,(e!==0||(h&3)!==0)&&(Vu=!0)),l=c}Bl(e)}function Dp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-be(h),T=1<<_,w=c[_];w===-1?((T&a)===0||(T&l)!==0)&&(c[_]=Ur(T,n)):w<=n&&(e.expiredLanes|=T),h&=~T}if(n=ae,a=zt,a=xr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ee(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ur(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ee(l),Fe(a)){case 2:case 8:a=ui;break;case 32:a=Nr;break;case 268435456:a=Vr;break;default:a=Nr}return l=Rp.bind(null,e),a=Xn(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ee(l),e.callbackPriority=2,e.callbackNode=null,2}function Rp(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Iu()&&e.callbackNode!==a)return null;var l=zt;return l=xr(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(up(e,l,n),Dp(e,Ge()),e.callbackNode!=null&&e.callbackNode===a?Rp.bind(null,e):null)}function Cp(e,n){if(Iu())return null;up(e,n,!0)}function QT(){rA(function(){(Xt&6)!==0?Xn(oi,YT):wp()})}function Rh(){return Oa===0&&(Oa=ta()),Oa}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ka(""+e)}function Ip(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function KT(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Op((c[fe]||null).action),_=l.submitter;_&&(n=(n=_[fe]||null)?Op(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Xa("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var w=_?Ip(c,_):new FormData(c);Qf(a,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(T.preventDefault(),w=_?Ip(c,_):new FormData(c),Qf(a,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var Ch=0;Ch<hf.length;Ch++){var Oh=hf[Ch],XT=Oh.toLowerCase(),$T=Oh[0].toUpperCase()+Oh.slice(1);rr(XT,"on"+$T)}rr(ug,"onAnimationEnd"),rr(cg,"onAnimationIteration"),rr(fg,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(dT,"onTransitionRun"),rr(mT,"onTransitionStart"),rr(gT,"onTransitionCancel"),rr(hg,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Np(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=z;try{h(c)}catch(Y){_u(Y)}c.currentTarget=null,h=w}else for(_=0;_<l.length;_++){if(T=l[_],w=T.instance,z=T.currentTarget,T=T.listener,w!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=z;try{h(c)}catch(Y){_u(Y)}c.currentTarget=null,h=w}}}}function Ut(e,n){var a=n[Lr];a===void 0&&(a=n[Lr]=new Set);var l=e+"__bubble";a.has(l)||(Vp(n,e,2,!1),a.add(l))}function Ih(e,n,a){var l=0;n&&(l|=4),Vp(a,e,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Nh(e){if(!e[Mu]){e[Mu]=!0,Qe.forEach(function(a){a!=="selectionchange"&&(ZT.has(a)||Ih(a,!1,e),Ih(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,Ih("selectionchange",!1,n))}}function Vp(e,n,a,l){switch(nv(n)){case 2:var c=SA;break;case 8:c=wA;break;default:c=Fh}a=c.bind(null,n,a,e),c=void 0,!zn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function Vh(e,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=tr(T),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=h=_;continue t}T=T.parentNode}}l=l.return}Uo(function(){var z=h,Y=kn(a),$=[];t:{var j=dg.get(e);if(j!==void 0){var B=Xa,Et=e;switch(e){case"keypress":if(gr(a)===0)break t;case"keydown":case"keyup":B=es;break;case"focusin":Et="focus",B=Wa;break;case"focusout":Et="blur",B=Wa;break;case"beforeblur":case"afterblur":B=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ho;break;case ug:case cg:case fg:B=Ja;break;case hg:B=Fo;break;case"scroll":case"scrollend":B=Lo;break;case"wheel":B=ns;break;case"copy":case"cut":case"paste":B=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=hl;break;case"toggle":case"beforetoggle":B=Qo}var yt=(n&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),U=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,k;N!==null;){var Q=N;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=oa(N,U),Q!=null&&yt.push(Hl(N,Q,k))),te)break;N=N.return}0<yt.length&&(j=new B(j,Et,null,a,Y),$.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==zr&&(Et=a.relatedTarget||a.fromElement)&&(tr(Et)||Et[Ye]))break t;if((B||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,B?(Et=a.relatedTarget||a.toElement,B=z,Et=Et?tr(Et):null,Et!==null&&(te=f(Et),yt=Et.tag,Et!==te||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(B=null,Et=z),B!==Et)){if(yt=jn,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=hl,Q="onPointerLeave",U="onPointerEnter",N="pointer"),te=B==null?j:Tt(B),k=Et==null?j:Tt(Et),j=new yt(Q,N+"leave",B,a,Y),j.target=te,j.relatedTarget=k,Q=null,tr(Y)===z&&(yt=new yt(U,N+"enter",Et,a,Y),yt.target=k,yt.relatedTarget=te,Q=yt),te=Q,B&&Et)e:{for(yt=B,U=Et,N=0,k=yt;k;k=Rs(k))N++;for(k=0,Q=U;Q;Q=Rs(Q))k++;for(;0<N-k;)yt=Rs(yt),N--;for(;0<k-N;)U=Rs(U),k--;for(;N--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=Rs(yt),U=Rs(U)}yt=null}else yt=null;B!==null&&Mp($,j,B,yt,!1),Et!==null&&te!==null&&Mp($,te,Et,yt,!0)}}t:{if(j=z?Tt(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ut=Wm;else if(Ve(j))if(Jm)ut=cT;else{ut=oT;var Mt=lT}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&al(z.elementType)&&(ut=Wm):ut=uT;if(ut&&(ut=ut(e,z))){Gr($,ut,a,Y);break t}Mt&&Mt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&di(j,"number",j.value)}switch(Mt=z?Tt(z):window,e){case"focusin":(Ve(Mt)||Mt.contentEditable==="true")&&(rs=Mt,uf=z,gl=null);break;case"focusout":gl=uf=rs=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,lg($,a,Y);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":lg($,a,Y)}var dt;if(vr)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Pt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(v&&a.locale!=="ko"&&(Pt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Pt&&(dt=ll()):(mr=Y,mi="value"in mr?mr.value:mr.textContent,Pt=!0)),Mt=xu(z,pt),0<Mt.length&&(pt=new cl(pt,e,null,a,Y),$.push({event:pt,listeners:Mt}),dt?pt.data=dt:(dt=nt(a),dt!==null&&(pt.data=dt)))),(dt=m?Ne(e,a):kt(e,a))&&(pt=xu(z,"onBeforeInput"),0<pt.length&&(Mt=new cl("onBeforeInput","beforeinput",null,a,Y),$.push({event:Mt,listeners:pt}),Mt.data=dt)),KT($,e,z,a,Y)}Np($,n)})}function Hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function xu(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=oa(e,a),c!=null&&l.unshift(Hl(e,c,h)),c=oa(e,n),c!=null&&l.push(Hl(e,c,h))),e.tag===3)return l;e=e.return}return[]}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mp(e,n,a,l,c){for(var h=n._reactName,_=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,c?(z=oa(a,h),z!=null&&_.unshift(Hl(a,z,w))):c||(z=oa(a,h),z!=null&&_.push(Hl(a,z,w)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var WT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function xp(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(JT,"")}function Up(e,n){return n=xp(n),xp(e)===n}function Uu(){}function Jt(e,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Pn(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,a,l);break;case"style":il(e,l,h);break;case"data":if(n!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ka(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Uu);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ka(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),hi(e,"popover",l);break;case"xlinkActuate":Ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ef.get(a)||a,hi(e,a,l))}}function Mh(e,n,a,l,c,h){switch(a){case"style":il(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&Pn(e,""+l);break;case"onScroll":l!=null&&Ut("scroll",e);break;case"onScrollEnd":l!=null&&Ut("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Le.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=e[fe]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):hi(e,a,l)}}}function We(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,h,_,a,null)}}c&&Jt(e,n,"srcSet",a.srcSet,a,null),l&&Jt(e,n,"src",a.src,a,null);return;case"input":Ut("invalid",e);var T=h=_=c=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":_=Y;break;case"checked":w=Y;break;case"defaultChecked":z=Y;break;case"value":h=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Jt(e,n,l,Y,a,null)}}aa(e,h,T,w,z,_,c,!1),Qa(e);return;case"select":Ut("invalid",e),l=_=h=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,n,c,T,a,null)}n=h,a=_,e.multiple=!!l,n!=null?kr(e,!!l,n,!1):a!=null&&kr(e,!!l,a,!0);return;case"textarea":Ut("invalid",e),h=c=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,n,_,T,a,null)}sa(e,l,c,h),Qa(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,n,w,l,a,null)}return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)Ut(ql[l],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,z,l,a,null)}return;default:if(al(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Mh(e,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,n,T,l,a,null))}function tA(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,T=null,w=null,z=null,Y=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=$;default:l.hasOwnProperty(B)||Jt(e,n,B,null,l,$)}}for(var j in l){var B=l[j];if($=a[j],l.hasOwnProperty(j)&&(B!=null||$!=null))switch(j){case"type":h=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Y=B;break;case"value":_=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==$&&Jt(e,n,j,B,l,$)}}An(e,_,T,w,z,Y,h,c);return;case"select":B=_=T=j=null;for(h in a)if(w=a[h],a.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(h)||Jt(e,n,h,null,l,w)}for(c in l)if(h=l[c],w=a[c],l.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":j=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==w&&Jt(e,n,c,h,l,w)}n=T,a=_,l=B,j!=null?kr(e,!!a,j,!1):!!l!=!!a&&(n!=null?kr(e,!!a,n,!0):kr(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,n,T,null,l,c)}for(_ in l)if(c=l[_],h=a[_],l.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":j=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Jt(e,n,_,c,l,h)}Zt(e,j,B);return;case"option":for(var Et in a)if(j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Jt(e,n,Et,null,l,j)}for(w in l)if(j=l[w],B=a[w],l.hasOwnProperty(w)&&j!==B&&(j!=null||B!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,w,j,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Jt(e,n,yt,null,l,j);for(z in l)if(j=l[z],B=a[z],l.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Jt(e,n,z,j,l,B)}return;default:if(al(n)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!l.hasOwnProperty(te)&&Mh(e,n,te,void 0,l,j);for(Y in l)j=l[Y],B=a[Y],!l.hasOwnProperty(Y)||j===B||j===void 0&&B===void 0||Mh(e,n,Y,j,l,B);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Jt(e,n,U,null,l,j);for($ in l)j=l[$],B=a[$],!l.hasOwnProperty($)||j===B||j==null&&B==null||Jt(e,n,$,j,l,B)}var xh=null,Uh=null;function Lu(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ph=null;function eA(){var e=window.event;return e&&e.type==="popstate"?e===Ph?!1:(Ph=e,!0):(Ph=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(iA)}:kp;function iA(e){setTimeout(function(){throw e})}function Ii(e){return e==="head"}function jp(e,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&Gl(_.documentElement),a&2&&Gl(_.body),a&4)for(a=_.head,Gl(a),_=a.firstChild;_;){var T=_.nextSibling,w=_.nodeName;_[Wn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(c===0){e.removeChild(h),Wl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);Wl(n)}function kh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kh(a),Jn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function aA(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ar(e.nextSibling),e===null)break}return null}function sA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ar(e.nextSibling),e===null))return null;return e}function zh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lA(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ar(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var jh=null;function Bp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function qp(e,n,a){switch(n=Lu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jn(e)}var Qn=new Map,Hp=new Set;function Pu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ri=it.d;it.d={f:oA,r:uA,D:cA,C:fA,L:hA,m:dA,X:gA,S:mA,M:yA};function oA(){var e=ri.f(),n=Cu();return e||n}function uA(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?uy(n):ri.r(e)}var Cs=typeof document>"u"?null:document;function Gp(e,n,a){var l=Cs;if(l&&typeof n=="string"&&n){var c=we(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Hp.has(c)||(Hp.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),We(n,"link",e),Dt(n),l.head.appendChild(n)))}}function cA(e){ri.D(e),Gp("dns-prefetch",e,null)}function fA(e,n){ri.C(e,n),Gp("preconnect",e,n)}function hA(e,n,a){ri.L(e,n,a);var l=Cs;if(l&&e&&n){var c='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+we(a.imageSizes)+'"]')):c+='[href="'+we(e)+'"]';var h=c;switch(n){case"style":h=Os(e);break;case"script":h=Is(e)}Qn.has(h)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qn.set(h,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Fl(h))||n==="script"&&l.querySelector(Yl(h))||(n=l.createElement("link"),We(n,"link",e),Dt(n),l.head.appendChild(n)))}}function dA(e,n){ri.m(e,n);var a=Cs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Is(e)}if(!Qn.has(h)&&(e=E({rel:"modulepreload",href:e},n),Qn.set(h,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(h)))return}l=a.createElement("link"),We(l,"link",e),Dt(l),a.head.appendChild(l)}}}function mA(e,n,a){ri.S(e,n,a);var l=Cs;if(l&&e){var c=Vt(l).hoistableStyles,h=Os(e);n=n||"default";var _=c.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Fl(h)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qn.get(h))&&Bh(e,a);var w=_=l.createElement("link");Dt(w),We(w,"link",e),w._p=new Promise(function(z,Y){w.onload=z,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ku(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(h,_)}}}function gA(e,n){ri.X(e,n);var a=Cs;if(a&&e){var l=Vt(a).hoistableScripts,c=Is(e),h=l.get(c);h||(h=a.querySelector(Yl(c)),h||(e=E({src:e,async:!0},n),(n=Qn.get(c))&&qh(e,n),h=a.createElement("script"),Dt(h),We(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function yA(e,n){ri.M(e,n);var a=Cs;if(a&&e){var l=Vt(a).hoistableScripts,c=Is(e),h=l.get(c);h||(h=a.querySelector(Yl(c)),h||(e=E({src:e,async:!0,type:"module"},n),(n=Qn.get(c))&&qh(e,n),h=a.createElement("script"),Dt(h),We(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Fp(e,n,a,l){var c=(c=gt.current)?Pu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Os(a.href),a=Vt(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Os(a.href);var h=Vt(c).hoistableStyles,_=h.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=c.querySelector(Fl(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),h||pA(c,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(a),a=Vt(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Os(e){return'href="'+we(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function Yp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function pA(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),We(n,"link",a),Dt(n),e.head.appendChild(n))}function Is(e){return'[src="'+we(e)+'"]'}function Yl(e){return"script[async]"+e}function Qp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+we(a.href)+'"]');if(l)return n.instance=l,Dt(l),l;var c=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Dt(l),We(l,"style",c),ku(l,a.precedence,e),n.instance=l;case"stylesheet":c=Os(a.href);var h=e.querySelector(Fl(c));if(h)return n.state.loading|=4,n.instance=h,Dt(h),h;l=Yp(a),(c=Qn.get(c))&&Bh(l,c),h=(e.ownerDocument||e).createElement("link"),Dt(h);var _=h;return _._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),We(h,"link",l),n.state.loading|=4,ku(h,a.precedence,e),n.instance=h;case"script":return h=Is(a.src),(c=e.querySelector(Yl(h)))?(n.instance=c,Dt(c),c):(l=a,(c=Qn.get(h))&&(l=E({},a),qh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Dt(c),We(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ku(l,a.precedence,e));return n.instance}function ku(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Bh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var zu=null;function Kp(e,n,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var h=a[c];if(!(h[Wn]||h[pe]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function Xp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function vA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function _A(){}function EA(e,n,a){if(Ql===null)throw Error(s(475));var l=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Os(a.href),h=e.querySelector(Fl(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ju.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=h,Dt(h);return}h=e.ownerDocument||e,a=Yp(a),(c=Qn.get(c))&&Bh(a,c),h=h.createElement("link"),Dt(h);var _=h;_._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),We(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ju.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function TA(){if(Ql===null)throw Error(s(475));var e=Ql;return e.stylesheets&&e.count===0&&Hh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Hh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ju(){if(this.count--,this.count===0){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bu=null;function Hh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bu=new Map,n.forEach(AA,e),Bu=null,ju.call(e))}function AA(e,n){if(!(n.state.loading&4)){var a=Bu.get(e);if(a)var l=a.get(null);else{a=new Map,Bu.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),h=a.get(_)||l,h===l&&a.set(null,c),a.set(_,c),this.count++,l=ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Kl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function bA(e,n,a,l,c,h,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zp(e,n,a,l,c,h,_,T,w,z,Y,$){return e=new bA(e,n,a,_,T,w,z,$),n=1,h===!0&&(n|=24),h=Sn(3,null,null,n),e.current=h,h.stateNode=e,n=Sf(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Cf(h),e}function Wp(e){return e?(e=ls,e):ls}function Jp(e,n,a,l,c,h){c=Wp(c),l.context===null?l.context=c:l.pendingContext=c,l=pi(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=vi(e,l,n),a!==null&&(On(a,e,n),Sl(a,e,n))}function tv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Gh(e,n){tv(e,n),(e=e.alternate)&&tv(e,n)}function ev(e){if(e.tag===13){var n=ss(e,67108864);n!==null&&On(n,e,67108864),Gh(e,67108864)}}var qu=!0;function SA(e,n,a,l){var c=H.T;H.T=null;var h=it.p;try{it.p=2,Fh(e,n,a,l)}finally{it.p=h,H.T=c}}function wA(e,n,a,l){var c=H.T;H.T=null;var h=it.p;try{it.p=8,Fh(e,n,a,l)}finally{it.p=h,H.T=c}}function Fh(e,n,a,l){if(qu){var c=Yh(l);if(c===null)Vh(e,n,l,Hu,a),rv(e,l);else if(RA(c,e,n,a,l))l.stopPropagation();else if(rv(e,l),n&4&&-1<DA.indexOf(e)){for(;c!==null;){var h=Ln(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Tn(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var w=1<<31-be(_);T.entanglements[1]|=w,_&=~w}Sr(h),(Xt&6)===0&&(Du=Ge()+500,Bl(0))}}break;case 13:T=ss(h,2),T!==null&&On(T,h,2),Cu(),Gh(h,2)}if(h=Yh(l),h===null&&Vh(e,n,l,Hu,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Vh(e,n,l,null,a)}}function Yh(e){return e=kn(e),Qh(e)}var Hu=null;function Qh(e){if(Hu=null,e=tr(e),e!==null){var n=f(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Hu=e,null}function nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(za()){case oi:return 2;case ui:return 8;case Nr:case tl:return 32;case Vr:return 268435456;default:return 32}default:return 32}}var Kh=!1,Ni=null,Vi=null,Mi=null,Xl=new Map,$l=new Map,xi=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,n){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(e,n,a,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&ev(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function RA(e,n,a,l,c){switch(n){case"focusin":return Ni=Zl(Ni,e,n,a,l,c),!0;case"dragenter":return Vi=Zl(Vi,e,n,a,l,c),!0;case"mouseover":return Mi=Zl(Mi,e,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Xl.set(h,Zl(Xl.get(h)||null,e,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,$l.set(h,Zl($l.get(h)||null,e,n,a,l,c)),!0}return!1}function iv(e){var n=tr(e.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,fi(e.priority,function(){if(a.tag===13){var l=Cn();l=Ht(l);var c=ss(a,l);c!==null&&On(c,a,l),Gh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yh(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zr=l,a.target.dispatchEvent(l),zr=null}else return n=Ln(a),n!==null&&ev(n),e.blockedOn=a,!1;n.shift()}return!0}function av(e,n,a){Gu(e)&&a.delete(n)}function CA(){Kh=!1,Ni!==null&&Gu(Ni)&&(Ni=null),Vi!==null&&Gu(Vi)&&(Vi=null),Mi!==null&&Gu(Mi)&&(Mi=null),Xl.forEach(av),$l.forEach(av)}function Fu(e,n){e.blockedOn===n&&(e.blockedOn=null,Kh||(Kh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,CA)))}var Yu=null;function sv(e){Yu!==e&&(Yu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yu===e&&(Yu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Qh(l||a)===null)continue;break}var h=Ln(a);h!==null&&(e.splice(n,3),n-=3,Qf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Wl(e){function n(w){return Fu(w,e)}Ni!==null&&Fu(Ni,e),Vi!==null&&Fu(Vi,e),Mi!==null&&Fu(Mi,e),Xl.forEach(n),$l.forEach(n);for(var a=0;a<xi.length;a++){var l=xi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xi.length&&(a=xi[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&xi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],_=c[fe]||null;if(typeof h=="function")_||sv(a);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[fe]||null)T=_.formAction;else if(Qh(c)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function Xh(e){this._internalRoot=e}Qu.prototype.render=Xh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Cn();Jp(a,l,e,n,null,null)},Qu.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jp(e.current,2,null,e,null,null),Cu(),n[Ye]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=fr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<xi.length&&n!==0&&n<xi[a].priority;a++);xi.splice(a,0,e),a===0&&iv(e)}};var lv=t.version;if(lv!=="19.1.0")throw Error(s(527,lv,"19.1.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var OA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ce=Ku.inject(OA),Ft=Ku}catch{}}return to.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",c=by,h=Sy,_=wy,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Zp(e,1,!1,null,null,a,l,c,h,_,T,null),e[Ye]=n.current,Nh(e),new Xh(n)},to.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,c="",h=by,_=Sy,T=wy,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Zp(e,1,!0,n,a??null,l,c,h,_,T,w,z),n.context=Wp(null),a=n.current,l=Cn(),l=Ht(l),c=pi(l),c.callback=null,vi(a,c,l),a=l,n.current.lanes=a,xn(n,a),Sr(n),e[Ye]=n.current,Nh(e),new Qu(n)},to.version="19.1.0",to}var pv;function jA(){if(pv)return Wh.exports;pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wh.exports=zA(),Wh.exports}var BA=jA();function Q_(i){var t,r,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(r=Q_(i[t]))&&(s&&(s+=" "),s+=r)}else for(r in i)i[r]&&(s&&(s+=" "),s+=r);return s}function Ic(){for(var i,t,r=0,s="",o=arguments.length;r<o;r++)(i=arguments[r])&&(t=Q_(i))&&(s&&(s+=" "),s+=t);return s}var nd,vv;function qA(){if(vv)return nd;vv=1;const i=(y,p,E,S)=>{if(E==="length"||E==="prototype"||E==="arguments"||E==="caller")return;const C=Object.getOwnPropertyDescriptor(y,E),P=Object.getOwnPropertyDescriptor(p,E);!t(C,P)&&S||Object.defineProperty(y,E,P)},t=function(y,p){return y===void 0||y.configurable||y.writable===p.writable&&y.enumerable===p.enumerable&&y.configurable===p.configurable&&(y.writable||y.value===p.value)},r=(y,p)=>{const E=Object.getPrototypeOf(p);E!==Object.getPrototypeOf(y)&&Object.setPrototypeOf(y,E)},s=(y,p)=>`/* Wrapped ${y}*/
${p}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),f=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=(y,p,E)=>{const S=E===""?"":`with ${E.trim()}() `,C=s.bind(null,S,p.toString());Object.defineProperty(C,"name",f),Object.defineProperty(y,"toString",{...o,value:C})};return nd=(y,p,{ignoreNonConfigurable:E=!1}={})=>{const{name:S}=y;for(const C of Reflect.ownKeys(p))i(y,p,C,E);return r(y,p),d(y,p,S),y},nd}var eo={exports:{}},rd,_v;function HA(){return _v||(_v=1,rd=()=>{const i={};return i.promise=new Promise((t,r)=>{i.resolve=t,i.reject=r}),i}),rd}var Xu=eo.exports,Ev;function GA(){return Ev||(Ev=1,function(i,t){var r=Xu&&Xu.__awaiter||function(d,g,y,p){return new(y||(y=Promise))(function(E,S){function C(K){try{G(p.next(K))}catch(F){S(F)}}function P(K){try{G(p.throw(K))}catch(F){S(F)}}function G(K){K.done?E(K.value):new y(function(F){F(K.value)}).then(C,P)}G((p=p.apply(d,g||[])).next())})},s=Xu&&Xu.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(HA());function f(d,g="maxAge"){let y,p,E;const S=()=>r(this,void 0,void 0,function*(){if(y!==void 0)return;const G=K=>r(this,void 0,void 0,function*(){E=o.default();const F=K[1][g]-Date.now();if(F<=0){d.delete(K[0]),E.resolve();return}return y=K[0],p=setTimeout(()=>{d.delete(K[0]),E&&E.resolve()},F),typeof p.unref=="function"&&p.unref(),E.promise});try{for(const K of d)yield G(K)}catch{}y=void 0}),C=()=>{y=void 0,p!==void 0&&(clearTimeout(p),p=void 0),E!==void 0&&(E.reject(void 0),E=void 0)},P=d.set.bind(d);return d.set=(G,K)=>{d.has(G)&&d.delete(G);const F=P(G,K);return y&&y===G&&C(),S(),F},S(),d}t.default=f,i.exports=f,i.exports.default=f}(eo,eo.exports)),eo.exports}var id,Tv;function FA(){if(Tv)return id;Tv=1;const i=qA(),t=GA(),r=new WeakMap,s=new WeakMap,o=(f,{cacheKey:d,cache:g=new Map,maxAge:y}={})=>{typeof y=="number"&&t(g);const p=function(...E){const S=d?d(E):E[0],C=g.get(S);if(C)return C.data;const P=f.apply(this,E);return g.set(S,{data:P,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),P};return i(p,f,{ignoreNonConfigurable:!0}),s.set(p,g),p};return o.decorator=(f={})=>(d,g,y)=>{const p=d[g];if(typeof p!="function")throw new TypeError("The decorated value must be a function");delete y.value,delete y.writable,y.get=function(){if(!r.has(this)){const E=o(p,f);return r.set(this,E),E}return r.get(this)}},o.clear=f=>{const d=s.get(f);if(!d)throw new TypeError("Can't clear a function that was not memoized!");if(typeof d.clear!="function")throw new TypeError("The cache Map can't be cleared!");d.clear()},id=o,id}var YA=FA();const K_=NA(YA);function QA(i){return typeof i=="string"}function KA(i,t,r){return r.indexOf(i)===t}function XA(i){return i.toLowerCase()===i}function Av(i){return i.indexOf(",")===-1?i:i.split(",")}function _d(i){if(!i)return i;if(i==="C"||i==="posix"||i==="POSIX")return"en-US";if(i.indexOf(".")!==-1){var t=i.split(".")[0],r=t===void 0?"":t;return _d(r)}if(i.indexOf("@")!==-1){var s=i.split("@")[0],r=s===void 0?"":s;return _d(r)}if(i.indexOf("-")===-1||!XA(i))return i;var o=i.split("-"),f=o[0],d=o[1],g=d===void 0?"":d;return"".concat(f,"-").concat(g.toUpperCase())}function $A(i){var t=i===void 0?{}:i,r=t.useFallbackLocale,s=r===void 0?!0:r,o=t.fallbackLocale,f=o===void 0?"en-US":o,d=[];if(typeof navigator<"u"){for(var g=navigator.languages||[],y=[],p=0,E=g;p<E.length;p++){var S=E[p];y=y.concat(Av(S))}var C=navigator.language,P=C&&Av(C);d=d.concat(y,P)}return s&&d.push(f),d.filter(QA).map(_d).filter(KA)}var ZA=K_($A,{cacheKey:JSON.stringify});function WA(i){return ZA(i)[0]||null}var X_=K_(WA,{cacheKey:JSON.stringify});function li(i,t,r){return function(o,f){f===void 0&&(f=r);var d=i(o)+f;return t(d)}}function To(i){return function(r){return new Date(i(r).getTime()-1)}}function Ao(i,t){return function(s){return[i(s),t(s)]}}function me(i){if(i instanceof Date)return i.getFullYear();if(typeof i=="number")return i;var t=parseInt(i,10);if(typeof i=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(i,"."))}function Ki(i){if(i instanceof Date)return i.getMonth();throw new Error("Failed to get month from date: ".concat(i,"."))}function Nc(i){if(i instanceof Date)return i.getDate();throw new Error("Failed to get year from date: ".concat(i,"."))}function Ys(i){var t=me(i),r=t+(-t+1)%100,s=new Date;return s.setFullYear(r,0,1),s.setHours(0,0,0,0),s}var JA=li(me,Ys,-100),$_=li(me,Ys,100),rm=To($_),tb=li(me,rm,-100),Z_=Ao(Ys,rm);function Xi(i){var t=me(i),r=t+(-t+1)%10,s=new Date;return s.setFullYear(r,0,1),s.setHours(0,0,0,0),s}var W_=li(me,Xi,-10),im=li(me,Xi,10),Vc=To(im),J_=li(me,Vc,-10),t0=Ao(Xi,Vc);function Qs(i){var t=me(i),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var e0=li(me,Qs,-1),am=li(me,Qs,1),Mc=To(am),n0=li(me,Mc,-1),eb=Ao(Qs,Mc);function sm(i,t){return function(s,o){o===void 0&&(o=t);var f=me(s),d=Ki(s)+o,g=new Date;return g.setFullYear(f,d,1),g.setHours(0,0,0,0),i(g)}}function Ua(i){var t=me(i),r=Ki(i),s=new Date;return s.setFullYear(t,r,1),s.setHours(0,0,0,0),s}var r0=sm(Ua,-1),lm=sm(Ua,1),bo=To(lm),i0=sm(bo,-1),nb=Ao(Ua,bo);function rb(i,t){return function(s,o){o===void 0&&(o=t);var f=me(s),d=Ki(s),g=Nc(s)+o,y=new Date;return y.setFullYear(f,d,g),y.setHours(0,0,0,0),i(y)}}function So(i){var t=me(i),r=Ki(i),s=Nc(i),o=new Date;return o.setFullYear(t,r,s),o.setHours(0,0,0,0),o}var ib=rb(So,1),om=To(ib),ab=Ao(So,om);function a0(i){return Nc(bo(i))}var en={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},sb={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},um=[0,1,2,3,4,5,6],ad=new Map;function lb(i){return function(r,s){var o=r||X_();ad.has(o)||ad.set(o,new Map);var f=ad.get(o);return f.has(i)||f.set(i,new Intl.DateTimeFormat(o||void 0,i).format),f.get(i)(s)}}function ob(i){var t=new Date(i);return new Date(t.setHours(12))}function La(i){return function(t,r){return lb(i)(t,ob(r))}}var ub={day:"numeric"},cb={day:"numeric",month:"long",year:"numeric"},fb={month:"long"},hb={month:"long",year:"numeric"},db={weekday:"short"},mb={weekday:"long"},gb={year:"numeric"},yb=La(ub),pb=La(cb),vb=La(fb),s0=La(hb),_b=La(db),Eb=La(mb),xc=La(gb),Tb=um[0],Ab=um[5],bv=um[6];function co(i,t){t===void 0&&(t=en.ISO_8601);var r=i.getDay();switch(t){case en.ISO_8601:return(r+6)%7;case en.ISLAMIC:return(r+1)%7;case en.HEBREW:case en.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function bb(i){var t=Ys(i);return me(t)}function Sb(i){var t=Xi(i);return me(t)}function Ed(i,t){t===void 0&&(t=en.ISO_8601);var r=me(i),s=Ki(i),o=i.getDate()-co(i,t);return new Date(r,s,o)}function wb(i,t){t===void 0&&(t=en.ISO_8601);var r=t===en.GREGORY?en.GREGORY:en.ISO_8601,s=Ed(i,t),o=me(i)+1,f,d;do f=new Date(o,0,r===en.ISO_8601?4:1),d=Ed(f,t),o-=1;while(i<d);return Math.round((s.getTime()-d.getTime())/(864e5*7))+1}function Va(i,t){switch(i){case"century":return Ys(t);case"decade":return Xi(t);case"year":return Qs(t);case"month":return Ua(t);case"day":return So(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function Db(i,t){switch(i){case"century":return JA(t);case"decade":return W_(t);case"year":return e0(t);case"month":return r0(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function l0(i,t){switch(i){case"century":return $_(t);case"decade":return im(t);case"year":return am(t);case"month":return lm(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function Rb(i,t){switch(i){case"decade":return W_(t,-100);case"year":return e0(t,-10);case"month":return r0(t,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function Cb(i,t){switch(i){case"decade":return im(t,100);case"year":return am(t,10);case"month":return lm(t,12);default:throw new Error("Invalid rangeType: ".concat(i))}}function o0(i,t){switch(i){case"century":return rm(t);case"decade":return Vc(t);case"year":return Mc(t);case"month":return bo(t);case"day":return om(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function Ob(i,t){switch(i){case"century":return tb(t);case"decade":return J_(t);case"year":return n0(t);case"month":return i0(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function Ib(i,t){switch(i){case"decade":return J_(t,-100);case"year":return n0(t,-10);case"month":return i0(t,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function Sv(i,t){switch(i){case"century":return Z_(t);case"decade":return t0(t);case"year":return eb(t);case"month":return nb(t);case"day":return ab(t);default:throw new Error("Invalid rangeType: ".concat(i))}}function Nb(i,t,r){var s=[t,r].sort(function(o,f){return o.getTime()-f.getTime()});return[Va(i,s[0]),o0(i,s[1])]}function u0(i,t,r){return r.map(function(s){return(t||xc)(i,s)}).join("  ")}function Vb(i,t,r){return u0(i,t,Z_(r))}function c0(i,t,r){return u0(i,t,t0(r))}function Mb(i){return i.getDay()===new Date().getDay()}function f0(i,t){t===void 0&&(t=en.ISO_8601);var r=i.getDay();switch(t){case en.ISLAMIC:case en.HEBREW:return r===Ab||r===bv;case en.ISO_8601:case en.GREGORY:return r===bv||r===Tb;default:throw new Error("Unsupported calendar type.")}}var wr="react-calendar__navigation";function xb(i){var t=i.activeStartDate,r=i.drillUp,s=i.formatMonthYear,o=s===void 0?s0:s,f=i.formatYear,d=f===void 0?xc:f,g=i.locale,y=i.maxDate,p=i.minDate,E=i.navigationAriaLabel,S=E===void 0?"":E,C=i.navigationAriaLive,P=i.navigationLabel,G=i.next2AriaLabel,K=G===void 0?"":G,F=i.next2Label,et=F===void 0?"":F,ot=i.nextAriaLabel,ct=ot===void 0?"":ot,vt=i.nextLabel,at=vt===void 0?"":vt,St=i.prev2AriaLabel,V=St===void 0?"":St,b=i.prev2Label,R=b===void 0?"":b,I=i.prevAriaLabel,M=I===void 0?"":I,x=i.prevLabel,D=x===void 0?"":x,oe=i.setActiveStartDate,ie=i.showDoubleView,H=i.view,it=i.views,ft=it.indexOf(H)>0,Ct=H!=="century",O=Db(H,t),X=Ct?Rb(H,t):void 0,rt=l0(H,t),tt=Ct?Cb(H,t):void 0,ht=function(){if(O.getFullYear()<0)return!0;var ee=Ob(H,t);return p&&p>=ee}(),wt=Ct&&function(){if(X.getFullYear()<0)return!0;var ee=Ib(H,t);return p&&p>=ee}(),gt=y&&y<rt,ue=Ct&&y&&y<tt;function qt(){oe(O,"prev")}function Ie(){oe(X,"prev2")}function Nn(){oe(rt,"next")}function En(){oe(tt,"next2")}function Vn(ee){var $n=function(){switch(H){case"century":return Vb(g,d,ee);case"decade":return c0(g,d,ee);case"year":return d(g,ee);case"month":return o(g,ee);default:throw new Error("Invalid view: ".concat(H,"."))}}();return P?P({date:ee,label:$n,locale:g||X_()||void 0,view:H}):$n}function Xn(){var ee="".concat(wr,"__label");return J.jsxs("button",{"aria-label":S,"aria-live":C,className:ee,disabled:!ft,onClick:r,style:{flexGrow:1},type:"button",children:[J.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--from"),children:Vn(t)}),ie?J.jsxs(J.Fragment,{children:[J.jsx("span",{className:"".concat(ee,"__divider"),children:"  "}),J.jsx("span",{className:"".concat(ee,"__labelText ").concat(ee,"__labelText--to"),children:Vn(rt)})]}):null]})}return J.jsxs("div",{className:wr,children:[R!==null&&Ct?J.jsx("button",{"aria-label":V,className:"".concat(wr,"__arrow ").concat(wr,"__prev2-button"),disabled:wt,onClick:Ie,type:"button",children:R}):null,D!==null&&J.jsx("button",{"aria-label":M,className:"".concat(wr,"__arrow ").concat(wr,"__prev-button"),disabled:ht,onClick:qt,type:"button",children:D}),Xn(),at!==null&&J.jsx("button",{"aria-label":ct,className:"".concat(wr,"__arrow ").concat(wr,"__next-button"),disabled:gt,onClick:Nn,type:"button",children:at}),et!==null&&Ct?J.jsx("button",{"aria-label":K,className:"".concat(wr,"__arrow ").concat(wr,"__next2-button"),disabled:ue,onClick:En,type:"button",children:et}):null]})}var Us=function(){return Us=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Us.apply(this,arguments)},Ub=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function wv(i){return"".concat(i,"%")}function cm(i){var t=i.children,r=i.className,s=i.count,o=i.direction,f=i.offset,d=i.style,g=i.wrap,y=Ub(i,["children","className","count","direction","offset","style","wrap"]);return J.jsx("div",Us({className:r,style:Us({display:"flex",flexDirection:o,flexWrap:g?"wrap":"nowrap"},d)},y,{children:It.Children.map(t,function(p,E){var S=f&&E===0?wv(100*f/s):null;return It.cloneElement(p,Us(Us({},p.props),{style:{flexBasis:wv(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function Lb(i,t,r){return t&&t>i?t:r&&r<i?r:i}function fo(i,t){return t[0]<=i&&t[1]>=i}function Pb(i,t){return i[0]<=t[0]&&i[1]>=t[1]}function h0(i,t){return fo(i[0],t)||fo(i[1],t)}function Dv(i,t,r){var s=h0(t,i),o=[];if(s){o.push(r);var f=fo(i[0],t),d=fo(i[1],t);f&&o.push("".concat(r,"Start")),d&&o.push("".concat(r,"End")),f&&d&&o.push("".concat(r,"BothEnds"))}return o}function kb(i){return Array.isArray(i)?i[0]!==null&&i[1]!==null:i!==null}function zb(i){if(!i)throw new Error("args is required");var t=i.value,r=i.date,s=i.hover,o="react-calendar__tile",f=[o];if(!r)return f;var d=new Date,g=function(){if(Array.isArray(r))return r;var P=i.dateType;if(!P)throw new Error("dateType is required when date is not an array of two dates");return Sv(P,r)}();if(fo(d,g)&&f.push("".concat(o,"--now")),!t||!kb(t))return f;var y=function(){if(Array.isArray(t))return t;var P=i.valueType;if(!P)throw new Error("valueType is required when value is not an array of two dates");return Sv(P,t)}();Pb(y,g)?f.push("".concat(o,"--active")):h0(y,g)&&f.push("".concat(o,"--hasActive"));var p=Dv(y,g,"".concat(o,"--range"));f.push.apply(f,p);var E=Array.isArray(t)?t:[t];if(s&&E.length===1){var S=s>y[0]?[y[0],s]:[s,y[0]],C=Dv(S,g,"".concat(o,"--hover"));f.push.apply(f,C)}return f}function Uc(i){for(var t=i.className,r=i.count,s=r===void 0?3:r,o=i.dateTransform,f=i.dateType,d=i.end,g=i.hover,y=i.offset,p=i.renderTile,E=i.start,S=i.step,C=S===void 0?1:S,P=i.value,G=i.valueType,K=[],F=E;F<=d;F+=C){var et=o(F);K.push(p({classes:zb({date:et,dateType:f,hover:g,value:P,valueType:G}),date:et}))}return J.jsx(cm,{className:t,count:s,offset:y,wrap:!0,children:K})}function Lc(i){var t=i.activeStartDate,r=i.children,s=i.classes,o=i.date,f=i.formatAbbr,d=i.locale,g=i.maxDate,y=i.maxDateTransform,p=i.minDate,E=i.minDateTransform,S=i.onClick,C=i.onMouseOver,P=i.style,G=i.tileClassName,K=i.tileContent,F=i.tileDisabled,et=i.view,ot=It.useMemo(function(){var vt={activeStartDate:t,date:o,view:et};return typeof G=="function"?G(vt):G},[t,o,G,et]),ct=It.useMemo(function(){var vt={activeStartDate:t,date:o,view:et};return typeof K=="function"?K(vt):K},[t,o,K,et]);return J.jsxs("button",{className:Ic(s,ot),disabled:p&&E(p)>o||g&&y(g)<o||(F==null?void 0:F({activeStartDate:t,date:o,view:et})),onClick:S?function(vt){return S(o,vt)}:void 0,onFocus:C?function(){return C(o)}:void 0,onMouseOver:C?function(){return C(o)}:void 0,style:P,type:"button",children:[f?J.jsx("abbr",{"aria-label":f(d,o),children:r}):r,ct]})}var Td=function(){return Td=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Td.apply(this,arguments)},jb=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r},Rv="react-calendar__century-view__decades__decade";function Bb(i){var t=i.classes,r=t===void 0?[]:t,s=i.currentCentury,o=i.formatYear,f=o===void 0?xc:o,d=jb(i,["classes","currentCentury","formatYear"]),g=d.date,y=d.locale,p=[];return r&&p.push.apply(p,r),p.push(Rv),Ys(g).getFullYear()!==s&&p.push("".concat(Rv,"--neighboringCentury")),J.jsx(Lc,Td({},d,{classes:p,maxDateTransform:Vc,minDateTransform:Xi,view:"century",children:c0(y,f,g)}))}var Ad=function(){return Ad=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Ad.apply(this,arguments)},Cv=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function qb(i){var t=i.activeStartDate,r=i.hover,s=i.showNeighboringCentury,o=i.value,f=i.valueType,d=Cv(i,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),g=bb(t),y=g+(s?119:99);return J.jsx(Uc,{className:"react-calendar__century-view__decades",dateTransform:Xi,dateType:"decade",end:y,hover:r,renderTile:function(p){var E=p.date,S=Cv(p,["date"]);return J.jsx(Bb,Ad({},d,S,{activeStartDate:t,currentCentury:g,date:E}),E.getTime())},start:g,step:10,value:o,valueType:f})}var bd=function(){return bd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},bd.apply(this,arguments)};function Hb(i){function t(){return J.jsx(qb,bd({},i))}return J.jsx("div",{className:"react-calendar__century-view",children:t()})}var Sd=function(){return Sd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Sd.apply(this,arguments)},Gb=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r},Ov="react-calendar__decade-view__years__year";function Fb(i){var t=i.classes,r=t===void 0?[]:t,s=i.currentDecade,o=i.formatYear,f=o===void 0?xc:o,d=Gb(i,["classes","currentDecade","formatYear"]),g=d.date,y=d.locale,p=[];return r&&p.push.apply(p,r),p.push(Ov),Xi(g).getFullYear()!==s&&p.push("".concat(Ov,"--neighboringDecade")),J.jsx(Lc,Sd({},d,{classes:p,maxDateTransform:Mc,minDateTransform:Qs,view:"decade",children:f(y,g)}))}var wd=function(){return wd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},wd.apply(this,arguments)},Iv=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function Yb(i){var t=i.activeStartDate,r=i.hover,s=i.showNeighboringDecade,o=i.value,f=i.valueType,d=Iv(i,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),g=Sb(t),y=g+(s?11:9);return J.jsx(Uc,{className:"react-calendar__decade-view__years",dateTransform:Qs,dateType:"year",end:y,hover:r,renderTile:function(p){var E=p.date,S=Iv(p,["date"]);return J.jsx(Fb,wd({},d,S,{activeStartDate:t,currentDecade:g,date:E}),E.getTime())},start:g,value:o,valueType:f})}var Dd=function(){return Dd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Dd.apply(this,arguments)};function Qb(i){function t(){return J.jsx(Yb,Dd({},i))}return J.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Rd=function(){return Rd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Rd.apply(this,arguments)},Kb=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r},Nv=function(i,t,r){if(r||arguments.length===2)for(var s=0,o=t.length,f;s<o;s++)(f||!(s in t))&&(f||(f=Array.prototype.slice.call(t,0,s)),f[s]=t[s]);return i.concat(f||Array.prototype.slice.call(t))},Xb="react-calendar__year-view__months__month";function $b(i){var t=i.classes,r=t===void 0?[]:t,s=i.formatMonth,o=s===void 0?vb:s,f=i.formatMonthYear,d=f===void 0?s0:f,g=Kb(i,["classes","formatMonth","formatMonthYear"]),y=g.date,p=g.locale;return J.jsx(Lc,Rd({},g,{classes:Nv(Nv([],r,!0),[Xb],!1),formatAbbr:d,maxDateTransform:bo,minDateTransform:Ua,view:"year",children:o(p,y)}))}var Cd=function(){return Cd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Cd.apply(this,arguments)},Vv=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function Zb(i){var t=i.activeStartDate,r=i.hover,s=i.value,o=i.valueType,f=Vv(i,["activeStartDate","hover","value","valueType"]),d=0,g=11,y=me(t);return J.jsx(Uc,{className:"react-calendar__year-view__months",dateTransform:function(p){var E=new Date;return E.setFullYear(y,p,1),Ua(E)},dateType:"month",end:g,hover:r,renderTile:function(p){var E=p.date,S=Vv(p,["date"]);return J.jsx($b,Cd({},f,S,{activeStartDate:t,date:E}),E.getTime())},start:d,value:s,valueType:o})}var Od=function(){return Od=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Od.apply(this,arguments)};function Wb(i){function t(){return J.jsx(Zb,Od({},i))}return J.jsx("div",{className:"react-calendar__year-view",children:t()})}var Id=function(){return Id=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Id.apply(this,arguments)},Jb=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r},sd="react-calendar__month-view__days__day";function tS(i){var t=i.calendarType,r=i.classes,s=r===void 0?[]:r,o=i.currentMonthIndex,f=i.formatDay,d=f===void 0?yb:f,g=i.formatLongDate,y=g===void 0?pb:g,p=Jb(i,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=p.date,S=p.locale,C=[];return s&&C.push.apply(C,s),C.push(sd),f0(E,t)&&C.push("".concat(sd,"--weekend")),E.getMonth()!==o&&C.push("".concat(sd,"--neighboringMonth")),J.jsx(Lc,Id({},p,{classes:C,formatAbbr:y,maxDateTransform:om,minDateTransform:So,view:"month",children:d(S,E)}))}var Nd=function(){return Nd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Nd.apply(this,arguments)},Mv=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function eS(i){var t=i.activeStartDate,r=i.calendarType,s=i.hover,o=i.showFixedNumberOfWeeks,f=i.showNeighboringMonth,d=i.value,g=i.valueType,y=Mv(i,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=me(t),E=Ki(t),S=o||f,C=co(t,r),P=S?0:C,G=(S?-C:0)+1,K=function(){if(o)return G+6*7-1;var F=a0(t);if(f){var et=new Date;et.setFullYear(p,E,F),et.setHours(0,0,0,0);var ot=7-co(et,r)-1;return F+ot}return F}();return J.jsx(Uc,{className:"react-calendar__month-view__days",count:7,dateTransform:function(F){var et=new Date;return et.setFullYear(p,E,F),So(et)},dateType:"day",hover:s,end:K,renderTile:function(F){var et=F.date,ot=Mv(F,["date"]);return J.jsx(tS,Nd({},y,ot,{activeStartDate:t,calendarType:r,currentMonthIndex:E,date:et}),et.getTime())},offset:P,start:G,value:d,valueType:g})}var d0="react-calendar__month-view__weekdays",ld="".concat(d0,"__weekday");function nS(i){for(var t=i.calendarType,r=i.formatShortWeekday,s=r===void 0?_b:r,o=i.formatWeekday,f=o===void 0?Eb:o,d=i.locale,g=i.onMouseLeave,y=new Date,p=Ua(y),E=me(p),S=Ki(p),C=[],P=1;P<=7;P+=1){var G=new Date(E,S,P-co(p,t)),K=f(d,G);C.push(J.jsx("div",{className:Ic(ld,Mb(G)&&"".concat(ld,"--current"),f0(G,t)&&"".concat(ld,"--weekend")),children:J.jsx("abbr",{"aria-label":K,title:K,children:s(d,G).replace(".","")})},P))}return J.jsx(cm,{className:d0,count:7,onFocus:g,onMouseOver:g,children:C})}var fc=function(){return fc=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},fc.apply(this,arguments)},xv=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r},Uv="react-calendar__tile";function rS(i){var t=i.onClickWeekNumber,r=i.weekNumber,s=J.jsx("span",{children:r});if(t){var o=i.date,f=i.onClickWeekNumber,d=i.weekNumber,g=xv(i,["date","onClickWeekNumber","weekNumber"]);return J.jsx("button",fc({},g,{className:Uv,onClick:function(y){return f(d,o,y)},type:"button",children:s}))}else{i.date,i.onClickWeekNumber,i.weekNumber;var g=xv(i,["date","onClickWeekNumber","weekNumber"]);return J.jsx("div",fc({},g,{className:Uv,children:s}))}}function iS(i){var t=i.activeStartDate,r=i.calendarType,s=i.onClickWeekNumber,o=i.onMouseLeave,f=i.showFixedNumberOfWeeks,d=function(){if(f)return 6;var p=a0(t),E=co(t,r),S=p-(7-E);return 1+Math.ceil(S/7)}(),g=function(){for(var p=me(t),E=Ki(t),S=Nc(t),C=[],P=0;P<d;P+=1)C.push(Ed(new Date(p,E,S+P*7),r));return C}(),y=g.map(function(p){return wb(p,r)});return J.jsx(cm,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:y.map(function(p,E){var S=g[E];if(!S)throw new Error("date is not defined");return J.jsx(rS,{date:S,onClickWeekNumber:s,weekNumber:p},p)})})}var Vd=function(){return Vd=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Vd.apply(this,arguments)},aS=function(i,t){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r};function sS(i){if(i)for(var t=0,r=Object.entries(sb);t<r.length;t++){var s=r[t],o=s[0],f=s[1];if(f.includes(i))return o}return en.ISO_8601}function lS(i){var t=i.activeStartDate,r=i.locale,s=i.onMouseLeave,o=i.showFixedNumberOfWeeks,f=i.calendarType,d=f===void 0?sS(r):f,g=i.formatShortWeekday,y=i.formatWeekday,p=i.onClickWeekNumber,E=i.showWeekNumbers,S=aS(i,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function C(){return J.jsx(nS,{calendarType:d,formatShortWeekday:g,formatWeekday:y,locale:r,onMouseLeave:s})}function P(){return E?J.jsx(iS,{activeStartDate:t,calendarType:d,onClickWeekNumber:p,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function G(){return J.jsx(eS,Vd({calendarType:d},S))}var K="react-calendar__month-view";return J.jsx("div",{className:Ic(K,E?"".concat(K,"--weekNumbers"):""),children:J.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[P(),J.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[C(),G()]})]})})}var Ls=function(){return Ls=Object.assign||function(i){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},Ls.apply(this,arguments)},$u="react-calendar",ic=["century","decade","year","month"],oS=["decade","year","month","day"],fm=new Date;fm.setFullYear(1,0,1);fm.setHours(0,0,0,0);var uS=new Date(864e13);function no(i){return i instanceof Date?i:new Date(i)}function m0(i,t){return ic.slice(ic.indexOf(i),ic.indexOf(t)+1)}function cS(i,t,r){var s=m0(t,r);return s.indexOf(i)!==-1}function hm(i,t,r){return i&&cS(i,t,r)?i:r}function g0(i){var t=ic.indexOf(i);return oS[t]}function fS(i,t){var r=Array.isArray(i)?i[t]:i;if(!r)return null;var s=no(r);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(i));return s}function y0(i,t){var r=i.value,s=i.minDate,o=i.maxDate,f=i.maxDetail,d=fS(r,t);if(!d)return null;var g=g0(f),y=function(){switch(t){case 0:return Va(g,d);case 1:return o0(g,d);default:throw new Error("Invalid index value: ".concat(t))}}();return Lb(y,s,o)}var dm=function(i){return y0(i,0)},p0=function(i){return y0(i,1)},hS=function(i){return[dm,p0].map(function(t){return t(i)})};function v0(i){var t=i.maxDate,r=i.maxDetail,s=i.minDate,o=i.minDetail,f=i.value,d=i.view,g=hm(d,o,r),y=dm({value:f,minDate:s,maxDate:t,maxDetail:r})||new Date;return Va(g,y)}function dS(i){var t=i.activeStartDate,r=i.defaultActiveStartDate,s=i.defaultValue,o=i.defaultView,f=i.maxDate,d=i.maxDetail,g=i.minDate,y=i.minDetail,p=i.value,E=i.view,S=hm(E,y,d),C=t||r;return C?Va(S,C):v0({maxDate:f,maxDetail:d,minDate:g,minDetail:y,value:p||s,view:E||o})}function od(i){return i&&(!Array.isArray(i)||i.length===1)}function Zu(i,t){return i instanceof Date&&t instanceof Date&&i.getTime()===t.getTime()}var mS=It.forwardRef(function(t,r){var s=t.activeStartDate,o=t.allowPartialRange,f=t.calendarType,d=t.className,g=t.defaultActiveStartDate,y=t.defaultValue,p=t.defaultView,E=t.formatDay,S=t.formatLongDate,C=t.formatMonth,P=t.formatMonthYear,G=t.formatShortWeekday,K=t.formatWeekday,F=t.formatYear,et=t.goToRangeStartOnSelect,ot=et===void 0?!0:et,ct=t.inputRef,vt=t.locale,at=t.maxDate,St=at===void 0?uS:at,V=t.maxDetail,b=V===void 0?"month":V,R=t.minDate,I=R===void 0?fm:R,M=t.minDetail,x=M===void 0?"century":M,D=t.navigationAriaLabel,oe=t.navigationAriaLive,ie=t.navigationLabel,H=t.next2AriaLabel,it=t.next2Label,ft=t.nextAriaLabel,Ct=t.nextLabel,O=t.onActiveStartDateChange,X=t.onChange,rt=t.onClickDay,tt=t.onClickDecade,ht=t.onClickMonth,wt=t.onClickWeekNumber,gt=t.onClickYear,ue=t.onDrillDown,qt=t.onDrillUp,Ie=t.onViewChange,Nn=t.prev2AriaLabel,En=t.prev2Label,Vn=t.prevAriaLabel,Xn=t.prevLabel,ee=t.returnValue,$n=ee===void 0?"start":ee,He=t.selectRange,Ge=t.showDoubleView,za=t.showFixedNumberOfWeeks,oi=t.showNavigation,ui=oi===void 0?!0:oi,Nr=t.showNeighboringCentury,tl=t.showNeighboringDecade,Vr=t.showNeighboringMonth,Wi=Vr===void 0?!0:Vr,ja=t.showWeekNumbers,ce=t.tileClassName,Ft=t.tileContent,cn=t.tileDisabled,be=t.value,Ji=t.view,Ba=It.useState(g),Mr=Ba[0],Mn=Ba[1],or=It.useState(null),Tn=or[0],xr=or[1],ur=It.useState(Array.isArray(y)?y.map(function(Tt){return Tt!==null?no(Tt):null}):y!=null?no(y):null),Ur=ur[0],ta=ur[1],ci=It.useState(p),Zn=ci[0],xn=ci[1],Se=s||Mr||dS({activeStartDate:s,defaultActiveStartDate:g,defaultValue:y,defaultView:p,maxDate:St,maxDetail:b,minDate:I,minDetail:x,value:be,view:Ji}),se=function(){var Tt=function(){return He&&od(Ur)?Ur:be!==void 0?be:Ur}();return Tt?Array.isArray(Tt)?Tt.map(function(Vt){return Vt!==null?no(Vt):null}):Tt!==null?no(Tt):null:null}(),cr=g0(b),Ht=hm(Ji||Zn,x,b),Fe=m0(x,b),fr=He?Tn:null,fi=Fe.indexOf(Ht)<Fe.length-1,ne=Fe.indexOf(Ht)>0,pe=It.useCallback(function(Tt){var Vt=function(){switch($n){case"start":return dm;case"end":return p0;case"range":return hS;default:throw new Error("Invalid returnValue.")}}();return Vt({maxDate:St,maxDetail:b,minDate:I,value:Tt})},[St,b,I,$n]),fe=It.useCallback(function(Tt,Vt){Mn(Tt);var Dt={action:Vt,activeStartDate:Tt,value:se,view:Ht};O&&!Zu(Se,Tt)&&O(Dt)},[Se,O,se,Ht]),Ye=It.useCallback(function(Tt,Vt){var Dt=function(){switch(Ht){case"century":return tt;case"decade":return gt;case"year":return ht;case"month":return rt;default:throw new Error("Invalid view: ".concat(Ht,"."))}}();Dt&&Dt(Tt,Vt)},[rt,tt,ht,gt,Ht]),Lr=It.useCallback(function(Tt,Vt){if(fi){Ye(Tt,Vt);var Dt=Fe[Fe.indexOf(Ht)+1];if(!Dt)throw new Error("Attempted to drill down from the lowest view.");Mn(Tt),xn(Dt);var Qe={action:"drillDown",activeStartDate:Tt,value:se,view:Dt};O&&!Zu(Se,Tt)&&O(Qe),Ie&&Ht!==Dt&&Ie(Qe),ue&&ue(Qe)}},[Se,fi,O,Ye,ue,Ie,se,Ht,Fe]),ea=It.useCallback(function(){if(ne){var Tt=Fe[Fe.indexOf(Ht)-1];if(!Tt)throw new Error("Attempted to drill up from the highest view.");var Vt=Va(Tt,Se);Mn(Vt),xn(Tt);var Dt={action:"drillUp",activeStartDate:Vt,value:se,view:Tt};O&&!Zu(Se,Vt)&&O(Dt),Ie&&Ht!==Tt&&Ie(Dt),qt&&qt(Dt)}},[Se,ne,O,qt,Ie,se,Ht,Fe]),Un=It.useCallback(function(Tt,Vt){var Dt=se;Ye(Tt,Vt);var Qe=He&&!od(Dt),Le;if(He)if(Qe)Le=Va(cr,Tt);else{if(!Dt)throw new Error("previousValue is required");if(Array.isArray(Dt))throw new Error("previousValue must not be an array");Le=Nb(cr,Dt,Tt)}else Le=pe(Tt);var fn=!He||Qe||ot?v0({maxDate:St,maxDetail:b,minDate:I,minDetail:x,value:Le,view:Ht}):null;Vt.persist(),Mn(fn),ta(Le);var er={action:"onChange",activeStartDate:fn,value:Le,view:Ht};if(O&&!Zu(Se,fn)&&O(er),X)if(He){var Ha=od(Le);if(!Ha)X(Le||null,Vt);else if(o){if(Array.isArray(Le))throw new Error("value must not be an array");X([Le||null,null],Vt)}}else X(Le||null,Vt)},[Se,o,pe,ot,St,b,I,x,O,X,Ye,He,se,cr,Ht]);function qa(Tt){xr(Tt)}function Wn(){xr(null)}It.useImperativeHandle(r,function(){return{activeStartDate:Se,drillDown:Lr,drillUp:ea,onChange:Un,setActiveStartDate:fe,value:se,view:Ht}},[Se,Lr,ea,Un,fe,se,Ht]);function Jn(Tt){var Vt=Tt?l0(Ht,Se):Va(Ht,Se),Dt=fi?Lr:Un,Qe={activeStartDate:Vt,hover:fr,locale:vt,maxDate:St,minDate:I,onClick:Dt,onMouseOver:He?qa:void 0,tileClassName:ce,tileContent:Ft,tileDisabled:cn,value:se,valueType:cr};switch(Ht){case"century":return J.jsx(Hb,Ls({formatYear:F,showNeighboringCentury:Nr},Qe));case"decade":return J.jsx(Qb,Ls({formatYear:F,showNeighboringDecade:tl},Qe));case"year":return J.jsx(Wb,Ls({formatMonth:C,formatMonthYear:P},Qe));case"month":return J.jsx(lS,Ls({calendarType:f,formatDay:E,formatLongDate:S,formatShortWeekday:G,formatWeekday:K,onClickWeekNumber:wt,onMouseLeave:He?Wn:void 0,showFixedNumberOfWeeks:typeof za<"u"?za:Ge,showNeighboringMonth:Wi,showWeekNumbers:ja},Qe));default:throw new Error("Invalid view: ".concat(Ht,"."))}}function tr(){return ui?J.jsx(xb,{activeStartDate:Se,drillUp:ea,formatMonthYear:P,formatYear:F,locale:vt,maxDate:St,minDate:I,navigationAriaLabel:D,navigationAriaLive:oe,navigationLabel:ie,next2AriaLabel:H,next2Label:it,nextAriaLabel:ft,nextLabel:Ct,prev2AriaLabel:Nn,prev2Label:En,prevAriaLabel:Vn,prevLabel:Xn,setActiveStartDate:fe,showDoubleView:Ge,view:Ht,views:Fe}):null}var Ln=Array.isArray(se)?se:[se];return J.jsxs("div",{className:Ic($u,He&&Ln.length===1&&"".concat($u,"--selectRange"),Ge&&"".concat($u,"--doubleView"),d),ref:ct,children:[tr(),J.jsxs("div",{className:"".concat($u,"__viewContainer"),onBlur:He?Wn:void 0,onMouseLeave:He?Wn:void 0,children:[Jn(),Ge?Jn(!0):null]})]})});function gS({selectedDate:i,onSubmit:t,numberOfDays:r,detergent:s,onNumberOfDaysChange:o,onDetergentChange:f}){const[d,g]=It.useState(""),[y,p]=It.useState(""),[E,S]=It.useState(""),[C,P]=It.useState(""),[G,K]=It.useState(""),[F,et]=It.useState(""),[ot,ct]=It.useState(""),vt=at=>{if(at.preventDefault(),ct(""),!i){ct("Please select a start date first.");return}if(!d||!y||!E||!C||!G){ct("Please fill in all contact details.");return}if(r<1){ct("Number of days must be at least 1.");return}if(!/^\S+@\S+\.\S+$/.test(y)){ct("Please enter a valid email address.");return}t({name:d,email:y,streetAddress:E,zipCode:C,phone:G,extraInfo:F})};return J.jsxs("form",{onSubmit:vt,className:"booking-form",children:[J.jsx("h3",{children:"Kirjoita yhteystiedot ja valitse piv"}),J.jsxs("p",{children:["Alkaa: ",i.toLocaleDateString()]}),ot&&J.jsx("p",{className:"error-message",style:{textAlign:"center"},children:ot}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"name",children:"Nimi:"}),J.jsx("input",{type:"text",id:"name",value:d,onChange:at=>g(at.target.value),required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"email",children:"Shkposti:"}),J.jsx("input",{type:"email",id:"email",value:y,onChange:at=>p(at.target.value),required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"streetAddress",children:"Katuosoite:"}),J.jsx("input",{type:"text",id:"streetAddress",value:E,onChange:at=>S(at.target.value),required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"zipCode",children:"Postinumero:"}),J.jsx("input",{type:"text",id:"zipCode",value:C,onChange:at=>P(at.target.value),required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"phone",children:"Puhelinnumero:"}),J.jsx("input",{type:"tel",id:"phone",value:G,onChange:at=>K(at.target.value),required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{children:"Kuinka moneksi pivksi haluat varata:"}),J.jsx("div",{className:"days-buttons-container",children:[1,2,3,4,5].map(at=>J.jsx("button",{type:"button",className:`day-button ${r===at?"active":""}`,onClick:()=>o(at),children:at},at))})]}),J.jsxs("div",{className:"detergent-option toggle-option",children:[J.jsx("div",{children:J.jsx("label",{htmlFor:"detergentToggle",children:"Tarvitsetko pesuaineen?"})}),J.jsxs("div",{children:[J.jsx("input",{type:"checkbox",id:"detergentToggle",className:"toggle-checkbox",checked:s,onChange:at=>f(at.target.checked)}),J.jsx("label",{htmlFor:"detergentToggle",className:"switch-label"})]})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"extraInfo",children:"Listietoja (valinnainen):"}),J.jsx("textarea",{id:"extraInfo",value:F,onChange:at=>et(at.target.value),rows:"3"})]}),J.jsx("button",{type:"submit",children:"Varaa nyt"})]})}const yS=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},pS=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=i[r++];t[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=i[r++],d=i[r++],g=i[r++],y=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const f=i[r++],d=i[r++];t[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return t.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const f=i[o],d=o+1<i.length,g=d?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,E=f>>2,S=(f&3)<<4|g>>4;let C=(g&15)<<2|p>>6,P=p&63;y||(P=64,d||(C=64)),s.push(r[E],r[S],r[C],r[P])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(_0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):pS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const f=r[i.charAt(o++)],g=o<i.length?r[i.charAt(o)]:0;++o;const p=o<i.length?r[i.charAt(o)]:64;++o;const S=o<i.length?r[i.charAt(o)]:64;if(++o,f==null||g==null||p==null||S==null)throw new vS;const C=f<<2|g>>4;if(s.push(C),p!==64){const P=g<<4&240|p>>2;if(s.push(P),S!==64){const G=p<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(i){const t=_0(i);return E0.encodeByteArray(t,!0)},hc=function(i){return _S(i).replace(/\./g,"")},ES=function(i){try{return E0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>TS().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof Lv>"u")return;const i=Lv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ES(i[1]);return t&&JSON.parse(t)},mm=()=>{try{return yS()||AS()||bS()||SS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wS=i=>{var t,r;return(r=(t=mm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},DS=i=>{const t=wS(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},T0=()=>{var i;return(i=mm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,f=i.sub||i.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hc(JSON.stringify(r)),hc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){var i;const t=(i=mm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var f;t(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class Ks extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=xS,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A0.prototype.create)}}class A0{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},o=`${this.service}/${t}`,f=this.errors[t],d=f?US(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ks(o,g,s)}}function US(i,t){return i.replace(LS,(r,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function dc(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const o of r){if(!s.includes(o))return!1;const f=i[o],d=t[o];if(Pv(f)&&Pv(d)){if(!dc(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(i){return i&&i._delegate?i._delegate:i}class ho{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new RS;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zS(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(t,r){var s;const o=this.normalizeInstanceIdentifier(r),f=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;f.add(t),this.onInitCallbacks.set(o,f);const d=this.instances.get(o);return d&&t(d,o),()=>{f.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kS(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(i){return i===Ia?void 0:i}function zS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new PS(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const BS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},qS=Bt.INFO,HS={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},GS=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=HS[t];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class b0{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const FS=(i,t)=>t.some(r=>i instanceof r);let kv,zv;function YS(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Md=new WeakMap,w0=new WeakMap,ud=new WeakMap,gm=new WeakMap;function KS(i){const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",f),i.removeEventListener("error",d)},f=()=>{r(Pi(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",f),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&S0.set(r,i)}).catch(()=>{}),gm.set(t,i),t}function XS(i){if(Md.has(i))return;const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",f),i.removeEventListener("error",d),i.removeEventListener("abort",d)},f=()=>{r(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",f),i.addEventListener("error",d),i.addEventListener("abort",d)});Md.set(i,t)}let xd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Md.get(i);if(t==="objectStoreNames")return i.objectStoreNames||w0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Pi(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function $S(i){xd=i(xd)}function ZS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(cd(this),t,...r);return w0.set(s,t.sort?t.sort():[t]),Pi(s)}:QS().includes(i)?function(...t){return i.apply(cd(this),t),Pi(S0.get(this))}:function(...t){return Pi(i.apply(cd(this),t))}}function WS(i){return typeof i=="function"?ZS(i):(i instanceof IDBTransaction&&XS(i),FS(i,YS())?new Proxy(i,xd):i)}function Pi(i){if(i instanceof IDBRequest)return KS(i);if(ud.has(i))return ud.get(i);const t=WS(i);return t!==i&&(ud.set(i,t),gm.set(t,i)),t}const cd=i=>gm.get(i);function JS(i,t,{blocked:r,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(i,t),g=Pi(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Pi(d.result),y.oldVersion,y.newVersion,Pi(d.transaction),y)}),r&&d.addEventListener("blocked",y=>r(y.oldVersion,y.newVersion,y)),g.then(y=>{f&&y.addEventListener("close",()=>f()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const t1=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],fd=new Map;function jv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(fd.get(t))return fd.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,o=e1.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||t1.includes(r)))return;const f=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[r](...g),o&&y.done]))[0]};return fd.set(t,f),f}$S(i=>({...i,get:(t,r,s)=>jv(t,r)||i.get(t,r,s),has:(t,r)=>!!jv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(r1(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function r1(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ud="@firebase/app",Bv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new b0("@firebase/app"),i1="@firebase/app-compat",a1="@firebase/analytics-compat",s1="@firebase/analytics",l1="@firebase/app-check-compat",o1="@firebase/app-check",u1="@firebase/auth",c1="@firebase/auth-compat",f1="@firebase/database",h1="@firebase/data-connect",d1="@firebase/database-compat",m1="@firebase/functions",g1="@firebase/functions-compat",y1="@firebase/installations",p1="@firebase/installations-compat",v1="@firebase/messaging",_1="@firebase/messaging-compat",E1="@firebase/performance",T1="@firebase/performance-compat",A1="@firebase/remote-config",b1="@firebase/remote-config-compat",S1="@firebase/storage",w1="@firebase/storage-compat",D1="@firebase/firestore",R1="@firebase/vertexai",C1="@firebase/firestore-compat",O1="firebase",I1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",N1={[Ud]:"fire-core",[i1]:"fire-core-compat",[s1]:"fire-analytics",[a1]:"fire-analytics-compat",[o1]:"fire-app-check",[l1]:"fire-app-check-compat",[u1]:"fire-auth",[c1]:"fire-auth-compat",[f1]:"fire-rtdb",[h1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[m1]:"fire-fn",[g1]:"fire-fn-compat",[y1]:"fire-iid",[p1]:"fire-iid-compat",[v1]:"fire-fcm",[_1]:"fire-fcm-compat",[E1]:"fire-perf",[T1]:"fire-perf-compat",[A1]:"fire-rc",[b1]:"fire-rc-compat",[S1]:"fire-gcs",[w1]:"fire-gcs-compat",[D1]:"fire-fst",[C1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,V1=new Map,Pd=new Map;function qv(i,t){try{i.container.addComponent(t)}catch(r){ii.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function gc(i){const t=i.name;if(Pd.has(t))return ii.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,i);for(const r of mc.values())qv(r,i);for(const r of V1.values())qv(r,i);return!0}function M1(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function x1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new A0("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=I1;function D0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw ki.create("bad-app-name",{appName:String(o)});if(r||(r=T0()),!r)throw ki.create("no-options");const f=mc.get(o);if(f){if(dc(r,f.options)&&dc(s,f.config))return f;throw ki.create("duplicate-app",{appName:o})}const d=new jS(o);for(const y of Pd.values())d.addComponent(y);const g=new L1(r,s,d);return mc.set(o,g),g}function k1(i=Ld){const t=mc.get(i);if(!t&&i===Ld&&T0())return D0();if(!t)throw ki.create("no-app",{appName:i});return t}function Ps(i,t,r){var s;let o=(s=N1[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const f=o.match(/\s|\//),d=t.match(/\s|\//);if(f||d){const g=[`Unable to register library "${o}" with version "${t}":`];f&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ii.warn(g.join(" "));return}gc(new ho(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",j1=1,mo="firebase-heartbeat-store";let hd=null;function R0(){return hd||(hd=JS(z1,j1,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw ki.create("idb-open",{originalErrorMessage:i.message})})),hd}async function B1(i){try{const r=(await R0()).transaction(mo),s=await r.objectStore(mo).get(C0(i));return await r.done,s}catch(t){if(t instanceof Ks)ii.warn(t.message);else{const r=ki.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}async function Hv(i,t){try{const s=(await R0()).transaction(mo,"readwrite");await s.objectStore(mo).put(t,C0(i)),await s.done}catch(r){if(r instanceof Ks)ii.warn(r.message);else{const s=ki.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ii.warn(s.message)}}}function C0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,H1=30;class G1{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Y1(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Gv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>H1){const d=Q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ii.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Gv(),{heartbeatsToSend:s,unsentEntries:o}=F1(this._heartbeatsCache.heartbeats),f=hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(r){return ii.warn(r),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function F1(i,t=q1){const r=[];let s=i.slice();for(const o of i){const f=r.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Fv(r)>t){f.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Fv(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await B1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Fv(i){return hc(JSON.stringify({version:2,heartbeats:i})).length}function Q1(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(i){gc(new ho("platform-logger",t=>new n1(t),"PRIVATE")),gc(new ho("heartbeat",t=>new G1(t),"PRIVATE")),Ps(Ud,Bv,i),Ps(Ud,Bv,"esm2017"),Ps("fire-js","")}K1("");var X1="firebase",$1="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(X1,$1,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,O0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,b){function R(){}R.prototype=b.prototype,V.D=b.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(I,M,x){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return b.prototype[M].apply(I,D)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,R){R||(R=0);var I=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)I[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=V.g[0],R=V.g[1],M=V.g[2];var x=V.g[3],D=b+(x^R&(M^x))+I[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=x+(M^b&(R^M))+I[1]+3905402710&4294967295,x=b+(D<<12&4294967295|D>>>20),D=M+(R^x&(b^R))+I[2]+606105819&4294967295,M=x+(D<<17&4294967295|D>>>15),D=R+(b^M&(x^b))+I[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(x^R&(M^x))+I[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=x+(M^b&(R^M))+I[5]+1200080426&4294967295,x=b+(D<<12&4294967295|D>>>20),D=M+(R^x&(b^R))+I[6]+2821735955&4294967295,M=x+(D<<17&4294967295|D>>>15),D=R+(b^M&(x^b))+I[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(x^R&(M^x))+I[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=x+(M^b&(R^M))+I[9]+2336552879&4294967295,x=b+(D<<12&4294967295|D>>>20),D=M+(R^x&(b^R))+I[10]+4294925233&4294967295,M=x+(D<<17&4294967295|D>>>15),D=R+(b^M&(x^b))+I[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(x^R&(M^x))+I[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=x+(M^b&(R^M))+I[13]+4254626195&4294967295,x=b+(D<<12&4294967295|D>>>20),D=M+(R^x&(b^R))+I[14]+2792965006&4294967295,M=x+(D<<17&4294967295|D>>>15),D=R+(b^M&(x^b))+I[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=b+(M^x&(R^M))+I[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=x+(R^M&(b^R))+I[6]+3225465664&4294967295,x=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(x^b))+I[11]+643717713&4294967295,M=x+(D<<14&4294967295|D>>>18),D=R+(x^b&(M^x))+I[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^x&(R^M))+I[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=x+(R^M&(b^R))+I[10]+38016083&4294967295,x=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(x^b))+I[15]+3634488961&4294967295,M=x+(D<<14&4294967295|D>>>18),D=R+(x^b&(M^x))+I[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^x&(R^M))+I[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=x+(R^M&(b^R))+I[14]+3275163606&4294967295,x=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(x^b))+I[3]+4107603335&4294967295,M=x+(D<<14&4294967295|D>>>18),D=R+(x^b&(M^x))+I[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(M^x&(R^M))+I[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=x+(R^M&(b^R))+I[2]+4243563512&4294967295,x=b+(D<<9&4294967295|D>>>23),D=M+(b^R&(x^b))+I[7]+1735328473&4294967295,M=x+(D<<14&4294967295|D>>>18),D=R+(x^b&(M^x))+I[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=b+(R^M^x)+I[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=x+(b^R^M)+I[8]+2272392833&4294967295,x=b+(D<<11&4294967295|D>>>21),D=M+(x^b^R)+I[11]+1839030562&4294967295,M=x+(D<<16&4294967295|D>>>16),D=R+(M^x^b)+I[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^x)+I[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=x+(b^R^M)+I[4]+1272893353&4294967295,x=b+(D<<11&4294967295|D>>>21),D=M+(x^b^R)+I[7]+4139469664&4294967295,M=x+(D<<16&4294967295|D>>>16),D=R+(M^x^b)+I[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^x)+I[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=x+(b^R^M)+I[0]+3936430074&4294967295,x=b+(D<<11&4294967295|D>>>21),D=M+(x^b^R)+I[3]+3572445317&4294967295,M=x+(D<<16&4294967295|D>>>16),D=R+(M^x^b)+I[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(R^M^x)+I[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=x+(b^R^M)+I[12]+3873151461&4294967295,x=b+(D<<11&4294967295|D>>>21),D=M+(x^b^R)+I[15]+530742520&4294967295,M=x+(D<<16&4294967295|D>>>16),D=R+(M^x^b)+I[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=b+(M^(R|~x))+I[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=x+(R^(b|~M))+I[7]+1126891415&4294967295,x=b+(D<<10&4294967295|D>>>22),D=M+(b^(x|~R))+I[14]+2878612391&4294967295,M=x+(D<<15&4294967295|D>>>17),D=R+(x^(M|~b))+I[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~x))+I[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=x+(R^(b|~M))+I[3]+2399980690&4294967295,x=b+(D<<10&4294967295|D>>>22),D=M+(b^(x|~R))+I[10]+4293915773&4294967295,M=x+(D<<15&4294967295|D>>>17),D=R+(x^(M|~b))+I[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~x))+I[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=x+(R^(b|~M))+I[15]+4264355552&4294967295,x=b+(D<<10&4294967295|D>>>22),D=M+(b^(x|~R))+I[6]+2734768916&4294967295,M=x+(D<<15&4294967295|D>>>17),D=R+(x^(M|~b))+I[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=b+(M^(R|~x))+I[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=x+(R^(b|~M))+I[11]+3174756917&4294967295,x=b+(D<<10&4294967295|D>>>22),D=M+(b^(x|~R))+I[2]+718787259&4294967295,M=x+(D<<15&4294967295|D>>>17),D=R+(x^(M|~b))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var R=b-this.blockSize,I=this.B,M=this.h,x=0;x<b;){if(M==0)for(;x<=R;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<b;)if(I[M++]=V.charCodeAt(x++),M==this.blockSize){o(this,I),M=0;break}}else for(;x<b;)if(I[M++]=V[x++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var R=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=R&255,R/=256;for(this.u(V),V=Array(16),b=R=0;4>b;++b)for(var I=0;32>I;I+=8)V[R++]=this.g[b]>>>I&255;return V};function f(V,b){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=b(V)}function d(V,b){this.h=b;for(var R=[],I=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;I&&x==b||(R[M]=x,I=!1)}this.g=R}var g={};function y(V){return-128<=V&&128>V?f(V,function(b){return new d([b|0],0>b?-1:0)}):new d([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return F(p(-V));for(var b=[],R=1,I=0;V>=R;I++)b[I]=V/R|0,R*=4294967296;return new d(b,0)}function E(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return F(E(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(b,8)),I=S,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),D=parseInt(V.substring(M,M+x),b);8>x?(x=p(Math.pow(b,x)),I=I.j(x).add(p(D))):(I=I.j(R),I=I.add(p(D)))}return I}var S=y(0),C=y(1),P=y(16777216);i=d.prototype,i.m=function(){if(K(this))return-F(this).m();for(var V=0,b=1,R=0;R<this.g.length;R++){var I=this.i(R);V+=(0<=I?I:4294967296+I)*b,b*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(G(this))return"0";if(K(this))return"-"+F(this).toString(V);for(var b=p(Math.pow(V,6)),R=this,I="";;){var M=vt(R,b).g;R=et(R,M.j(b));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,G(R))return x+I;for(;6>x.length;)x="0"+x;I=x+I}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function G(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function K(V){return V.h==-1}i.l=function(V){return V=et(this,V),K(V)?-1:G(V)?0:1};function F(V){for(var b=V.g.length,R=[],I=0;I<b;I++)R[I]=~V.g[I];return new d(R,~V.h).add(C)}i.abs=function(){return K(this)?F(this):this},i.add=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0,M=0;M<=b;M++){var x=I+(this.i(M)&65535)+(V.i(M)&65535),D=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);I=D>>>16,x&=65535,D&=65535,R[M]=D<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function et(V,b){return V.add(F(b))}i.j=function(V){if(G(this)||G(V))return S;if(K(this))return K(V)?F(this).j(F(V)):F(F(this).j(V));if(K(V))return F(this.j(F(V)));if(0>this.l(P)&&0>V.l(P))return p(this.m()*V.m());for(var b=this.g.length+V.g.length,R=[],I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<V.g.length;M++){var x=this.i(I)>>>16,D=this.i(I)&65535,oe=V.i(M)>>>16,ie=V.i(M)&65535;R[2*I+2*M]+=D*ie,ot(R,2*I+2*M),R[2*I+2*M+1]+=x*ie,ot(R,2*I+2*M+1),R[2*I+2*M+1]+=D*oe,ot(R,2*I+2*M+1),R[2*I+2*M+2]+=x*oe,ot(R,2*I+2*M+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new d(R,0)};function ot(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function ct(V,b){this.g=V,this.h=b}function vt(V,b){if(G(b))throw Error("division by zero");if(G(V))return new ct(S,S);if(K(V))return b=vt(F(V),b),new ct(F(b.g),F(b.h));if(K(b))return b=vt(V,F(b)),new ct(F(b.g),b.h);if(30<V.g.length){if(K(V)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,I=b;0>=I.l(V);)R=at(R),I=at(I);var M=St(R,1),x=St(I,1);for(I=St(I,2),R=St(R,2);!G(I);){var D=x.add(I);0>=D.l(V)&&(M=M.add(R),x=D),I=St(I,1),R=St(R,1)}return b=et(V,M.j(b)),new ct(M,b)}for(M=S;0<=V.l(b);){for(R=Math.max(1,Math.floor(V.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),x=p(R),D=x.j(b);K(D)||0<D.l(V);)R-=I,x=p(R),D=x.j(b);G(x)&&(x=C),M=M.add(x),V=et(V,D)}return new ct(M,V)}i.A=function(V){return vt(this,V).h},i.and=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)&V.i(I);return new d(R,this.h&V.h)},i.or=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)|V.i(I);return new d(R,this.h|V.h)},i.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)^V.i(I);return new d(R,this.h^V.h)};function at(V){for(var b=V.g.length+1,R=[],I=0;I<b;I++)R[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(R,V.h)}function St(V,b){var R=b>>5;b%=32;for(var I=V.g.length-R,M=[],x=0;x<I;x++)M[x]=0<b?V.i(x+R)>>>b|V.i(x+R+1)<<32-b:V.i(x+R);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,O0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,zi=d}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I0,ro,N0,ac,kd,V0,M0,x0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var v=0,A=!1,L={next:function(){if(!A&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function C(u,m,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function P(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function G(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,L,q){for(var nt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)nt[Pt-2]=arguments[Pt];return m.prototype[L].apply(A,nt)}}function K(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function F(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(y(A)){const L=u.length||0,q=A.length||0;u.length=L+q;for(let nt=0;nt<q;nt++)u[L+nt]=A[nt]}else u.push(A)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var at=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function St(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function V(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function b(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<R.length;q++)v=R[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function x(u){g.setTimeout(()=>{throw u},0)}function D(){var u=Ct;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const A=ie.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new et(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,Ct=new oe,O=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(X)}};var X=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){x(v)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function wt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(at){t:{try{vt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}G(wt,tt);var gt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ie(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++qt,this.da=this.fa=!1}function Nn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function En(u){this.src=u,this.g={},this.h=0}En.prototype.add=function(u,m,v,A,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Xn(u,m,A,L);return-1<nt?(m=u[nt],v||(m.fa=!1)):(m=new Ie(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function Vn(u,m){var v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(A,L,1),q&&(Nn(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Xn(u,m,v,A){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var ee="closure_lm_"+(1e6*Math.random()|0),$n={};function He(u,m,v,A,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)He(u,m[q],v,A,L);return null}return v=ja(v),u&&u[ue]?u.K(m,v,p(A)?!!A.capture:!1,L):Ge(u,m,v,!1,A,L)}function Ge(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");var nt=p(L)?!!L.capture:!!L,Pt=Vr(u);if(Pt||(u[ee]=Pt=new En(u)),v=Pt.add(m,v,A,nt,q),v.proxy)return v;if(A=za(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ht||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function za(){function u(v){return m.call(u.src,u.listener,v)}const m=tl;return u}function oi(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)oi(u,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=ja(v),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=Xn(q,v,A,L),-1<v&&(Nn(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xn(m,v,A,L)),(v=-1<u?m[u]:null)&&ui(v))}function ui(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Vn(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Nr(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Vr(m))?(Vn(v,u),v.h==0&&(v.src=null,m[ee]=null)):Nn(u)}}}function Nr(u){return u in $n?$n[u]:$n[u]="on"+u}function tl(u,m){if(u.da)u=!0;else{m=new wt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&ui(u),u=v.call(A,m)}return u}function Vr(u){return u=u[ee],u instanceof En?u:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(u){return typeof u=="function"?u:(u[Wi]||(u[Wi]=function(m){return u.handleEvent(m)}),u[Wi])}function ce(){rt.call(this),this.i=new En(this),this.M=this,this.F=null}G(ce,rt),ce.prototype[ue]=!0,ce.prototype.removeEventListener=function(u,m,v,A){oi(this,u,m,v,A)};function Ft(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var L=m;m=new tt(A,u),I(m,L)}if(L=!0,v)for(var q=v.length-1;0<=q;q--){var nt=m.g=v[q];L=cn(nt,A,!0,m)&&L}if(nt=m.g=u,L=cn(nt,A,!0,m)&&L,L=cn(nt,A,!1,m)&&L,v)for(q=0;q<v.length;q++)nt=m.g=v[q],L=cn(nt,A,!1,m)&&L}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)Nn(v[A]);delete u.g[m],u.h--}}this.F=null},ce.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ce.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function cn(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==v){var Pt=nt.listener,Ne=nt.ha||nt.src;nt.fa&&Vn(u.i,nt),L=Pt.call(Ne,A)!==!1&&L}}return L&&!A.defaultPrevented}function be(u,m,v){if(typeof u=="function")v&&(u=C(u,v));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ji(u){u.g=be(()=>{u.g=null,u.i&&(u.i=!1,Ji(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ba extends rt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){rt.call(this),this.h=u,this.g={}}G(Mr,rt);var Mn=[];function or(u){St(u.g,function(m,v){this.g.hasOwnProperty(v)&&ui(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),or(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=g.JSON.stringify,xr=g.JSON.parse,ur=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ur(){}Ur.prototype.h=null;function ta(u){return u.h||(u.h=u.i())}function ci(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){tt.call(this,"d")}G(xn,tt);function Se(){tt.call(this,"c")}G(Se,tt);var se={},cr=null;function Ht(){return cr=cr||new ce}se.La="serverreachability";function Fe(u){tt.call(this,se.La,u)}G(Fe,tt);function fr(u){const m=Ht();Ft(m,new Fe(m))}se.STAT_EVENT="statevent";function fi(u,m){tt.call(this,se.STAT_EVENT,u),this.stat=m}G(fi,tt);function ne(u){const m=Ht();Ft(m,new fi(m,u))}se.Ma="timingevent";function pe(u,m){tt.call(this,se.Ma,u),this.size=m}G(pe,tt);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Ye(){this.g=!0}Ye.prototype.xa=function(){this.g=!1};function Lr(u,m,v,A,L,q){u.info(function(){if(u.g)if(q)for(var nt="",Pt=q.split("&"),Ne=0;Ne<Pt.length;Ne++){var kt=Pt[Ne].split("=");if(1<kt.length){var ke=kt[0];kt=kt[1];var Ve=ke.split("_");nt=2<=Ve.length&&Ve[1]=="type"?nt+(ke+"="+kt+"&"):nt+(ke+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function ea(u,m,v,A,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function Un(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wn(u,v)+(A?" "+A:"")})}function qa(u,m){u.info(function(){return"TIMEOUT: "+m})}Ye.prototype.info=function(){};function Wn(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Tn(v)}catch{return m}}var Jn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Tt(){}G(Tt,Ur),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},Ln=new Tt;function Vt(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var Qe={},Le={};function fn(u,m,v){u.L=1,u.v=sa(An(m)),u.m=v,u.P=!0,er(u,null)}function er(u,m){u.F=Date.now(),na(u),u.A=An(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),sl(v.i,"t",A),u.C=0,v=u.j.J,u.h=new Dt,u.g=Fo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ba(C(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Mn[0]=L.toString()),L=Mn);for(var q=0;q<L.length;q++){var nt=He(v,L[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fr(),Lr(u.i,u.u,u.A,u.l,u.R,u.m)}Vt.prototype.ca=function(u){u=u.target;const m=this.M;m&&jn(u)==3?m.j():this.Y(u)},Vt.prototype.Y=function(u){try{if(u==this.g)t:{const Ve=jn(this.g);var m=this.g.Ba();const Gr=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=Gr?fr(3):fr(2)),hi(this);var v=this.g.Z();this.X=v;e:if(Ha(this)){var A=Po(this.g);u="";var L=A.length,q=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),hr(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=v==200,ea(this.i,this.u,this.A,this.l,this.R,Ve,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ne=this.g;if((Pt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Pt)){var kt=Pt;break e}}kt=null}if(v=kt)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,v);else{this.o=!1,this.s=3,ne(12),Ke(this),hr(this);break t}}if(this.P){v=!0;let Xe;for(;!this.J&&this.C<nt.length;)if(Xe=No(this,nt),Xe==Le){Ve==4&&(this.s=4,ne(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Qe){this.s=4,ne(15),Un(this.i,this.l,nt,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,Xe,null),ra(this,Xe);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||nt.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,nt,"[Invalid Chunked Response]"),Ke(this),hr(this);else if(0<nt.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ma(ke),ke.M=!0,ne(11))}}else Un(this.i,this.l,nt,null),ra(this,nt);Ve==4&&Ke(this),this.o&&!this.J&&(Ve==4?qo(this.j,this):(this.o=!1,na(this)))}else rf(this.g),v==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ke(this),hr(this)}}}catch{}finally{}};function Ha(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function No(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?Qe:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),u.C=A+v,m)))}Vt.prototype.cancel=function(){this.J=!0,Ke(this)};function na(u){u.S=Date.now()+u.I,Vo(u,u.I)}function Vo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(C(u.ba,u),m)}function hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Vt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qa(this.i,this.A),this.L!=2&&(fr(),ne(17)),Ke(this),this.s=2,hr(this)):Vo(this,this.S-u)};function hr(u){u.j.G==0||u.J||qo(u.j,u)}function Ke(u){hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,or(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ra(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||el(v.h,u))){if(!u.K&&el(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)es(v),Ja(v);else break t;fl(v),ne(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=fe(C(v.Za,v),6e3));if(1>=Fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Hr(v,11)}else if((u.K||v.g==u)&&es(v),!ot(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let kt=L[m];if(v.T=kt[0],kt=kt[1],v.G==2)if(kt[0]=="c"){v.K=kt[1],v.ia=kt[2];const ke=kt[3];ke!=null&&(v.la=ke,v.j.info("VER="+v.la));const Ve=kt[4];Ve!=null&&(v.Aa=Ve,v.j.info("SVER="+v.Aa));const Gr=kt[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(A=1.5*Gr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xe=u.g;if(Xe){const _r=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var q=A.h;q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ya(q,q.h),q.h=null))}if(A.D){const dl=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,Zt(A.I,A.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var nt=u;if(A.qa=Go(A,A.J?A.ia:null,A.W),nt.K){hn(A.h,nt);var Pt=nt,Ne=A.L;Ne&&(Pt.I=Ne),Pt.B&&(hi(Pt),na(Pt)),A.g=nt}else jo(A);0<v.i.length&&ts(v)}else kt[0]!="stop"&&kt[0]!="close"||Hr(v,7);else v.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Hr(v,7):ul(v):kt[0]!="noop"&&v.l&&v.l.ta(kt),v.v=0)}}fr(4)}catch{}}var Mo=class{constructor(u,m){this.g=u,this.map=m}};function Pr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fa(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ya(u,m){u.g?u.g.add(m):u.h=m}function hn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Pr.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return K(u.i)}function Jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function rl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Qa(u),A=Jc(u),L=A.length,q=0;q<L;q++)m.call(void 0,A[q],v&&v[q],u)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),L=null;if(0<=A){var q=u[v].substring(0,A);L=u[v].substring(A+1)}else q=u[v];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,aa(this,u.j),this.o=u.o,this.g=u.g,di(this,u.s),this.l=u.l;var m=u.i,v=new zr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),kr(this,v),this.m=u.m}else u&&(m=String(u).match(ia))?(this.h=!1,aa(this,m[1]||"",!0),this.o=Pn(m[2]||""),this.g=Pn(m[3]||"",!0),di(this,m[4]),this.l=Pn(m[5]||"",!0),kr(this,m[6]||"",!0),this.m=Pn(m[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}we.prototype.toString=function(){var u=[],m=this.j;m&&u.push(la(m,il,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(la(m,il,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(la(v,v.charAt(0)=="/"?ef:al,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",la(v,Ka)),u.join("")};function An(u){return new we(u)}function aa(u,m,v){u.j=v?Pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function di(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function kr(u,m,v){m instanceof zr?(u.i=m,Uo(u.i,u.h)):(v||(m=la(m,nf)),u.i=new zr(m,u.h))}function Zt(u,m,v){u.i.set(m,v)}function sa(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function la(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var il=/[#\/\?@]/g,al=/[#\?:]/g,ef=/[#\?]/g,nf=/[#\?@]/g,Ka=/#/g;function zr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kn(u){u.g||(u.g=new Map,u.h=0,u.i&&tf(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}i=zr.prototype,i.add=function(u,m){kn(this),this.i=null,u=dr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function jr(u,m){kn(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Br(u,m){return kn(u),m=dr(u,m),u.g.has(m)}i.forEach=function(u,m){kn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)},i.na=function(){kn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const L=u[A];for(let q=0;q<L.length;q++)v.push(m[A])}return v},i.V=function(u){kn(this);let m=[];if(typeof u=="string")Br(this,u)&&(m=m.concat(this.g.get(dr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},i.set=function(u,m){return kn(this),this.i=null,u=dr(this,u),Br(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function sl(u,m,v){jr(u,m),0<v.length&&(u.i=null,u.g.set(dr(u,m),K(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var L=q;nt[A]!==""&&(L+="="+encodeURIComponent(String(nt[A]))),u.push(L)}}return this.i=u.join("&")};function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Uo(u,m){m&&!u.j&&(kn(u),u.i=null,u.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(jr(this,A),sl(this,L,v))},u)),u.j=m}function oa(u,m){const v=new Ye;if(g.Image){const A=new Image;A.onload=P(zn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=P(zn,v,"TestLoadImage: error",!1,m,A),A.onabort=P(zn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=P(zn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function nr(u,m){const v=new Ye,A=new AbortController,L=setTimeout(()=>{A.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function ua(){this.g=new ur}function mr(u,m,v){const A=v||"";try{rl(u,function(L,q){let nt=L;p(L)&&(nt=Tn(L)),m.push(A+q+"="+encodeURIComponent(nt))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function mi(u){this.l=u.Ub||null,this.j=u.eb||!1}G(mi,Ur),mi.prototype.g=function(){return new qr(this.l,this.j)},mi.prototype.i=function(u){return function(){return u}}({});function qr(u,m){ce.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(qr,ce),i=qr.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,yr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):yr(this),this.readyState==3&&ll(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,gr(this))},i.Qa=function(u){this.g&&(this.response=u,gr(this))},i.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yr(u)}i.setRequestHeader=function(u,m){this.u.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function yr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return St(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Pe(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=ol(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Zt(u,m,v))}function Qt(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Qt,ce);var Xa=/^https?$/i,ca=["POST","PUT"];i=Qt.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?ta(this.o):ta(Ln),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Lo(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ca,m,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Lo(this,q)}};function Lo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$a(u),pr(u)}function $a(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),pr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),Qt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},i.bb=function(){Za(this)};function Za(u){if(u.h&&typeof d<"u"&&(!u.v[1]||jn(u)!=4||u.Z()!=2)){if(u.u&&jn(u)==4)be(u.Ea,0,u);else if(Ft(u,"readystatechange"),jn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=nt===0){var L=String(u.D).match(ia)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Xa.test(L?L.toLowerCase():"")}v=A}if(v)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var q=2<jn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",$a(u)}}finally{pr(u)}}}}function pr(u,m){if(u.g){fa(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{v.onreadystatechange=A}catch{}}}function fa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xr(m)}};function Po(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rf(u){const m={};u=(u.g&&2<=jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ot(u[A]))continue;var v=M(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}V(m,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Wa(u){this.Aa=0,this.i=[],this.j=new Ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,u),this.cb=ha("retryDelaySeedMs",1e4,u),this.Wa=ha("forwardChannelMaxRetries",2,u),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(u&&u.concurrentRequestLimit),this.Da=new ua,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Wa.prototype,i.la=8,i.G=1,i.connect=function(u,m,v,A){ne(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Go(this,null,this.W),ts(this)};function ul(u){if(ko(u),u.G==3){var m=u.U++,v=An(u.I);if(Zt(v,"SID",u.K),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),da(u,v),m=new Vt(u,u.j,m),m.L=2,m.v=sa(An(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Fo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),na(m)}Ho(u)}function Ja(u){u.g&&(ma(u),u.g.cancel(),u.g=null)}function ko(u){Ja(u),u.u&&(g.clearTimeout(u.u),u.u=null),es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ts(u){if(!Ga(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||O(),ft||(it(),ft=!0),Ct.add(m,u),u.B=0}}function af(u,m){return Fa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(C(u.Ga,u,m),hl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Vt(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=zo(this,L,m),v=An(this.I),Zt(v,"RID",u),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),da(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(ol(q)))+"&"+m:this.m&&Pe(v,this.m,q)),Ya(this.h,L),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",m),Zt(v,"SID","null"),L.T=!0,fn(L,v,null)):fn(L,v,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||Ga(this.h)||cl(this))};function cl(u,m){var v;m?v=m.l:v=u.U++;const A=An(u.I);Zt(A,"SID",u.K),Zt(A,"RID",v),Zt(A,"AID",u.T),da(u,A),u.m&&u.o&&Pe(A,u.m,u.o),v=new Vt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=zo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ya(u.h,v),fn(v,A,m)}function da(u,m){u.H&&St(u.H,function(v,A){Zt(m,A,v)}),u.l&&rl({},function(v,A){Zt(m,A,v)})}function zo(u,m,v){v=Math.min(u.i.length,v);var A=u.l?C(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const nt=["count="+v];q==-1?0<v?(q=L[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Pt=!0;for(let Ne=0;Ne<v;Ne++){let kt=L[Ne].g;const ke=L[Ne].map;if(kt-=q,0>kt)q=Math.max(0,L[Ne].g-100),Pt=!1;else try{mr(ke,nt,"req"+kt+"_")}catch{A&&A(ke)}}if(Pt){A=nt.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function jo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||O(),ft||(it(),ft=!0),Ct.add(m,u),u.v=0}}function fl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(C(u.Fa,u),hl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(C(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Ja(this),Bo(this))};function ma(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Bo(u){u.g=new Vt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=An(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),da(u,m),u.m&&u.o&&Pe(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=sa(An(m)),v.m=null,v.P=!0,er(v,u)}i.Za=function(){this.C!=null&&(this.C=null,Ja(this),fl(this),ne(19))};function es(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){es(u),ma(u),u.g=null;var A=2}else if(el(u.h,m))v=m.D,hn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Ht(),Ft(A,new pe(A,v)),ts(u)}else jo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&af(u,m)||A==2&&fl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Hr(u,5);break;case 4:Hr(u,10);break;case 3:Hr(u,6);break;default:Hr(u,2)}}}function hl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Hr(u,m){if(u.j.info("Error code "+m),m==2){var v=C(u.fb,u),A=u.Xa;const L=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||aa(A,"https"),sa(A),L?oa(A.toString(),v):nr(A.toString(),v)}else ne(2);u.G=0,u.l&&u.l.sa(m),Ho(u),ko(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Ho(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Go(u,m,v){var A=v instanceof we?An(v):new we(v);if(A.g!="")m&&(A.g=m+"."+A.g),di(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new we(null);A&&aa(q,A),m&&(q.g=m),L&&di(q,L),v&&(q.l=v),A=q}return v=u.D,m=u.ya,v&&m&&Zt(A,v,m),Zt(A,"VER",u.la),da(u,A),A}function Fo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qt(new mi({eb:v})):new Qt(u.pa),m.Ha(u.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}i=Yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ns(){}ns.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){ce.call(this),this.g=new Wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new vr(this)}G(dn,ce),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ul(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Tn(u),u=v);m.i.push(new Mo(m.Ya++,u)),m.G==3&&ts(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,dn.aa.N.call(this)};function Qo(u){xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(Qo,xn);function Ko(){Se.call(this),this.status=1}G(Ko,Se);function vr(u){this.g=u}G(vr,Yo),vr.prototype.ua=function(){Ft(this.g,"a")},vr.prototype.ta=function(u){Ft(this.g,new Qo(u))},vr.prototype.sa=function(u){Ft(this.g,new Ko)},vr.prototype.ra=function(){Ft(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,x0=function(){return new ns},M0=function(){return Ht()},V0=se,kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,ac=Jn,tr.COMPLETE="complete",N0=tr,ci.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",ce.prototype.listen=ce.prototype.K,ro=ci,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,I0=Qt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Kv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new b0("@firebase/firestore");function Ns(){return Ma.logLevel}function st(i,...t){if(Ma.logLevel<=Bt.DEBUG){const r=t.map(ym);Ma.debug(`Firestore (${Xs}): ${i}`,...r)}}function ai(i,...t){if(Ma.logLevel<=Bt.ERROR){const r=t.map(ym);Ma.error(`Firestore (${Xs}): ${i}`,...r)}}function zs(i,...t){if(Ma.logLevel<=Bt.WARN){const r=t.map(ym);Ma.warn(`Firestore (${Xs}): ${i}`,...r)}}function ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,U0(i,s,r)}function U0(i,t,r){let s=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw ai(s),new Error(s)}function Kt(i,t,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||U0(t,o,s)}function bt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ks{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(on.UNAUTHENTICATED))}shutdown(){}}class W1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class J1{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Kt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,r(y)):Promise.resolve();let f=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ji,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=f;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ji)}},0),d()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new L0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class tw{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ew{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new tw(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nw{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Kt(this.o===void 0,3512);const s=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Kt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Xv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rw(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<r&&(s+=t.charAt(o[f]%62))}return s}}function Nt(i,t){return i<t?-1:i>t?1:0}function zd(i,t){let r=0;for(;r<i.length&&r<t.length;){const s=i.codePointAt(r),o=t.codePointAt(r);if(s!==o){if(s<128&&o<128)return Nt(s,o);{const f=P0(),d=iw(f.encode($v(i,r)),f.encode($v(t,r)));return d!==0?d:Nt(s,o)}}r+=s>65535?2:1}return Nt(i.length,t.length)}function $v(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function iw(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return Nt(i[r],t[r]);return Nt(i.length,t.length)}function js(i,t,r){return i.length===t.length&&i.every((s,o)=>r(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Wv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*Wv);return new de(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Zv)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class Dr{constructor(t,r,s){r===void 0?r=0:r>t.length&&_t(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&_t(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return Dr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Dr?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let o=0;o<s;o++){const f=Dr.compareSegments(t.get(o),r.get(o));if(f!==0)return f}return Nt(t.length,r.length)}static compareSegments(t,r){const s=Dr.isNumericId(t),o=Dr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(t).compare(Dr.extractNumericId(r)):zd(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zi.fromString(t.substring(4,t.length-2))}}class le extends Dr{construct(t,r,s){return new le(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new le(r)}static emptyPath(){return new le([])}}const aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Dr{construct(t,r,s){return new nn(t,r,s)}static isValidIdentifier(t){return aw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new nn([Jv])}static fromServerFormat(t){const r=[];let s="",o=0;const f=()=>{if(s.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(r)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(le.fromString(t))}static fromName(t){return new mt(le.fromString(t).popFirst(5))}static empty(){return new mt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function sw(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new de(r+1,0):new de(r,s));return new qi(o,mt.empty(),t)}function lw(i){return new qi(i.readTime,i.key,go)}class qi{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new qi(At.min(),mt.empty(),go)}static max(){return new qi(At.max(),mt.empty(),go)}}function ow(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=mt.comparator(i.documentKey,t.documentKey),r!==0?r:Nt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==uw)throw i;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,o)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Z.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Z.reject(r)}static resolve(t){return new Z((r,s)=>{r(t)})}static reject(t){return new Z((r,s)=>{s(t)})}static waitFor(t){return new Z((r,s)=>{let o=0,f=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++f,d&&f===o&&r()},y=>s(y))}),d=!0,f===o&&r()})}static or(t){let r=Z.resolve(!1);for(const s of t)r=r.next(o=>o?Z.resolve(o):s());return r}static forEach(t,r){const s=[];return t.forEach((o,f)=>{s.push(r.call(this,o,f))}),this.waitFor(s)}static mapArray(t,r){return new Z((s,o)=>{const f=t.length,d=new Array(f);let g=0;for(let y=0;y<f;y++){const p=y;r(t[p]).next(E=>{d[p]=E,++g,g===f&&s(d)},E=>o(E))}})}static doWhile(t,r){return new Z((s,o)=>{const f=()=>{t()===!0?r().next(()=>{f()},o):s()};f()})}}function fw(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Zs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Pc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function kc(i){return i==null}function yc(i){return i===0&&1/i==-1/0}function hw(i){return typeof i=="number"&&Number.isInteger(i)&&!yc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="";function dw(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=t_(t)),t=mw(i.get(r),t);return t_(t)}function mw(i,t){let r=t;const s=i.length;for(let o=0;o<s;o++){const f=i.charAt(o);switch(f){case"\0":r+="";break;case z0:r+="";break;default:r+=f}}return r}function t_(i){return i+z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function $i(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function j0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,r){this.comparator=t,this.root=r||tn.EMPTY}insert(t,r){return new ye(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ju(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ju(this.root,t,this.comparator,!0)}}class Ju{constructor(t,r,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=r?s(t.key,r):1,r&&o&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(f===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,r,s,o,f){this.key=t,this.value=r,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=f??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,o,f){return new tn(t??this.key,r??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let o=this;const f=s(t,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(t,r,s),null):f===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,o=this;if(r(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,r,s,o,f){return this}insert(t,r,s){return new tn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;r(o.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(t){return new n_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ue(this.comparator);return r.data=t,r}}class n_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new In([])}unionWith(t){let r=new Ue(nn.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new In(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return js(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new B0("Invalid base64 string: "+f):f}}(t);return new rn(r)}static fromUint8Array(t){const r=function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f}(t);return new rn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const r=gw.exec(i);if(Kt(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(i.seconds),nanos:Ae(i.nanos)}}function Ae(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gi(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="server_timestamp",H0="__type__",G0="__previous_value__",F0="__local_write_time__";function vm(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[H0])===null||r===void 0?void 0:r.stringValue)===q0}function zc(i){const t=i.mapValue.fields[G0];return vm(t)?zc(t):t}function yo(i){const t=Hi(i.mapValue.fields[F0].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,r,s,o,f,d,g,y,p){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p}}const pc="(default)";class po{constructor(t,r){this.projectId=t,this.database=r||pc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===pc}isEqual(t){return t instanceof po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__type__",pw="__max__",tc={mapValue:{}},Q0="__vector__",vc="value";function Fi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vm(i)?4:_w(i)?9007199254740991:vw(i)?10:11:_t(28295,{value:i})}function Ir(i,t){if(i===t)return!0;const r=Fi(i);if(r!==Fi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return yo(i).isEqual(yo(t));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Hi(o.timestampValue),g=Hi(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,f){return Gi(o.bytesValue).isEqual(Gi(f.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,f){return Ae(o.geoPointValue.latitude)===Ae(f.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(f.geoPointValue.longitude)}(i,t);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return Ae(o.integerValue)===Ae(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=Ae(o.doubleValue),g=Ae(f.doubleValue);return d===g?yc(d)===yc(g):isNaN(d)&&isNaN(g)}return!1}(i,t);case 9:return js(i.arrayValue.values||[],t.arrayValue.values||[],Ir);case 10:case 11:return function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ir(d[y],g[y])))return!1;return!0}(i,t);default:return _t(52216,{left:i})}}function vo(i,t){return(i.values||[]).find(r=>Ir(r,t))!==void 0}function Bs(i,t){if(i===t)return 0;const r=Fi(i),s=Fi(t);if(r!==s)return Nt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Nt(i.booleanValue,t.booleanValue);case 2:return function(f,d){const g=Ae(f.integerValue||f.doubleValue),y=Ae(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(i,t);case 3:return r_(i.timestampValue,t.timestampValue);case 4:return r_(yo(i),yo(t));case 5:return zd(i.stringValue,t.stringValue);case 6:return function(f,d){const g=Gi(f),y=Gi(d);return g.compareTo(y)}(i.bytesValue,t.bytesValue);case 7:return function(f,d){const g=f.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Nt(g[p],y[p]);if(E!==0)return E}return Nt(g.length,y.length)}(i.referenceValue,t.referenceValue);case 8:return function(f,d){const g=Nt(Ae(f.latitude),Ae(d.latitude));return g!==0?g:Nt(Ae(f.longitude),Ae(d.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return i_(i.arrayValue,t.arrayValue);case 10:return function(f,d){var g,y,p,E;const S=f.fields||{},C=d.fields||{},P=(g=S[vc])===null||g===void 0?void 0:g.arrayValue,G=(y=C[vc])===null||y===void 0?void 0:y.arrayValue,K=Nt(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:i_(P,G)}(i.mapValue,t.mapValue);case 11:return function(f,d){if(f===tc.mapValue&&d===tc.mapValue)return 0;if(f===tc.mapValue)return 1;if(d===tc.mapValue)return-1;const g=f.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const C=zd(y[S],E[S]);if(C!==0)return C;const P=Bs(g[y[S]],p[E[S]]);if(P!==0)return P}return Nt(y.length,E.length)}(i.mapValue,t.mapValue);default:throw _t(23264,{Pe:r})}}function r_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Nt(i,t);const r=Hi(i),s=Hi(t),o=Nt(r.seconds,s.seconds);return o!==0?o:Nt(r.nanos,s.nanos)}function i_(i,t){const r=i.values||[],s=t.values||[];for(let o=0;o<r.length&&o<s.length;++o){const f=Bs(r[o],s[o]);if(f)return f}return Nt(r.length,s.length)}function qs(i){return jd(i)}function jd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=Hi(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Gi(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return mt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const f of r.values||[])o?o=!1:s+=",",s+=jd(f);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${jd(r.fields[d])}`;return o+"}"}(i.mapValue):_t(61005,{value:i})}function sc(i){switch(Fi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(i);return t?16+sc(t):16;case 5:return 2*i.stringValue.length;case 6:return Gi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,f)=>o+sc(f),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return $i(s.fields,(f,d)=>{o+=f.length+sc(d)}),o}(i.mapValue);default:throw _t(13486,{value:i})}}function a_(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Bd(i){return!!i&&"integerValue"in i}function _m(i){return!!i&&"arrayValue"in i}function s_(i){return!!i&&"nullValue"in i}function l_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lc(i){return!!i&&"mapValue"in i}function vw(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Y0])===null||r===void 0?void 0:r.stringValue)===Q0}function so(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return $i(i.mapValue.fields,(r,s)=>t.mapValue.fields[r]=so(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=so(i.arrayValue.values[r]);return t}return Object.assign({},i)}function _w(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!lc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=so(r)}setAll(t){let r=nn.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!r.isImmediateParentOf(g)){const y=this.getFieldsMap(r);this.applyChanges(y,s,o),s={},o=[],r=g.popLast()}d?s[g.lastSegment()]=so(d):o.push(g.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,o)}delete(t){const r=this.field(t.popLast());lc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Ir(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=r.mapValue.fields[t.get(s)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(t,r,s){$i(r,(o,f)=>t[o]=f);for(const o of s)delete t[o]}clone(){return new _n(so(this.value))}}function K0(i){const t=[];return $i(i.fields,(r,s)=>{const o=new nn([r]);if(lc(s)){const f=K0(s.mapValue).fields;if(f.length===0)t.push(o);else for(const d of f)t.push(o.child(d))}else t.push(o)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,r,s,o,f,d,g){this.key=t,this.documentType=r,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,At.min(),At.min(),At.min(),_n.empty(),0)}static newFoundDocument(t,r,s,o){return new un(t,1,r,At.min(),s,o,0)}static newNoDocument(t,r){return new un(t,2,r,At.min(),At.min(),_n.empty(),0)}static newUnknownDocument(t,r){return new un(t,3,r,At.min(),At.min(),_n.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,r){this.position=t,this.inclusive=r}}function o_(i,t,r){let s=0;for(let o=0;o<i.position.length;o++){const f=t[o],d=i.position[o];if(f.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),r.key):s=Bs(d,r.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ir(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ew(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Oe extends X0{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new Aw(t,r,s):r==="array-contains"?new ww(t,s):r==="in"?new Dw(t,s):r==="not-in"?new Rw(t,s):r==="array-contains-any"?new Cw(t,s):new Oe(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new bw(t,s):new Sw(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Bs(r,this.value)):r!==null&&Fi(this.value)===Fi(r)&&this.matchesComparison(Bs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends X0{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new lr(t,r)}matches(t){return $0(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $0(i){return i.op==="and"}function Z0(i){return Tw(i)&&$0(i)}function Tw(i){for(const t of i.filters)if(t instanceof lr)return!1;return!0}function qd(i){if(i instanceof Oe)return i.field.canonicalString()+i.op.toString()+qs(i.value);if(Z0(i))return i.filters.map(t=>qd(t)).join(",");{const t=i.filters.map(r=>qd(r)).join(",");return`${i.op}(${t})`}}function W0(i,t){return i instanceof Oe?function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)}(i,t):i instanceof lr?function(s,o){return o instanceof lr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((f,d,g)=>f&&W0(d,o.filters[g]),!0):!1}(i,t):void _t(19439)}function J0(i){return i instanceof Oe?function(r){return`${r.field.canonicalString()} ${r.op} ${qs(r.value)}`}(i):i instanceof lr?function(r){return r.op.toString()+" {"+r.getFilters().map(J0).join(" ,")+"}"}(i):"Filter"}class Aw extends Oe{constructor(t,r,s){super(t,r,s),this.key=mt.fromName(s.referenceValue)}matches(t){const r=mt.comparator(t.key,this.key);return this.matchesComparison(r)}}class bw extends Oe{constructor(t,r){super(t,"in",r),this.keys=tE("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Sw extends Oe{constructor(t,r){super(t,"not-in",r),this.keys=tE("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function tE(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>mt.fromName(s.referenceValue))}class ww extends Oe{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return _m(r)&&vo(r.arrayValue,this.value)}}class Dw extends Oe{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&vo(this.value.arrayValue,r)}}class Rw extends Oe{constructor(t,r){super(t,"not-in",r)}matches(t){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vo(this.value.arrayValue,r)}}class Cw extends Oe{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!_m(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,r=null,s=[],o=[],f=null,d=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.Ie=null}}function c_(i,t=null,r=[],s=[],o=null,f=null,d=null){return new Ow(i,t,r,s,o,f,d)}function Em(i){const t=bt(i);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>qd(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),kc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>qs(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>qs(s)).join(",")),t.Ie=r}return t.Ie}function Tm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Ew(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!W0(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!u_(i.startAt,t.startAt)&&u_(i.endAt,t.endAt)}function Hd(i){return mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,r=null,s=[],o=[],f=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Iw(i,t,r,s,o,f,d,g){return new wo(i,t,r,s,o,f,d,g)}function eE(i){return new wo(i)}function f_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nE(i){return i.collectionGroup!==null}function lo(i){const t=bt(i);if(t.Ee===null){t.Ee=[];const r=new Set;for(const f of t.explicitOrderBy)t.Ee.push(f),r.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ue(nn.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||t.Ee.push(new Ec(f,s))}),r.has(nn.keyField().canonicalString())||t.Ee.push(new Ec(nn.keyField(),s))}return t.Ee}function Rr(i){const t=bt(i);return t.de||(t.de=Nw(t,lo(i))),t.de}function Nw(i,t){if(i.limitType==="F")return c_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new Ec(o.field,f)});const r=i.endAt?new _c(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new _c(i.startAt.position,i.startAt.inclusive):null;return c_(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function Gd(i,t){const r=i.filters.concat([t]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Fd(i,t,r){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function jc(i,t){return Tm(Rr(i),Rr(t))&&i.limitType===t.limitType}function rE(i){return`${Em(Rr(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>J0(o)).join(", ")}]`),kc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>qs(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>qs(o)).join(",")),`Target(${s})`}(Rr(i))}; limitType=${i.limitType})`}function Bc(i,t){return t.isFoundDocument()&&function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):mt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(i,t)&&function(s,o){for(const f of lo(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=o_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,lo(s),o)||s.endAt&&!function(d,g,y){const p=o_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,lo(s),o))}(i,t)}function Vw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iE(i){return(t,r)=>{let s=!1;for(const o of lo(i)){const f=Mw(o,t,r);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function Mw(i,t,r){const s=i.field.isKeyField()?mt.comparator(t.key,r.key):function(f,d,g){const y=d.data.field(f),p=g.data.field(f);return y!==null&&p!==null?Bs(y,p):_t(42886)}(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,t))return f}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],t))return void(o[f]=[t,r]);o.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$i(this.inner,(r,s)=>{for(const[o,f]of s)t(o,f)})}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new ye(mt.comparator);function si(){return xw}const aE=new ye(mt.comparator);function io(...i){let t=aE;for(const r of i)t=t.insert(r.key,r);return t}function sE(i){let t=aE;return i.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function Na(){return oo()}function lE(){return oo()}function oo(){return new Pa(i=>i.toString(),(i,t)=>i.isEqual(t))}const Uw=new ye(mt.comparator),Lw=new Ue(mt.comparator);function Lt(...i){let t=Lw;for(const r of i)t=t.add(r);return t}const Pw=new Ue(Nt);function kw(){return Pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(t)?"-0":t}}function oE(i){return{integerValue:""+i}}function zw(i,t){return hw(t)?oE(t):Am(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function jw(i,t,r){return i instanceof Tc?function(o,f){const d={fields:{[H0]:{stringValue:q0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&vm(f)&&(f=zc(f)),f&&(d.fields[G0]=f),{mapValue:d}}(r,t):i instanceof _o?cE(i,t):i instanceof Eo?fE(i,t):function(o,f){const d=uE(o,f),g=h_(d)+h_(o.Re);return Bd(d)&&Bd(o.Re)?oE(g):Am(o.serializer,g)}(i,t)}function Bw(i,t,r){return i instanceof _o?cE(i,t):i instanceof Eo?fE(i,t):r}function uE(i,t){return i instanceof Ac?function(s){return Bd(s)||function(f){return!!f&&"doubleValue"in f}(s)}(t)?t:{integerValue:0}:null}class Tc extends qc{}class _o extends qc{constructor(t){super(),this.elements=t}}function cE(i,t){const r=hE(t);for(const s of i.elements)r.some(o=>Ir(o,s))||r.push(s);return{arrayValue:{values:r}}}class Eo extends qc{constructor(t){super(),this.elements=t}}function fE(i,t){let r=hE(t);for(const s of i.elements)r=r.filter(o=>!Ir(o,s));return{arrayValue:{values:r}}}class Ac extends qc{constructor(t,r){super(),this.serializer=t,this.Re=r}}function h_(i){return Ae(i.integerValue||i.doubleValue)}function hE(i){return _m(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function qw(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof _o&&o instanceof _o||s instanceof Eo&&o instanceof Eo?js(s.elements,o.elements,Ir):s instanceof Ac&&o instanceof Ac?Ir(s.Re,o.Re):s instanceof Tc&&o instanceof Tc}(i.transform,t.transform)}class Hw{constructor(t,r){this.version=t,this.transformResults=r}}class sr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new sr}static exists(t){return new sr(void 0,t)}static updateTime(t){return new sr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Hc{}function dE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new bm(i.key,sr.none()):new Do(i.key,i.data,sr.none());{const r=i.data,s=_n.empty();let o=new Ue(nn.comparator);for(let f of t.fields)if(!o.has(f)){let d=r.field(f);d===null&&f.length>1&&(f=f.popLast(),d=r.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new Zi(i.key,s,new In(o.toArray()),sr.none())}}function Gw(i,t,r){i instanceof Do?function(o,f,d){const g=o.value.clone(),y=m_(o.fieldTransforms,f,d.transformResults);g.setAll(y),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,t,r):i instanceof Zi?function(o,f,d){if(!oc(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=m_(o.fieldTransforms,f,d.transformResults),y=f.data;y.setAll(mE(o)),y.setAll(g),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,t,r):function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,r)}function uo(i,t,r,s){return i instanceof Do?function(f,d,g,y){if(!oc(f.precondition,d))return g;const p=f.value.clone(),E=g_(f.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(i,t,r,s):i instanceof Zi?function(f,d,g,y){if(!oc(f.precondition,d))return g;const p=g_(f.fieldTransforms,y,d),E=d.data;return E.setAll(mE(f)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(S=>S.field))}(i,t,r,s):function(f,d,g){return oc(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(i,t,r)}function Fw(i,t){let r=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),f=uE(s.transform,o||null);f!=null&&(r===null&&(r=_n.empty()),r.set(s.field,f))}return r||null}function d_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&js(s,o,(f,d)=>qw(f,d))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Do extends Hc{constructor(t,r,s,o=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends Hc{constructor(t,r,s,o,f=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function mE(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}}),t}function m_(i,t,r){const s=new Map;Kt(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const f=i[o],d=f.transform,g=t.data.field(f.field);s.set(f.field,Bw(d,g,r[o]))}return s}function g_(i,t,r){const s=new Map;for(const o of i){const f=o.transform,d=r.data.field(o.field);s.set(o.field,jw(f,d,t))}return s}class bm extends Hc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw extends Hc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,r,s,o){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(t.key)&&Gw(f,t,s[o])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=uo(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=uo(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=lE();return this.mutations.forEach(o=>{const f=t.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=r.has(o.key)?null:g;const y=dE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Lt())}isEqual(t){return this.batchId===t.batchId&&js(this.mutations,t.mutations,(r,s)=>d_(r,s))&&js(this.baseMutations,t.baseMutations,(r,s)=>d_(r,s))}}class Sm{constructor(t,r,s,o){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(t,r,s){Kt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return Uw}();const f=t.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new Sm(t,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,jt;function $w(i){switch(i){case W.OK:return _t(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t(15467,{code:i})}}function gE(i){if(i===void 0)return ai("GRPC error has no .code"),W.UNKNOWN;switch(i){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return _t(39323,{code:i})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new zi([4294967295,4294967295],0);function y_(i){const t=P0().encode(i),r=new O0;return r.update(t),new Uint8Array(r.digest())}function p_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new zi([r,s],0),new zi([o,f],0)]}class wm{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ao(`Invalid padding: ${r}`);if(s<0)throw new ao(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new ao(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=zi.fromNumber(this.pe)}we(t,r,s){let o=t.add(r.multiply(zi.fromNumber(s)));return o.compare(Zw)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=y_(t),[s,o]=p_(r);for(let f=0;f<this.hashCount;f++){const d=this.we(s,o,f);if(!this.be(d))return!1}return!0}static create(t,r,s){const o=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),d=new wm(f,o,r);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const r=y_(t),[s,o]=p_(r);for(let f=0;f<this.hashCount;f++){const d=this.we(s,o,f);this.Se(d)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,r,s,o,f){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const o=new Map;return o.set(t,Ro.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Gc(At.min(),o,new ye(Nt),si(),Lt())}}class Ro{constructor(t,r,s,o,f){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Ro(s,r,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,r,s,o){this.De=t,this.removedTargetIds=r,this.key=s,this.ve=o}}class yE{constructor(t,r){this.targetId=t,this.Ce=r}}class pE{constructor(t,r,s=rn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=o}}class v_{constructor(){this.Fe=0,this.Me=__(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),r=Lt(),s=Lt();return this.Me.forEach((o,f)=>{switch(f){case 0:t=t.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:f})}}),new Ro(this.xe,this.Oe,t,r,s)}Qe(){this.Ne=!1,this.Me=__()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ww{constructor(t){this.ze=t,this.je=new Map,this.He=si(),this.Je=ec(),this.Ye=ec(),this.Ze=new ye(Nt)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const s=this.rt(r);switch(t.state){case 0:this.it(r)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(t){const r=t.targetId,s=t.Ce.count,o=this._t(r);if(o){const f=o.target;if(Hd(f))if(s===0){const d=new mt(f.path);this.tt(r,d,un.newNoDocument(d,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this.ut(r);if(d!==s){const g=this.ct(t),y=g?this.lt(g,t,d):1;if(y!==0){this.st(r);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,p)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=r;let d,g;try{d=Gi(s).toUint8Array()}catch(y){if(y instanceof B0)return zs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new wm(d,o,f)}catch(y){return zs(y instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(t,r,s){return r.Ce.count===s-this.Tt(t,r.targetId)?0:2}Tt(t,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(f=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;t.mightContain(g)||(this.tt(r,f,null),o++)}),o}It(t){const r=new Map;this.je.forEach((f,d)=>{const g=this._t(d);if(g){if(f.current&&Hd(g.target)){const y=new mt(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,un.newNoDocument(y,t))}f.Le&&(r.set(d,f.qe()),f.Qe())}});let s=Lt();this.Ye.forEach((f,d)=>{let g=!0;d.forEachWhile(y=>{const p=this._t(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(f))}),this.He.forEach((f,d)=>d.setReadTime(t));const o=new Gc(t,r,this.Ze,this.He,s);return this.He=si(),this.Je=ec(),this.Ye=ec(),this.Ze=new ye(Nt),o}et(t,r){if(!this.it(t))return;const s=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),s&&(this.He=this.He.insert(r,s))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new v_,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Ue(Nt),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Ue(Nt),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||st("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new v_),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function ec(){return new ye(mt.comparator)}function __(){return new ye(mt.comparator)}const Jw={asc:"ASCENDING",desc:"DESCENDING"},tD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eD={and:"AND",or:"OR"};class nD{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Yd(i,t){return i.useProto3Json||kc(t)?t:{value:t}}function bc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function rD(i,t){return bc(i,t.toTimestamp())}function Cr(i){return Kt(!!i,49232),At.fromTimestamp(function(r){const s=Hi(r);return new de(s.seconds,s.nanos)}(i))}function Dm(i,t){return Qd(i,t).canonicalString()}function Qd(i,t){const r=function(o){return new le(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?r:r.child(t)}function _E(i){const t=le.fromString(i);return Kt(SE(t),10190,{key:t.toString()}),t}function Kd(i,t){return Dm(i.databaseId,t.path)}function dd(i,t){const r=_E(t);if(r.get(1)!==i.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new mt(TE(r))}function EE(i,t){return Dm(i.databaseId,t)}function iD(i){const t=_E(i);return t.length===4?le.emptyPath():TE(t)}function Xd(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TE(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function E_(i,t,r){return{name:Kd(i,t),fields:r.value.mapValue.fields}}function aD(i,t){let r;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],f=function(p,E){return p.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(p){const E=p.code===void 0?W.UNKNOWN:gE(p.code);return new lt(E,p.message||"")}(d);r=new pE(s,o,f,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(i,s.document.name),f=Cr(s.document.updateTime),d=s.document.createTime?Cr(s.document.createTime):At.min(),g=new _n({mapValue:{fields:s.document.fields}}),y=un.newFoundDocument(o,f,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];r=new uc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dd(i,s.document),f=s.readTime?Cr(s.readTime):At.min(),d=un.newNoDocument(o,f),g=s.removedTargetIds||[];r=new uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dd(i,s.document),f=s.removedTargetIds||[];r=new uc([],f,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new Xw(o,f),g=s.targetId;r=new yE(g,d)}}return r}function sD(i,t){let r;if(t instanceof Do)r={update:E_(i,t.key,t.value)};else if(t instanceof bm)r={delete:Kd(i,t.key)};else if(t instanceof Zi)r={update:E_(i,t.key,t.data),updateMask:gD(t.fieldMask)};else{if(!(t instanceof Yw))return _t(16599,{ft:t.type});r={verify:Kd(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _o)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw _t(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(r.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:rD(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:_t(27497)}(i,t.precondition)),r}function lD(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map(r=>function(o,f){let d=o.updateTime?Cr(o.updateTime):Cr(f);return d.isEqual(At.min())&&(d=Cr(f)),new Hw(d,o.transformResults||[])}(r,t))):[]}function oD(i,t){return{documents:[EE(i,t.path)]}}function uD(i,t){const r={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=EE(i,o);const f=function(p){if(p.length!==0)return bE(lr.create(p,"and"))}(t.filters);f&&(r.structuredQuery.where=f);const d=function(p){if(p.length!==0)return p.map(E=>function(C){return{field:Ms(C.field),direction:hD(C.dir)}}(E))}(t.orderBy);d&&(r.structuredQuery.orderBy=d);const g=Yd(i,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:r,parent:o}}function cD(i){let t=iD(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let f=[];r.where&&(f=function(S){const C=AE(S);return C instanceof lr&&Z0(C)?C.getFilters():[C]}(r.where));let d=[];r.orderBy&&(d=function(S){return S.map(C=>function(G){return new Ec(xs(G.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(C))}(r.orderBy));let g=null;r.limit&&(g=function(S){let C;return C=typeof S=="object"?S.value:S,kc(C)?null:C}(r.limit));let y=null;r.startAt&&(y=function(S){const C=!!S.before,P=S.values||[];return new _c(P,C)}(r.startAt));let p=null;return r.endAt&&(p=function(S){const C=!S.before,P=S.values||[];return new _c(P,C)}(r.endAt)),Iw(t,o,d,f,g,"F",y,p)}function fD(i,t){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function AE(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=xs(r.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(r.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=xs(r.unaryFilter.field);return Oe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xs(r.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(i):i.fieldFilter!==void 0?function(r){return Oe.create(xs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return lr.create(r.compositeFilter.filters.map(s=>AE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(r.compositeFilter.op))}(i):_t(30097,{filter:i})}function hD(i){return Jw[i]}function dD(i){return tD[i]}function mD(i){return eD[i]}function Ms(i){return{fieldPath:i.canonicalString()}}function xs(i){return nn.fromServerFormat(i.fieldPath)}function bE(i){return i instanceof Oe?function(r){if(r.op==="=="){if(l_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NAN"}};if(s_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(l_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NOT_NAN"}};if(s_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(r.field),op:dD(r.op),value:r.value}}}(i):i instanceof lr?function(r){const s=r.getFilters().map(o=>bE(o));return s.length===1?s[0]:{compositeFilter:{op:mD(r.op),filters:s}}}(i):_t(54877,{filter:i})}function gD(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function SE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,r,s,o,f=At.min(),d=At.min(),g=rn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Li(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.wt=t}}function pD(i){const t=cD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.yn=new _D}addToCollectionParentIndex(t,r){return this.yn.add(r),Z.resolve()}getCollectionParents(t,r){return Z.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return Z.resolve()}deleteFieldIndex(t,r){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,r){return Z.resolve()}getDocumentsMatchingTarget(t,r){return Z.resolve(null)}getIndexType(t,r){return Z.resolve(0)}getFieldIndexes(t,r){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,r){return Z.resolve(qi.min())}getMinOffsetFromCollectionGroup(t,r){return Z.resolve(qi.min())}updateCollectionGroup(t,r,s){return Z.resolve()}updateIndexEntries(t,r){return Z.resolve()}}class _D{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r]||new Ue(le.comparator),f=!o.has(s);return this.index[r]=o.add(s),f}has(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ue(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(wE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Hs(0)}static ir(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",ED=1048576;function b_([i,t],[r,s]){const o=Nt(i,r);return o===0?Nt(t,s):o}class TD{constructor(t){this.cr=t,this.buffer=new Ue(b_),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();b_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class AD{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){st(A_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Zs(r)?st(A_,"Ignoring IndexedDB error during garbage collection: ",r):await $s(r)}await this.Ir(3e5)})}}class bD{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(r===0)return Z.resolve(Pc.le);const s=new TD(r);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Er.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(T_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let s,o,f,d,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(t,s,r))).next(S=>(f=S,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(p=Date.now(),Ns()<=Bt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${f} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:S})))}}function SD(i,t){return new bD(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.changes=new Pa(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?Z.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,r,s,o){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,r))).next(o=>(s!==null&&uo(s.mutation,o,In.empty(),de.now()),o))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Lt()){const o=Na();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,s).next(f=>{let d=io();return f.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,r){const s=Na();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Lt()))}populateOverlays(t,r,s){const o=[];return s.forEach(f=>{r.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(t,o).next(f=>{f.forEach((d,g)=>{r.set(d,g)})})}computeViews(t,r,s,o){let f=si();const d=oo(),g=function(){return oo()}();return r.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Zi)?f=f.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),uo(E.mutation,p,E.mutation.getFieldMask(),de.now())):d.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(t,f).next(y=>(y.forEach((p,E)=>d.set(p,E)),r.forEach((p,E)=>{var S;return g.set(p,new DD(E,(S=d.get(p))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(t,r){const s=oo();let o=new ye((d,g)=>d-g),f=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=r.get(y);if(p===null)return;let E=s.get(y)||In.empty();E=g.applyToLocalView(p,E),s.set(y,E);const S=(o.get(g.batchId)||Lt()).add(y);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,S=lE();E.forEach(C=>{if(!f.has(C)){const P=dE(r.get(C),s.get(C));P!==null&&S.set(C,P),f=f.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):nE(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,o):this.getDocumentsMatchingCollectionQuery(t,r,s,o)}getNextDocuments(t,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,o).next(f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,o-f.size):Z.resolve(Na());let g=go,y=f;return d.next(p=>Z.forEach(p,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),f.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(C=>{y=y.insert(E,C)}))).next(()=>this.populateOverlays(t,p,f)).next(()=>this.computeViews(t,y,p,Lt())).next(E=>({batchId:g,changes:sE(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new mt(r)).next(s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,r,s,o){const f=r.collectionGroup;let d=io();return this.indexManager.getCollectionParents(t,f).next(g=>Z.forEach(g,y=>{const p=function(S,C){return new wo(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(r,y.child(f));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next(E=>{E.forEach((S,C)=>{d=d.insert(S,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,r,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,f,o))).next(d=>{f.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,un.newInvalidDocument(E)))});let g=io();return d.forEach((y,p)=>{const E=f.get(y);E!==void 0&&uo(E.mutation,p,In.empty(),de.now()),Bc(r,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return Z.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(r)),Z.resolve()}getNamedQuery(t,r){return Z.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:Cr(o.readTime)}}(r)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new ye(mt.comparator),this.Or=new Map}getOverlay(t,r){return Z.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Na();return Z.forEach(r,o=>this.getOverlay(t,o).next(f=>{f!==null&&s.set(o,f)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((o,f)=>{this.St(t,r,f)}),Z.resolve()}removeOverlaysForBatchId(t,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(t,r,s){const o=Na(),f=r.length+1,d=new mt(r.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!r.isPrefixOf(p.path))break;p.path.length===f&&y.largestBatchId>s&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,r,s,o){let f=new ye((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===r&&p.largestBatchId>s){let E=f.get(p.largestBatchId);E===null&&(E=Na(),f=f.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Na(),y=f.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return Z.resolve(g)}St(t,r,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Kw(r,s));let f=this.Or.get(r);f===void 0&&(f=Lt(),this.Or.set(r,f)),this.Or.set(r,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Nr=new Ue(qe.Br),this.Lr=new Ue(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const s=new qe(t,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Qr(new qe(t,r))}$r(t,r){t.forEach(s=>this.removeReference(s,r))}Ur(t){const r=new mt(new le([])),s=new qe(r,t),o=new qe(r,t+1),f=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),f.push(d.key)}),f}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new mt(new le([])),s=new qe(r,t),o=new qe(r,t+1);let f=Lt();return this.Lr.forEachInRange([s,o],d=>{f=f.add(d.key)}),f}containsKey(t){const r=new qe(t,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return mt.comparator(t.key,r.key)||Nt(t.Gr,r.Gr)}static kr(t,r){return Nt(t.Gr,r.Gr)||mt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ue(qe.Br)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,o){const f=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Qw(f,r,s,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new qe(g.key,f)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,r){return Z.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,o=this.Hr(s),f=o<0?0:o;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?pm:this.Jn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new qe(r,0),o=new qe(r,Number.POSITIVE_INFINITY),f=[];return this.zr.forEachInRange([s,o],d=>{const g=this.jr(d.Gr);f.push(g)}),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Ue(Nt);return r.forEach(o=>{const f=new qe(o,0),d=new qe(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([f,d],g=>{s=s.add(g.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,o=s.length+1;let f=s;mt.isDocumentKey(f)||(f=f.child(""));const d=new qe(new mt(f),0);let g=new Ue(Nt);return this.zr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Gr)),!0)},d),Z.resolve(this.Jr(g))}Jr(t){const r=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(t,r){Kt(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(r.mutations,o=>{const f=new qe(o.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,r){const s=new qe(r,0),o=this.zr.firstAfterOrEqual(s);return Z.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.Zr=t,this.docs=function(){return new ye(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,o=this.docs.get(s),f=o?o.size:0,d=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return Z.resolve(s?s.document.mutableCopy():un.newInvalidDocument(r))}getEntries(t,r){let s=si();return r.forEach(o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():un.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,r,s,o){let f=si();const d=r.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||ow(lw(E),s)<=0||(o.has(E.key)||Bc(r,E))&&(f=f.insert(E.key,E.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(t,r,s,o){_t(9500)}Xr(t,r){return Z.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new MD(this)}getSize(t){return Z.resolve(this.size)}}class MD extends wD{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),Z.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.persistence=t,this.ei=new Pa(r=>Em(r),Tm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rm,this.targetCount=0,this.ri=Hs.rr()}forEachTarget(t,r){return this.ei.forEach((s,o)=>r(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),Z.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new Hs(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,Z.resolve()}updateTargetData(t,r){return this.ar(r),Z.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,r,s){let o=0;const f=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=r&&s.get(g.targetId)===null&&(this.ei.delete(d),f.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),Z.waitFor(f).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,r){const s=this.ei.get(r)||null;return Z.resolve(s)}addMatchingKeys(t,r,s){return this.ni.qr(r,s),Z.resolve()}removeMatchingKeys(t,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,f=[];return o&&r.forEach(d=>{f.push(o.markPotentiallyOrphaned(t,d))}),Z.waitFor(f)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),Z.resolve()}getMatchingKeysForTargetId(t,r){const s=this.ni.Wr(r);return Z.resolve(s)}containsKey(t,r){return Z.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,r){this.ii={},this.overlays={},this.si=new Pc(0),this.oi=!1,this.oi=!0,this._i=new ID,this.referenceDelegate=t(this),this.ai=new xD(this),this.indexManager=new vD,this.remoteDocumentCache=function(o){return new VD(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new yD(r),this.ci=new CD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new OD,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ii[t.toKey()];return s||(s=new ND(r,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,s){st("MemoryPersistence","Starting transaction:",t);const o=new UD(this.si.next());return this.referenceDelegate.li(),s(o).next(f=>this.referenceDelegate.hi(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Pi(t,r){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,r)))}}class UD extends cw{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.Ti=new Rm,this.Ii=null}static Ei(t){return new Cm(t)}get di(){if(this.Ii)return this.Ii;throw _t(60996)}addReference(t,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),Z.resolve()}removeReference(t,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),Z.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(o=>{o.forEach(f=>this.di.add(f.toString()))}).next(()=>s.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const o=mt.fromPath(s);return this.Ai(t,o).next(f=>{f||r.removeEntry(o,At.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return Z.or([()=>Z.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class Sc{constructor(t,r){this.persistence=t,this.Ri=new Pa(s=>dw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SD(this,r)}static Ei(t,r){return new Sc(t,r)}li(){}hi(t){return Z.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>r.next(o=>s+o))}Vr(t){let r=0;return this.Ar(t,s=>{r++}).next(()=>r)}Ar(t,r){return Z.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(f=>f?Z.resolve():r(o)))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.Xr(t,d=>this.gr(t,d,r).next(g=>{g||(s++,f.removeEntry(d,At.min()))})).next(()=>f.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),Z.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,r,s){return this.Ri.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),Z.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=sc(t.data.value)),r}gr(t,r,s){return Z.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const o=this.Ri.get(r);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,r,s,o){this.targetId=t,this.fromCache=r,this.ls=s,this.hs=o}static Ps(t,r){let s=Lt(),o=Lt();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Om(t,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return NS()?8:fw(OS())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,s,o){const f={result:null};return this.Rs(t,r).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.Vs(t,r,o,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new LD;return this.fs(t,r,d).next(g=>{if(f.result=g,this.Is)return this.gs(t,r,d,g.size)})}).next(()=>f.result)}gs(t,r,s,o){return s.documentReadCount<this.Es?(Ns()<=Bt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Vs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(Ns()<=Bt.DEBUG&&st("QueryEngine","Query:",Vs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ns()<=Bt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Vs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(r))):Z.resolve())}Rs(t,r){if(f_(r))return Z.resolve(null);let s=Rr(r);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Fd(r,null,"F"),s=Rr(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const d=Lt(...f);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const p=this.ps(r,g);return this.ys(r,p,d,y.readTime)?this.Rs(t,Fd(r,null,"F")):this.ws(t,p,r,y)}))})))}Vs(t,r,s,o){return f_(r)||o.isEqual(At.min())?Z.resolve(null):this.As.getDocuments(t,s).next(f=>{const d=this.ps(r,f);return this.ys(r,d,s,o)?Z.resolve(null):(Ns()<=Bt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vs(r)),this.ws(t,d,r,sw(o,go)).next(g=>g))})}ps(t,r){let s=new Ue(iE(t));return r.forEach((o,f)=>{Bc(t,f)&&(s=s.add(f))}),s}ys(t,r,s,o){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const f=t.limitType==="F"?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}fs(t,r,s){return Ns()<=Bt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Vs(r)),this.As.getDocumentsMatchingQuery(t,r,qi.min(),s)}ws(t,r,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(f=>(r.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",kD=3e8;class zD{constructor(t,r,s,o){this.persistence=t,this.bs=r,this.serializer=o,this.Ss=new ye(Nt),this.Ds=new Pa(f=>Em(f),Tm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function jD(i,t,r,s){return new zD(i,t,r,s)}async function RE(i,t){const r=bt(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(f=>(o=f,r.Fs(t),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let y=Lt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of f){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return r.localDocuments.getDocuments(s,y).next(p=>({Ms:p,removedBatchIds:d,addedBatchIds:g}))})})}function BD(i,t){const r=bt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),f=r.Cs.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const S=p.batch,C=S.keys();let P=Z.resolve();return C.forEach(G=>{P=P.next(()=>E.getEntry(y,G)).next(K=>{const F=p.docVersions.get(G);Kt(F!==null,48541),K.version.compareTo(F)<0&&(S.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(y,S))}(r,s,t,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Lt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(t))).next(()=>r.localDocuments.getDocuments(s,o))})}function CE(i){const t=bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function qD(i,t){const r=bt(i),s=t.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const g=[];t.targetChanges.forEach((E,S)=>{const C=o.get(S);if(!C)return;g.push(r.ai.removeMatchingKeys(f,E.removedDocuments,S).next(()=>r.ai.addMatchingKeys(f,E.addedDocuments,S)));let P=C.withSequenceNumber(f.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(rn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(K,F,et){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=kD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(C,P,E)&&g.push(r.ai.updateTargetData(f,P))});let y=si(),p=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(f,E))}),g.push(HD(f,d,t.documentUpdates).next(E=>{y=E.xs,p=E.Os})),!s.isEqual(At.min())){const E=r.ai.getLastRemoteSnapshotVersion(f).next(S=>r.ai.setTargetsMetadata(f,f.currentSequenceNumber,s));g.push(E)}return Z.waitFor(g).next(()=>d.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,y,p)).next(()=>y)}).then(f=>(r.Ss=o,f))}function HD(i,t,r){let s=Lt(),o=Lt();return r.forEach(f=>s=s.add(f)),t.getEntries(i,s).next(f=>{let d=si();return r.forEach((g,y)=>{const p=f.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(Im,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{xs:d,Os:o}})}function GD(i,t){const r=bt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function FD(i,t){const r=bt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,t).next(f=>f?(o=f,Z.resolve(o)):r.ai.allocateTargetId(s).next(d=>(o=new Li(t,d,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(t,s.targetId)),s})}async function $d(i,t,r){const s=bt(i),o=s.Ss.get(t),f=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Zs(d))throw d;st(Im,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function S_(i,t,r){const s=bt(i);let o=At.min(),f=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const S=bt(y),C=S.Ds.get(E);return C!==void 0?Z.resolve(S.Ss.get(C)):S.ai.getTargetData(p,E)}(s,d,Rr(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(y=>{f=y})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,r?o:At.min(),r?f:Lt())).next(g=>(YD(s,Vw(t),g),{documents:g,Ns:f})))}function YD(i,t,r){let s=i.vs.get(t)||At.min();r.forEach((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),i.vs.set(t,s)}class w_{constructor(){this.activeTargetIds=kw()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QD{constructor(){this.So=new w_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,s){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new w_,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class R_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){st(D_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){st(D_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Zd(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",XD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,r,s,o,f){const d=Zd(),g=this.$o(t,r.toUriEncodedString());st(md,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(y,o,f),this.Ko(t,g,y,s).then(p=>(st(md,`Received RPC '${t}' ${d}: `,p),p),p=>{throw zs(md,`RPC '${t}' ${d} failed with error: `,p,"url: ",g,"request:",s),p})}Wo(t,r,s,o,f,d){return this.Qo(t,r,s,o,f)}Uo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,f)=>t[f]=o),s&&s.headers.forEach((o,f)=>t[f]=o)}$o(t,r){const s=XD[t];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class WD extends $D{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,s,o){const f=Zd();return new Promise((d,g)=>{const y=new I0;y.setWithCredentials(!0),y.listenOnce(N0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ac.NO_ERROR:const E=y.getResponseJson();st(ln,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(E)),d(E);break;case ac.TIMEOUT:st(ln,`RPC '${t}' ${f} timed out`),g(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const S=y.getStatus();if(st(ln,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const G=function(F){const et=F.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(et)>=0?et:W.UNKNOWN}(P.status);g(new lt(G,P.message))}else g(new lt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new lt(W.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{s_:t,streamId:f,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{st(ln,`RPC '${t}' ${f} completed.`)}});const p=JSON.stringify(o);st(ln,`RPC '${t}' ${f} sending request:`,o),y.send(r,"POST",p,s,15)})}a_(t,r,s){const o=Zd(),f=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=x0(),g=M0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Uo(y.initMessageHeaders,r,s),y.encodeInitMessageHeaders=!0;const E=f.join("");st(ln,`Creating RPC '${t}' stream ${o}: ${E}`,y);const S=d.createWebChannel(E,y);let C=!1,P=!1;const G=new ZD({Go:F=>{P?st(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(C||(st(ln,`Opening RPC '${t}' stream ${o} transport.`),S.open(),C=!0),st(ln,`RPC '${t}' stream ${o} sending:`,F),S.send(F))},zo:()=>S.close()}),K=(F,et,ot)=>{F.listen(et,ct=>{try{ot(ct)}catch(vt){setTimeout(()=>{throw vt},0)}})};return K(S,ro.EventType.OPEN,()=>{P||(st(ln,`RPC '${t}' stream ${o} transport opened.`),G.t_())}),K(S,ro.EventType.CLOSE,()=>{P||(P=!0,st(ln,`RPC '${t}' stream ${o} transport closed`),G.r_())}),K(S,ro.EventType.ERROR,F=>{P||(P=!0,zs(ln,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),G.r_(new lt(W.UNAVAILABLE,"The operation could not be completed")))}),K(S,ro.EventType.MESSAGE,F=>{var et;if(!P){const ot=F.data[0];Kt(!!ot,16349);const ct=ot,vt=(ct==null?void 0:ct.error)||((et=ct[0])===null||et===void 0?void 0:et.error);if(vt){st(ln,`RPC '${t}' stream ${o} received error:`,vt);const at=vt.status;let St=function(R){const I=Ce[R];if(I!==void 0)return gE(I)}(at),V=vt.message;St===void 0&&(St=W.INTERNAL,V="Unknown error status: "+at+" with message "+vt.message),P=!0,G.r_(new lt(St,V)),S.close()}else st(ln,`RPC '${t}' stream ${o} received:`,ot),G.i_(ot)}}),K(g,V0.STAT_EVENT,F=>{F.stat===kd.PROXY?st(ln,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===kd.NOPROXY&&st(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.n_()},0),G}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(i){return new nD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,r,s=1e3,o=1.5,f=6e4){this.bi=t,this.timerId=r,this.u_=s,this.c_=o,this.l_=f,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class IE{constructor(t,r,s,o,f,d,g,y){this.bi=t,this.R_=s,this.V_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new OE(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(ai(r.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{t(()=>{const o=new lt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,r){const s=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return st(C_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(st(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JD extends IE{constructor(t,r,s,o,f,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,d),this.serializer=f}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=aD(this.serializer,t),s=function(f){if(!("targetChange"in f))return At.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Cr(d.readTime):At.min()}(t);return this.listener.Q_(r,s)}U_(t){const r={};r.database=Xd(this.serializer),r.addTarget=function(f,d){let g;const y=d.target;if(g=Hd(y)?{documents:oD(f,y)}:{query:uD(f,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vE(f,d.resumeToken);const p=Yd(f,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=bc(f,d.snapshotVersion.toTimestamp());const p=Yd(f,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const s=fD(this.serializer,t);s&&(r.labels=s),this.F_(r)}K_(t){const r={};r.database=Xd(this.serializer),r.removeTarget=t,this.F_(r)}}class tR extends IE{constructor(t,r,s,o,f,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,d),this.serializer=f}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=lD(t.writeResults,t.commitTime),s=Cr(t.commitTime);return this.listener.j_(s,r)}H_(){const t={};t.database=Xd(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>sD(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{}class nR extends eR{constructor(t,r,s,o){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Qo(t,Qd(r,s),o,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(W.UNKNOWN,f.toString())})}Wo(t,r,s,o,f){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Qd(r,s),o,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(W.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rR{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ai(r),this.ea=!1):st("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class iR{constructor(t,r,s,o,f){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=f,this.ca.vo(d=>{s.enqueueAndForget(async()=>{ka(this)&&(st(xa,"Restarting streams for network reachability change."),await async function(y){const p=bt(y);p.aa.add(4),await Co(p),p.la.set("Unknown"),p.aa.delete(4),await Yc(p)}(this))})}),this.la=new rR(s,o)}}async function Yc(i){if(ka(i))for(const t of i.ua)await t(!0)}async function Co(i){for(const t of i.ua)await t(!1)}function NE(i,t){const r=bt(i);r._a.has(t.targetId)||(r._a.set(t.targetId,t),xm(r)?Mm(r):Ws(r).b_()&&Vm(r,t))}function Nm(i,t){const r=bt(i),s=Ws(r);r._a.delete(t),s.b_()&&VE(r,t),r._a.size===0&&(s.b_()?s.v_():ka(r)&&r.la.set("Unknown"))}function Vm(i,t){if(i.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ws(i).U_(t)}function VE(i,t){i.ha.Ke(t),Ws(i).K_(t)}function Mm(i){i.ha=new Ww({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i._a.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),Ws(i).start(),i.la.ta()}function xm(i){return ka(i)&&!Ws(i).w_()&&i._a.size>0}function ka(i){return bt(i).aa.size===0}function ME(i){i.ha=void 0}async function aR(i){i.la.set("Online")}async function sR(i){i._a.forEach((t,r)=>{Vm(i,t)})}async function lR(i,t){ME(i),xm(i)?(i.la.ia(t),Mm(i)):i.la.set("Unknown")}async function oR(i,t,r){if(i.la.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await async function(o,f){const d=f.cause;for(const g of f.targetIds)o._a.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o._a.delete(g),o.ha.removeTarget(g))}(i,t)}catch(s){st(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wc(i,s)}else if(t instanceof uc?i.ha.Xe(t):t instanceof yE?i.ha.ot(t):i.ha.nt(t),!r.isEqual(At.min()))try{const s=await CE(i.localStore);r.compareTo(s)>=0&&await function(f,d){const g=f.ha.It(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=f._a.get(p);E&&f._a.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=f._a.get(y);if(!E)return;f._a.set(y,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),VE(f,y);const S=new Li(E.target,y,p,E.sequenceNumber);Vm(f,S)}),f.remoteSyncer.applyRemoteEvent(g)}(i,r)}catch(s){st(xa,"Failed to raise snapshot:",s),await wc(i,s)}}async function wc(i,t,r){if(!Zs(t))throw t;i.aa.add(1),await Co(i),i.la.set("Offline"),r||(r=()=>CE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{st(xa,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await Yc(i)})}function xE(i,t){return t().catch(r=>wc(i,r,t))}async function Qc(i){const t=bt(i),r=Yi(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:pm;for(;uR(t);)try{const o=await GD(t.localStore,s);if(o===null){t.oa.length===0&&r.v_();break}s=o.batchId,cR(t,o)}catch(o){await wc(t,o)}UE(t)&&LE(t)}function uR(i){return ka(i)&&i.oa.length<10}function cR(i,t){i.oa.push(t);const r=Yi(i);r.b_()&&r.W_&&r.G_(t.mutations)}function UE(i){return ka(i)&&!Yi(i).w_()&&i.oa.length>0}function LE(i){Yi(i).start()}async function fR(i){Yi(i).H_()}async function hR(i){const t=Yi(i);for(const r of i.oa)t.G_(r.mutations)}async function dR(i,t,r){const s=i.oa.shift(),o=Sm.from(s,t,r);await xE(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Qc(i)}async function mR(i,t){t&&Yi(i).W_&&await async function(s,o){if(function(d){return $w(d)&&d!==W.ABORTED}(o.code)){const f=s.oa.shift();Yi(s).D_(),await xE(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),await Qc(s)}}(i,t),UE(i)&&LE(i)}async function O_(i,t){const r=bt(i);r.asyncQueue.verifyOperationInProgress(),st(xa,"RemoteStore received new credentials");const s=ka(r);r.aa.add(3),await Co(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await Yc(r)}async function gR(i,t){const r=bt(i);t?(r.aa.delete(2),await Yc(r)):t||(r.aa.add(2),await Co(r),r.la.set("Unknown"))}function Ws(i){return i.Pa||(i.Pa=function(r,s,o){const f=bt(r);return f.Y_(),new JD(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(i.datastore,i.asyncQueue,{jo:aR.bind(null,i),Jo:sR.bind(null,i),Zo:lR.bind(null,i),Q_:oR.bind(null,i)}),i.ua.push(async t=>{t?(i.Pa.D_(),xm(i)?Mm(i):i.la.set("Unknown")):(await i.Pa.stop(),ME(i))})),i.Pa}function Yi(i){return i.Ta||(i.Ta=function(r,s,o){const f=bt(r);return f.Y_(),new tR(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:fR.bind(null,i),Zo:mR.bind(null,i),z_:hR.bind(null,i),j_:dR.bind(null,i)}),i.ua.push(async t=>{t?(i.Ta.D_(),await Qc(i)):(await i.Ta.stop(),i.oa.length>0&&(st(xa,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,r,s,o,f){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,o,f){const d=Date.now()+s,g=new Um(t,r,d,o,f);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(i,t){if(ai("AsyncQueue",`${t}: ${i}`),Zs(i))return new lt(W.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{static emptySet(t){return new ks(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||mt.comparator(r.key,s.key):(r,s)=>mt.comparator(r.key,s.key),this.keyedMap=io(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ks)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new ks;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.Ia=new ye(mt.comparator)}track(t){const r=t.doc.key,s=this.Ia.get(r);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(r):t.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):_t(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,s)=>{t.push(s)}),t}}class Gs{constructor(t,r,s,o,f,d,g,y,p){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,r,s,o,f){const d=[];return r.forEach(g=>{d.push({type:0,doc:g})}),new Gs(t,r,ks.emptySet(r),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class pR{constructor(){this.queries=N_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=bt(r),f=o.queries;o.queries=N_(),f.forEach((d,g)=>{for(const y of g.Ra)y.onError(s)})})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function N_(){return new Pa(i=>rE(i),jc)}async function vR(i,t){const r=bt(i);let s=3;const o=t.query;let f=r.queries.get(o);f?!f.Va()&&t.ma()&&(s=2):(f=new yR,s=t.ma()?0:1);try{switch(s){case 0:f.Aa=await r.onListen(o,!0);break;case 1:f.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(d){const g=Lm(d,`Initialization of query '${Vs(t.query)}' failed`);return void t.onError(g)}r.queries.set(o,f),f.Ra.push(t),t.ga(r.onlineState),f.Aa&&t.pa(f.Aa)&&Pm(r)}async function _R(i,t){const r=bt(i),s=t.query;let o=3;const f=r.queries.get(s);if(f){const d=f.Ra.indexOf(t);d>=0&&(f.Ra.splice(d,1),f.Ra.length===0?o=t.ma()?0:1:!f.Va()&&t.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function ER(i,t){const r=bt(i);let s=!1;for(const o of t){const f=o.query,d=r.queries.get(f);if(d){for(const g of d.Ra)g.pa(o)&&(s=!0);d.Aa=o}}s&&Pm(r)}function TR(i,t,r){const s=bt(i),o=s.queries.get(t);if(o)for(const f of o.Ra)f.onError(r);s.queries.delete(t)}function Pm(i){i.fa.forEach(t=>{t.next()})}var Wd,V_;(V_=Wd||(Wd={})).ya="default",V_.Cache="cache";class AR{constructor(t,r,s){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Gs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=Gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.key=t}}class kE{constructor(t){this.key=t}}class bR{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=iE(t),this.Ka=new ks(this.Ua)}get Wa(){return this.qa}Ga(t,r){const s=r?r.za:new I_,o=r?r.Ka:this.Ka;let f=r?r.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const C=o.get(E),P=Bc(this.query,S)?S:null,G=!!C&&this.mutatedKeys.has(C.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;C&&P?C.data.isEqual(P.data)?G!==K&&(s.track({type:3,doc:P}),F=!0):this.ja(C,P)||(s.track({type:2,doc:P}),F=!0,(y&&this.Ua(P,y)>0||p&&this.Ua(P,p)<0)&&(g=!0)):!C&&P?(s.track({type:0,doc:P}),F=!0):C&&!P&&(s.track({type:1,doc:C}),F=!0,(y||p)&&(g=!0)),F&&(P?(d=d.add(P),f=K?f.add(E):f.delete(E)):(d=d.delete(E),f=f.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),f=f.delete(E.key),s.track({type:1,doc:E})}return{Ka:d,za:s,ys:g,mutatedKeys:f}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,o){const f=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((E,S)=>function(P,G){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:F})}};return K(P)-K(G)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const g=r&&!o?this.Ja():[],y=this.$a.size===0&&this.current&&!o?1:0,p=y!==this.Qa;return this.Qa=y,d.length!==0||p?{snapshot:new Gs(this.query,t.Ka,f,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new I_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return t.forEach(s=>{this.$a.has(s)||r.push(new kE(s))}),this.$a.forEach(s=>{t.has(s)||r.push(new PE(s))}),r}Xa(t){this.qa=t.Ns,this.$a=Lt();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return Gs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const km="SyncEngine";class SR{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class wR{constructor(t){this.key=t,this.tu=!1}}class DR{constructor(t,r,s,o,f,d){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Pa(g=>rE(g),jc),this.iu=new Map,this.su=new Set,this.ou=new ye(mt.comparator),this._u=new Map,this.au=new Rm,this.uu={},this.cu=new Map,this.lu=Hs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function RR(i,t,r=!0){const s=GE(i);let o;const f=s.ru.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.eu()):o=await zE(s,t,r,!0),o}async function CR(i,t){const r=GE(i);await zE(r,t,!0,!1)}async function zE(i,t,r,s){const o=await FD(i.localStore,Rr(t)),f=o.targetId,d=i.sharedClientState.addLocalQueryTarget(f,r);let g;return s&&(g=await OR(i,t,f,d==="current",o.resumeToken)),i.isPrimaryClient&&r&&NE(i.remoteStore,o),g}async function OR(i,t,r,s,o){i.Pu=(S,C,P)=>async function(K,F,et,ot){let ct=F.view.Ga(et);ct.ys&&(ct=await S_(K.localStore,F.query,!1).then(({documents:V})=>F.view.Ga(V,ct)));const vt=ot&&ot.targetChanges.get(F.targetId),at=ot&&ot.targetMismatches.get(F.targetId)!=null,St=F.view.applyChanges(ct,K.isPrimaryClient,vt,at);return x_(K,F.targetId,St.Ya),St.snapshot}(i,S,C,P);const f=await S_(i.localStore,t,!0),d=new bR(t,f.Ns),g=d.Ga(f.documents),y=Ro.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),p=d.applyChanges(g,i.isPrimaryClient,y);x_(i,r,p.Ya);const E=new SR(t,r,d);return i.ru.set(t,E),i.iu.has(r)?i.iu.get(r).push(t):i.iu.set(r,[t]),p.snapshot}async function IR(i,t,r){const s=bt(i),o=s.ru.get(t),f=s.iu.get(o.targetId);if(f.length>1)return s.iu.set(o.targetId,f.filter(d=>!jc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Nm(s.remoteStore,o.targetId),Jd(s,o.targetId)}).catch($s)):(Jd(s,o.targetId),await $d(s.localStore,o.targetId,!0))}async function NR(i,t){const r=bt(i),s=r.ru.get(t),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(r.remoteStore,s.targetId))}async function VR(i,t,r){const s=zR(i);try{const o=await function(d,g){const y=bt(d),p=de.now(),E=g.reduce((P,G)=>P.add(G.key),Lt());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>{let G=si(),K=Lt();return y.Cs.getEntries(P,E).next(F=>{G=F,G.forEach((et,ot)=>{ot.isValidDocument()||(K=K.add(et))})}).next(()=>y.localDocuments.getOverlayedDocuments(P,G)).next(F=>{S=F;const et=[];for(const ot of g){const ct=Fw(ot,S.get(ot.key).overlayedDocument);ct!=null&&et.push(new Zi(ot.key,ct,K0(ct.value.mapValue),sr.exists(!0)))}return y.mutationQueue.addMutationBatch(P,p,et,g)}).next(F=>{C=F;const et=F.applyToLocalDocumentSet(S,K);return y.documentOverlayCache.saveOverlays(P,F.batchId,et)})}).then(()=>({batchId:C.batchId,changes:sE(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.uu[d.currentUser.toKey()];p||(p=new ye(Nt)),p=p.insert(g,y),d.uu[d.currentUser.toKey()]=p}(s,o.batchId,r),await Oo(s,o.changes),await Qc(s.remoteStore)}catch(o){const f=Lm(o,"Failed to persist write");r.reject(f)}}async function jE(i,t){const r=bt(i);try{const s=await qD(r.localStore,t);t.targetChanges.forEach((o,f)=>{const d=r._u.get(f);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?Kt(d.tu,14607):o.removedDocuments.size>0&&(Kt(d.tu,42227),d.tu=!1))}),await Oo(r,s,t)}catch(s){await $s(s)}}function M_(i,t,r){const s=bt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((f,d)=>{const g=d.view.ga(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=bt(d);y.onlineState=g;let p=!1;y.queries.forEach((E,S)=>{for(const C of S.Ra)C.ga(g)&&(p=!0)}),p&&Pm(y)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MR(i,t,r){const s=bt(i);s.sharedClientState.updateQueryState(t,"rejected",r);const o=s._u.get(t),f=o&&o.key;if(f){let d=new ye(mt.comparator);d=d.insert(f,un.newNoDocument(f,At.min()));const g=Lt().add(f),y=new Gc(At.min(),new Map,new ye(Nt),d,g);await jE(s,y),s.ou=s.ou.remove(f),s._u.delete(t),zm(s)}else await $d(s.localStore,t,!1).then(()=>Jd(s,t,r)).catch($s)}async function xR(i,t){const r=bt(i),s=t.batch.batchId;try{const o=await BD(r.localStore,t);qE(r,s,null),BE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Oo(r,o)}catch(o){await $s(o)}}async function UR(i,t,r){const s=bt(i);try{const o=await function(d,g){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(S=>(Kt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,t);qE(s,t,r),BE(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await Oo(s,o)}catch(o){await $s(o)}}function BE(i,t){(i.cu.get(t)||[]).forEach(r=>{r.resolve()}),i.cu.delete(t)}function qE(i,t,r){const s=bt(i);let o=s.uu[s.currentUser.toKey()];if(o){const f=o.get(t);f&&(r?f.reject(r):f.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function Jd(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.iu.get(t))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(t),i.isPrimaryClient&&i.au.Ur(t).forEach(s=>{i.au.containsKey(s)||HE(i,s)})}function HE(i,t){i.su.delete(t.path.canonicalString());const r=i.ou.get(t);r!==null&&(Nm(i.remoteStore,r),i.ou=i.ou.remove(t),i._u.delete(r),zm(i))}function x_(i,t,r){for(const s of r)s instanceof PE?(i.au.addReference(s.key,t),LR(i,s)):s instanceof kE?(st(km,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,t),i.au.containsKey(s.key)||HE(i,s.key)):_t(19791,{Iu:s})}function LR(i,t){const r=t.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(st(km,"New document in limbo: "+r),i.su.add(s),zm(i))}function zm(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const t=i.su.values().next().value;i.su.delete(t);const r=new mt(le.fromString(t)),s=i.lu.next();i._u.set(s,new wR(r)),i.ou=i.ou.insert(r,s),NE(i.remoteStore,new Li(Rr(eE(r.path)),s,"TargetPurposeLimboResolution",Pc.le))}}async function Oo(i,t,r){const s=bt(i),o=[],f=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,y)=>{d.push(s.Pu(y,t,r).then(p=>{var E;if((p||r)&&s.isPrimaryClient){const S=p?!p.fromCache:(E=r==null?void 0:r.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(p){o.push(p);const S=Om.Ps(y.targetId,p);f.push(S)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(y,p){const E=bt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(p,C=>Z.forEach(C.ls,P=>E.persistence.referenceDelegate.addReference(S,C.targetId,P)).next(()=>Z.forEach(C.hs,P=>E.persistence.referenceDelegate.removeReference(S,C.targetId,P)))))}catch(S){if(!Zs(S))throw S;st(Im,"Failed to update sequence numbers: "+S)}for(const S of p){const C=S.targetId;if(!S.fromCache){const P=E.Ss.get(C),G=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(G);E.Ss=E.Ss.insert(C,K)}}}(s.localStore,f))}async function PR(i,t){const r=bt(i);if(!r.currentUser.isEqual(t)){st(km,"User change. New user:",t.toKey());const s=await RE(r.localStore,t);r.currentUser=t,function(f,d){f.cu.forEach(g=>{g.forEach(y=>{y.reject(new lt(W.CANCELLED,d))})}),f.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Oo(r,s.Ms)}}function kR(i,t){const r=bt(i),s=r._u.get(t);if(s&&s.tu)return Lt().add(s.key);{let o=Lt();const f=r.iu.get(t);if(!f)return o;for(const d of f){const g=r.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function GE(i){const t=bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MR.bind(null,t),t.nu.Q_=ER.bind(null,t.eventManager),t.nu.Tu=TR.bind(null,t.eventManager),t}function zR(i){const t=bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UR.bind(null,t),t}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return jD(this.persistence,new PD,t.initialUser,this.serializer)}Ru(t){return new DE(Cm.Ei,this.serializer)}Au(t){return new QD}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class jR extends Dc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Kt(this.persistence.referenceDelegate instanceof Sc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AD(s,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new DE(s=>Sc.Ei(s,r),this.serializer)}}class tm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new pR}()}createDatastore(t){const r=Fc(t.databaseInfo.databaseId),s=function(f){return new WD(f)}(t.databaseInfo);return function(f,d,g,y){return new nR(f,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,o,f,d,g){return new iR(s,o,f,d,g)}(this.localStore,this.datastore,t.asyncQueue,r=>M_(this.syncEngine,r,0),function(){return R_.C()?new R_:new KD}())}createSyncEngine(t,r){return function(o,f,d,g,y,p,E){const S=new DR(o,f,d,g,y,p);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(o){const f=bt(o);st(xa,"RemoteStore shutting down."),f.aa.add(5),await Co(f),f.ca.shutdown(),f.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):ai("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class qR{constructor(t,r,s,o,f){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{st(Qi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Qi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Lm(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function yd(i,t){i.asyncQueue.verifyOperationInProgress(),st(Qi,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await RE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function U_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await HR(i);st(Qi,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(s=>O_(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>O_(t.remoteStore,o)),i._onlineComponents=t}async function HR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){st(Qi,"Using user provided OfflineComponentProvider");try{await yd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;zs("Error using user provided cache. Falling back to memory cache: "+r),await yd(i,new Dc)}}else st(Qi,"Using default OfflineComponentProvider"),await yd(i,new jR(void 0));return i._offlineComponents}async function FE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(st(Qi,"Using user provided OnlineComponentProvider"),await U_(i,i._uninitializedComponentsProvider._online)):(st(Qi,"Using default OnlineComponentProvider"),await U_(i,new tm))),i._onlineComponents}function GR(i){return FE(i).then(t=>t.syncEngine)}async function FR(i){const t=await FE(i),r=t.eventManager;return r.onListen=RR.bind(null,t.syncEngine),r.onUnlisten=IR.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=CR.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=NR.bind(null,t.syncEngine),r}function YR(i,t,r={}){const s=new ji;return i.asyncQueue.enqueueAndForget(async()=>function(f,d,g,y,p){const E=new BR({next:C=>{E.yu(),d.enqueueAndForget(()=>_R(f,S)),C.fromCache&&y.source==="server"?p.reject(new lt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),S=new AR(g,E,{includeMetadataChanges:!0,Fa:!0});return vR(f,S)}(await FR(i),i.asyncQueue,t,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i,t,r){if(!r)throw new lt(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function QR(i,t,r,s){if(t===!0&&s===!0)throw new lt(W.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function P_(i){if(!mt.isDocumentKey(i))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function k_(i){if(mt.isDocumentKey(i))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":_t(12329,{type:typeof i})}function Rc(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Kc(i);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firestore.googleapis.com",z_=!0;class j_{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=z_}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:z_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ED)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xc{constructor(t,r,s,o){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Z1;switch(s.type){case"firstParty":return new ew(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=L_.get(r);s&&(st("ComponentProvider","Removing Datastore"),L_.delete(r),s.terminate())}(this),Promise.resolve()}}function KR(i,t,r,s={}){var o;const f=(i=Rc(i,Xc))._getSettings(),d=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),g=`${t}:${r}`;f.host!==KE&&f.host!==g&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:!1,emulatorOptions:s});if(!dc(y,d)&&(i._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=on.MOCK_USER;else{p=CS(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(S)}i._authCredentials=new W1(new L0(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Js(this.firestore,t,this._query)}}class Kn{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kn(this.firestore,t,this._key)}}class Bi extends Js{constructor(t,r,s){super(t,r,eE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kn(this.firestore,null,new mt(t))}withConverter(t){return new Bi(this.firestore,t,this._path)}}function XR(i,t,...r){if(i=Or(i),QE("collection","path",t),i instanceof Xc){const s=le.fromString(t,...r);return k_(s),new Bi(i,null,s)}{if(!(i instanceof Kn||i instanceof Bi))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...r));return k_(s),new Bi(i.firestore,null,s)}}function $R(i,t,...r){if(i=Or(i),arguments.length===1&&(t=k0.newId()),QE("doc","path",t),i instanceof Xc){const s=le.fromString(t,...r);return P_(s),new Kn(i,null,new mt(s))}{if(!(i instanceof Kn||i instanceof Bi))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...r));return P_(s),new Kn(i.firestore,i instanceof Bi?i.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class q_{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OE(this,"async_queue_retry"),this.ju=()=>{const s=gd();s&&st(B_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const r=gd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=gd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new ji;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Zs(t))throw t;st(B_,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,ai("INTERNAL UNHANDLED ERROR: ",H_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(t,r,s){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const o=Um.createAndSchedule(this,t,r,s,f=>this.Xu(f));return this.Uu.push(o),o}Ju(){this.Ku&&_t(47125,{ec:H_(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function H_(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class jm extends Xc{constructor(t,r,s,o){super(t,r,s,o),this.type="firestore",this._queue=new q_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new q_(t),this._firestoreClient=void 0,await t}}}function ZR(i,t){const r=typeof i=="object"?i:k1(),s=typeof i=="string"?i:pc,o=M1(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=DS("firestore");f&&KR(o,...f)}return o}function Bm(i){if(i._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WR(i),i._firestoreClient}function WR(i){var t,r,s;const o=i._freezeSettings(),f=function(g,y,p,E){return new yw(g,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,YE(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new qR(i._authCredentials,i._appCheckCredentials,i._queue,f,i._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fs(rn.fromBase64String(t))}catch(r){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Fs(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^__.*__$/;class t2{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Zi(t,this.data,this.fieldMask,r,this.fieldTransforms):new Do(t,this.data,r,this.fieldTransforms)}}class XE{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new Zi(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function $E(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{oc:i})}}class Fm{constructor(t,r,s,o,f,d){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this._c(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Fm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Cc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if($E(this.oc)&&JR.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class e2{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Fc(t)}dc(t,r,s,o=!1){return new Fm({oc:t,methodName:r,Ec:s,path:nn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZE(i){const t=i._freezeSettings(),r=Fc(i._databaseId);return new e2(i._databaseId,!!t.ignoreUndefinedProperties,r)}function n2(i,t,r,s,o,f={}){const d=i.dc(f.merge||f.mergeFields?2:0,t,r,o);Ym("Data must be an object, but it was:",d,s);const g=WE(s,d);let y,p;if(f.merge)y=new In(d.fieldMask),p=d.fieldTransforms;else if(f.mergeFields){const E=[];for(const S of f.mergeFields){const C=em(t,S,r);if(!d.contains(C))throw new lt(W.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);tT(E,C)||E.push(C)}y=new In(E),p=d.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,p=d.fieldTransforms;return new t2(new _n(g),y,p)}class Zc extends qm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zc}}function r2(i,t,r,s){const o=i.dc(1,t,r);Ym("Data must be an object, but it was:",o,s);const f=[],d=_n.empty();$i(s,(y,p)=>{const E=Qm(t,y,r);p=Or(p);const S=o.hc(E);if(p instanceof Zc)f.push(E);else{const C=Io(p,S);C!=null&&(f.push(E),d.set(E,C))}});const g=new In(f);return new XE(d,g,o.fieldTransforms)}function i2(i,t,r,s,o,f){const d=i.dc(1,t,r),g=[em(t,s,r)],y=[o];if(f.length%2!=0)throw new lt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<f.length;C+=2)g.push(em(t,f[C])),y.push(f[C+1]);const p=[],E=_n.empty();for(let C=g.length-1;C>=0;--C)if(!tT(p,g[C])){const P=g[C];let G=y[C];G=Or(G);const K=d.hc(P);if(G instanceof Zc)p.push(P);else{const F=Io(G,K);F!=null&&(p.push(P),E.set(P,F))}}const S=new In(p);return new XE(E,S,d.fieldTransforms)}function a2(i,t,r,s=!1){return Io(r,i.dc(s?4:3,t))}function Io(i,t){if(JE(i=Or(i)))return Ym("Unsupported field value:",t,i),WE(i,t);if(i instanceof qm)return function(s,o){if(!$E(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const f=[];let d=0;for(const g of s){let y=Io(g,o.Pc(d));y==null&&(y={nullValue:"NULL_VALUE"}),f.push(y),d++}return{arrayValue:{values:f}}}(i,t)}return function(s,o){if((s=Or(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=de.fromDate(s);return{timestampValue:bc(o.serializer,f)}}if(s instanceof de){const f=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bc(o.serializer,f)}}if(s instanceof Hm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fs)return{bytesValue:vE(o.serializer,s._byteString)};if(s instanceof Kn){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Dm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gm)return function(d,g){return{mapValue:{fields:{[Y0]:{stringValue:Q0},[vc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Tc("VectorValues must only contain numeric values.");return Am(g.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Kc(s)}`)}(i,t)}function WE(i,t){const r={};return j0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$i(i,(s,o)=>{const f=Io(o,t.uc(s));f!=null&&(r[s]=f)}),{mapValue:{fields:r}}}function JE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof de||i instanceof Hm||i instanceof Fs||i instanceof Kn||i instanceof qm||i instanceof Gm)}function Ym(i,t,r){if(!JE(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Kc(r);throw s==="an object"?t.Tc(i+" a custom object"):t.Tc(i+" "+s)}}function em(i,t,r){if((t=Or(t))instanceof $c)return t._internalPath;if(typeof t=="string")return Qm(i,t);throw Cc("Field path arguments must be of type string or ",i,!1,void 0,r)}const s2=new RegExp("[~\\*/\\[\\]]");function Qm(i,t,r){if(t.search(s2)>=0)throw Cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new $c(...t.split("."))._internalPath}catch{throw Cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Cc(i,t,r,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(f||d)&&(y+=" (found",f&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new lt(W.INVALID_ARGUMENT,g+i+y)}function tT(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,r,s,o,f){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class l2 extends eT{data(){return super.data()}}function Km(i,t){return typeof t=="string"?Qm(i,t):t instanceof $c?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class u2 extends Xm{}function nT(i,t,...r){let s=[];t instanceof Xm&&s.push(t),s=s.concat(r),function(f){const d=f.filter(y=>y instanceof $m).length,g=f.filter(y=>y instanceof Wc).length;if(d>1||d>0&&g>0)throw new lt(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Wc extends u2{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new Wc(t,r,s)}_apply(t){const r=this._parse(t);return rT(t._query,r),new Js(t.firestore,t.converter,Gd(t._query,r))}_parse(t){const r=ZE(t.firestore);return function(f,d,g,y,p,E,S){let C;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){F_(S,E);const G=[];for(const K of S)G.push(G_(y,f,K));C={arrayValue:{values:G}}}else C=G_(y,f,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||F_(S,E),C=a2(g,d,S,E==="in"||E==="not-in");return Oe.create(p,E,C)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Oc(i,t,r){const s=t,o=Km("where",i);return Wc._create(o,s,r)}class $m extends Xm{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new $m(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:lr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(o,f){let d=o;const g=f.getFlattenedFilters();for(const y of g)rT(d,y),d=Gd(d,y)}(t._query,r),new Js(t.firestore,t.converter,Gd(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G_(i,t,r){if(typeof(r=Or(r))=="string"){if(r==="")throw new lt(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(t)&&r.indexOf("/")!==-1)throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(le.fromString(r));if(!mt.isDocumentKey(s))throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(i,new mt(s))}if(r instanceof Kn)return a_(i,r._key);throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(r)}.`)}function F_(i,t){if(!Array.isArray(i)||i.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rT(i,t){const r=function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class c2{convertValue(t,r="none"){switch(Fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return $i(t,(o,f)=>{s[o]=this.convertValue(f,r)}),s}convertVectorValue(t){var r,s,o;const f=(o=(s=(r=t.fields)===null||r===void 0?void 0:r[vc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>Ae(d.doubleValue));return new Gm(f)}convertGeoPoint(t){return new Hm(Ae(t.latitude),Ae(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=zc(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const r=Hi(t);return new de(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=le.fromString(t);Kt(SE(s),9688,{name:t});const o=new po(s.get(1),s.get(3)),f=new mt(s.popFirst(5));return o.isEqual(r)||ai(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(i,t,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(t,r):i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class h2 extends eT{constructor(t,r,s,o,f,d){super(t,r,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(Km("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class cc extends h2{data(t={}){return super.data(t)}}class d2{constructor(t,r,s,o){this._firestore=t,this._userDataWriter=r,this._snapshot=o,this.metadata=new rc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new cc(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new rc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const y=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new rc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:m2(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function m2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:i})}}class g2 extends c2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fs(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Kn(this.firestore,null,r)}}function iT(i){i=Rc(i,Js);const t=Rc(i.firestore,jm),r=Bm(t),s=new g2(t);return o2(i._query),YR(r,i._query).then(o=>new d2(t,s,i,o))}function y2(i,t){return function(s,o){const f=new ji;return s.asyncQueue.enqueueAndForget(async()=>VR(await GR(s),o,f)),f.promise}(Bm(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ZE(t)}set(t,r,s){this._verifyNotCommitted();const o=pd(t,this._firestore),f=f2(o.converter,r,s),d=n2(this._dataReader,"WriteBatch.set",o._key,f,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,sr.none())),this}update(t,r,s,...o){this._verifyNotCommitted();const f=pd(t,this._firestore);let d;return d=typeof(r=Or(r))=="string"||r instanceof $c?i2(this._dataReader,"WriteBatch.update",f._key,r,s,o):r2(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(d.toMutation(f._key,sr.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=pd(t,this._firestore);return this._mutations=this._mutations.concat(new bm(r._key,sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(i,t){if((i=Or(i)).firestore!==t)throw new lt(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i){return Bm(i=Rc(i,jm)),new p2(i,t=>y2(i,t))}(function(t,r=!0){(function(o){Xs=o})(P1),gc(new ho("firestore",(s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new jm(new J1(s.getProvider("auth-internal")),new nw(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(p.options.projectId,E)}(d,o),d);return f=Object.assign({useFetchStreams:r},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),Ps(Qv,Kv,t),Ps(Qv,Kv,"esm2017")})();const aT={apiKey:"AIzaSyDrPgWDo9SLfuctII5iKp-fgR3otdz18f8",authDomain:"iisakwebsite.firebaseapp.com",projectId:"iisakwebsite",storageBucket:"iisakwebsite.firebasestorage.app",messagingSenderId:"762039969899",appId:"1:762039969899:web:0c309c29da0b3565be692e",measurementId:"G-3S237RG2LV"};aT.apiKey||console.error("Firebase config not loaded. Ensure .env file is set up correctly and VITE_ prefixes are used.");const _2=D0(aT),sT=ZR(_2),Je=[];for(let i=0;i<256;++i)Je.push((i+256).toString(16).slice(1));function E2(i,t=0){return(Je[i[t+0]]+Je[i[t+1]]+Je[i[t+2]]+Je[i[t+3]]+"-"+Je[i[t+4]]+Je[i[t+5]]+"-"+Je[i[t+6]]+Je[i[t+7]]+"-"+Je[i[t+8]]+Je[i[t+9]]+"-"+Je[i[t+10]]+Je[i[t+11]]+Je[i[t+12]]+Je[i[t+13]]+Je[i[t+14]]+Je[i[t+15]]).toLowerCase()}let vd;const T2=new Uint8Array(16);function A2(){if(!vd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vd=crypto.getRandomValues.bind(crypto)}return vd(T2)}const b2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Y_={randomUUID:b2};function S2(i,t,r){var o;if(Y_.randomUUID&&!i)return Y_.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??A2();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,E2(s)}const Zm=XR(sT,"bookings"),w2=async i=>{const t=de.fromDate(new Date(i.setHours(0,0,0,0))),r=de.fromDate(new Date(i.setHours(23,59,59,999))),s=nT(Zm,Oc("bookingDate",">=",t),Oc("bookingDate","<",r));try{const f=!(await iT(s)).empty;return console.log(`Date ${i.toDateString()} booked status:`,f),f}catch(o){return console.error("Error checking date booking status: ",o),!1}},D2=async(i,t)=>{const r=[],s=new Date(i);s.setHours(0,0,0,0);for(let o=0;o<t;o++)r.push(new Date(s)),s.setDate(s.getDate()+1);for(const o of r)if(await w2(o))return console.log(`Conflict found: Date ${o.toDateString()} is already booked.`),!0;return!1},R2=async(i,t)=>{const r=new Date(i,t,1),s=new Date(i,t+1,1),o=de.fromDate(r),f=de.fromDate(s),d=nT(Zm,Oc("bookingDate",">=",o),Oc("bookingDate","<",f));try{const y=(await iT(d)).docs.map(p=>p.data().bookingDate);return console.log(`Fetched ${y.length} booked dates for ${i}-${t+1}`),y}catch(g){return console.error("Error fetching booked dates for month: ",g),[]}},C2=async i=>{const{name:t,email:r,streetAddress:s,zipCode:o,phone:f,numberOfDays:d,detergent:g,extraInfo:y,startDate:p}=i;if(await D2(p,d))return console.warn(`Attempted to book an already booked date range starting ${p.toDateString()}`),{success:!1,error:new Error("One or more dates in the selected range are already booked.")};const S=v2(sT),C=S2(),P=new Date(p);for(let G=0;G<d;G++){const K=de.fromDate(new Date(P.setHours(0,0,0,0))),F=$R(Zm);S.set(F,{name:t,email:r,streetAddress:s,zipCode:o,phone:f,detergent:g,extraInfo:y,bookingDate:K,bookingGroupId:C,sequence:G+1,totalDays:d}),P.setDate(P.getDate()+1)}try{return await S.commit(),console.log(`Booking added for ${d} days starting ${p.toDateString()} with Group ID: ${C}`),{success:!0,bookingGroupId:C}}catch(G){return console.error("Error adding multi-day booking: ",G),{success:!1,error:G}}};function O2(){const[i,t]=It.useState(null),[r,s]=It.useState([]),[o,f]=It.useState(!1),[d,g]=It.useState(null),[y,p]=It.useState(new Date),E=It.useCallback(async C=>{f(!0),g(null);try{const P=C.getFullYear(),G=C.getMonth(),F=(await R2(P,G)).map(et=>{const ot=et.toDate();return`${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}-${String(ot.getDate()).padStart(2,"0")}`});s(F)}catch(P){console.error("Error in useBookings fetching booked dates: ",P),g("Failed to load booking availability."),s([])}finally{f(!1)}},[]);It.useEffect(()=>{E(y)},[y,E]);const S=It.useCallback(()=>{E(y)},[y,E]);return{selectedDate:i,setSelectedDate:t,bookedDates:r,isLoading:o,error:d,activeStartDate:y,setActiveStartDate:p,refreshBookedDates:S}}function I2({totalCost:i}){const[t,r]=It.useState(!1),s=It.useRef(!0);return It.useEffect(()=>{if(s.current){s.current=!1;return}if(i<=0)return;r(!0);const o=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(o)},[i]),i<=0&&!t?null:J.jsxs("div",{className:"floating-total-container",children:[J.jsx("span",{className:"total-label",children:"Summa:"}),J.jsxs("span",{className:`total-amount ${t?"flash-active":""}`,children:[i," "]})]})}function N2(){const{selectedDate:i,setSelectedDate:t,bookedDates:r,isLoading:s,error:o,activeStartDate:f,setActiveStartDate:d,refreshBookedDates:g}=O2(),[y,p]=It.useState(1),[E,S]=It.useState(!1),[C,P]=It.useState(0);It.useEffect(()=>{let et=0;y>=1&&(et=35,et+=(y-1)*10),E&&(et+=15),P(et)},[y,E]);const G=async et=>{var vt;if(!i){alert("Something went wrong, no date selected.");return}const ot={...et,numberOfDays:y,detergent:E,startDate:i};console.log("Submitting booking:",ot);const ct=await C2(ot);ct.success?(alert("Booking successful!"),t(null),g()):alert(`Booking failed: ${((vt=ct.error)==null?void 0:vt.message)||"Unknown error"}`)},K=et=>{const ot=`${et.getFullYear()}-${String(et.getMonth()+1).padStart(2,"0")}-${String(et.getDate()).padStart(2,"0")}`;r.includes(ot)?(t(null),alert("This date is already booked.")):t(et)},F=({date:et,view:ot})=>{if(ot==="month"){const ct=new Date;if(ct.setHours(0,0,0,0),et<ct)return!0;const vt=`${et.getFullYear()}-${String(et.getMonth()+1).padStart(2,"0")}-${String(et.getDate()).padStart(2,"0")}`;return r.includes(vt)}return!1};return J.jsxs("div",{className:"app-container",children:[" ",J.jsx("h1",{className:"main-title",children:"IISAKIN TEKSTIILIPESURI"}),J.jsxs("div",{className:"info-box",children:[J.jsx("h2",{className:"subtitle",children:"35  / piv + 10  / lispiv (pesuaine + 15 )"}),J.jsx("p",{className:"instructions",children:"VALITSE SOPIVA PIV KALENTERISTA JA VARAA."})]}),J.jsxs("div",{className:"calendar-container",children:[o&&J.jsxs("p",{className:"error-message",children:["Error loading availability: ",o]}),s&&J.jsx("p",{children:"Loading availability..."}),J.jsx(mS,{onChange:K,value:i,tileDisabled:F,onActiveStartDateChange:({activeStartDate:et})=>d(et),activeStartDate:f})]}),i&&J.jsx("div",{className:"booking-form-container",children:J.jsx(gS,{selectedDate:i,onSubmit:G,numberOfDays:y,detergent:E,onNumberOfDaysChange:p,onDetergentChange:S})}),i&&J.jsx(I2,{totalCost:C})]})}BA.createRoot(document.getElementById("root")).render(J.jsx(It.StrictMode,{children:J.jsx(N2,{})}));
